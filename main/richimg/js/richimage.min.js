!function(d,h){d.flyRequire=d.flyRequire||{};var c={};var b=function(e){return{waitList:[],waitCount:0,callback:null,definition:null,dependencies:null,async:null,id:e}};var a=function(g){for(var e=0;e<g.waitList.length;e++){var i=g.waitList[e];i.waitCount--;if(i.callback&&i.waitCount===0){f(i)}}};var f=function(i){var e=[];for(var j=0;j<i.dependencies.length;j++){var k=i.dependencies[j];var g=c[k];e.push(g.definition)}if(i.async){e.push(function(l,m){if(l){i.definition=m;a(i)}});i.callback.apply(h,e)}else{i.definition=i.callback.apply(h,e);a(i)}};flyRequire.define=function(e,m,l,k){k=k||false;c[e]=c[e]||b(e);var j=c[e];j.callback=l;j.dependencies=m;j.async=k;for(var g=0;g<m.length;g++){var o=m[g];!c[o]&&(c[o]=b(o));var n=c[o];if(!n.definition){n.waitList.push(j);j.waitCount++}}if(j.callback&&j.waitCount===0){f(j)}};flyRequire.defineAsync=function(e,i,g){this.define(e,i,g,true)}}(window);flyRequire.define("namespace",[],function(){window.__richimage===undefined&&(window.__richimage={});window.__flyconfig!==undefined&&(window.__richimage.config=window.__flyconfig);return window.__richimage});flyRequire.define("util",[],function(){function p(c){var a=c.indexOf("://");if(a===-1){if(c.substring(0,2)==="//"){a=2}else{a=0}}else{a=a+3}var b=c.indexOf("/",a);if(b===-1){b=c.indexOf("?",a);if(b===-1){b=c.length}}c=c.substring(a,b);b=c.indexOf(":");if(b!=-1){c=c.substring(0,b)}return c}function x(){return("https:"==document.location.protocol)?"https:":"http:"}function v(a){if(!a){return""}var c=a.indexOf("/",8);var b=a.indexOf("?",8);var d=c<0?b:b<0?c:Math.min(c,b);if(d>0){return a.substring(0,d)}return a}function o(b){var c;try{c=decodeURIComponent(b)}catch(a){c=null}return c?encodeURI(c):encodeURI(b)}function z(a){return a.replace(/;\$?\d+$/,"")}function w(b){b=String(b);var c=b.lastIndexOf(";");if(c>0&&c<b.length-1){var a=b.slice(c+1);return a}if(/^\d+$/.test(b)){return b}return""}function A(b,c,d){var e="";var g=c?"!important":"";var f,a;for(f in b){if(b.hasOwnProperty(f)){a=b[f];if(d&&!isNaN(a)&&parseInt(a,10)!==0){a=a+"px"}e+=(f+":"+a+g+";")}}return e}function u(){if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=parseFloat(RegExp.$1);if(a<=8){return true}}return false}function y(a){return(a===undefined)}function q(){var b=0;var a=0;if(!window.innerWidth){if(document.documentElement.clientWidth!==0){b=document.documentElement.clientWidth;a=document.documentElement.clientHeight}else{b=document.body.clientWidth;a=document.body.clientHeight}}else{b=window.innerWidth;a=window.innerHeight}return{w:b,h:a}}function t(a){var h=a.getBoundingClientRect();var g=document.body;var c=document.documentElement;var d=window.pageYOffset||c.scrollTop||g.scrollTop;var j=window.pageXOffset||c.scrollLeft||g.scrollLeft;var i=c.clientTop||g.clientTop||0;var f=c.clientLeft||g.clientLeft||0;var e=h.top+d-i;var b=h.left+j-f;return{top:Math.round(e),left:Math.round(b)}}var r=(function(){return document.documentElement&&typeof(document.documentElement.ontouchstart)!="undefined"}());function s(a){return a.parents("div[tl-channel-id]").attr("tl-channel-id")}function B(b,c){var a;for(a in c){if(c.hasOwnProperty(a)){b[a]=c[a]}}return b}return{cleanURIEncoding:o,extractUrl:z,extractSceneId:w,mapToCssText:A,browserIsUnsupported:u,no:y,getWindowSize:q,getOffsetRect:t,getDomain:p,getProtocol:x,getSourceDomain:v,isTouchDevice:r,getChannelId:s,extend:B}});flyRequire.define("adMatcher",[],function(){function c(){var a=["1.\\d+.\\d+.\\d+","127.0.0.\\d+","localhost","46.45.138.126","abs.twimg.com","ad.doubleclick.net","ad.flatmaids.de","ad.zanox.com","ad.adriver.ru","ad.admitad.com","ad.dumedia.ru","ad.linksynergy.com","ad-cdn.technoratimedia.com","ad\\d.adfarm1.adition.com","ad1.emediate.dk","ad.retargeter.com","adsfac.eu","adfarm.mediaplex.com","adfile.tattermedia.com","admax.quisma.com","admeta.vo.llnwd.net","adscale.nuggad.net","adserver.wesee.com","ads.foodbuzz.com","ads.giovannicintolo.com","ads.guava-affiliate.com","ads.heias.com","ads.jetpackdigital.com","ads.nelly.com","ads.newtentionassets.net","ads.studentmedia.ucla.edu","ads.thinglink.com","ads.jetpackdigital.com","adtag.neodatagroup.com","adtracker.meinungsstudie.de","aka-cdn-ns.adtech.de","ads\\d.unitymedia.de","analytics.sanoma.fi","analytics.spongecell.com","api.zanox.ws","api.here.com","ariel1.spaceprogram.com","asn.advolution.de","as.aug.me","avatars.scribblelive.com","b.aol.com","b.kavanga.ru","b.thebestlinks.com","b.scorecardresearch.com","bid.openx.net","brandnamic.adclear.net","brightcove.vo.llnwd.net","bs.serving-sys.com","cas.criteo.com","cepep.co","cdn.flashtalking.com","c.statcounter.com","counters.gigya.com","cdn\\d*.gigya.com","counter.rambler.ru","creatives.klikki.com","cxpfy.com","d.shareaholic.com","delatv.com","d1.openx.org","delivery.ctasnet.com","engine.adzerk.net","fapp.im","fraction8.com","geo.yahoo.com","getpocket.com","g.doubleclick.net","gravatar.com","\\w+.gmads.mookie1.com","hits.e.cl","i-cdn.servedbyopenx.com","imp\\w?\\w?.tradedoubler.com","imagesrv.adition.com","img-cdn.mediaplex.com","pictela.net","jptracking.elasticbeanstalk.com","\\w+.googleapis.com","khm\\d.google.com","l.betrad.com","\\w+.lijit.com","links.es","leerya.net","\\d+.maps.nlp.nokia.com","mdsad.com","mt\\d.googleapis.com","malvin.tv","maps.googleapis.com","next.playad.se","notici.me","notifreak.com","networkanalytics.net","oas.theblondesalad.com","otile\\d.mqcdn.com","pagead\\d.googlesyndication.com","paypal.com","peliculasid.biz","pictela.net","pixel.wp.com","pulsemaps.com","readitlaterlist.com","remnant.fmpub.net","reports.wizebar.com","s0.2mdn.net","s\\d+.adform.net","s\\d+.addthis.com","s\\d+.shinystat.com","stats.wordpress.com","sitemeter.com","sm\\d+.sitemeter.com","tag.admeld.com","t.qservz.com","t.socialgrowthtechnologies.com","tags.bluekai.com","tessera\\d+.intellicast.com","tile.openstreetmap.org","\\w+.tile.openstreetmap.org","track.adform.net","track.admaxim.com","tracking.hubspot.com","traffic.shareaholic.com","trk.lqw.me","trk-\\w+.tidaltv.com","us-ads.openx.net","view.adtraxx.de","videosomg.com","widgets.kiosked.com","w.uptolike.com","www.ftjcfx.com","www.getfreebacklinks.com","www.google.com","www.w3counter.com","www\\d+.a8.net","www.divxatope.com","www.etracker.de","www.callefina.com","www.googleadservices.com","www.google-analytics.com"];return new RegExp("//("+a.join("|").replace(".","\\.")+")")}var d=c();return d});flyRequire.define("globalCache",["jQuery"],function(i){var h=i();function f(a){h=h.add(a)}function g(){return h}function j(){h=i()}return{addQueriedImage:f,getQueriedImages:g,clear:j}});flyRequire.define("config",["namespace","util"],function(t,s){function p(){var c="http://thinglink.local:8080/thinglink",b="https://thinglink.local:8443/thinglink",d="https://localhost:8000",a="https://localhost:8000";if(v.address.charAt(0)=="@"){v.address=c;v.clientId="666666666"}if(v.videoAddress.charAt(0)=="@"){v.videoAddress=d}if(v.sslVideoAddress.charAt(0)=="@"){v.sslVideoAddress=a}if(v.sslAddress.charAt(0)=="@"){v.sslAddress=b}if(v.embedAddress.charAt(0)=="@"){v.embedAddress=c}if(v.staticAddress.charAt(0)=="@"){v.staticAddress=c}if(v.staticSslAddress.charAt(0)=="@"){v.staticSslAddress=b}if(v.staticAddress.charAt(0)=="/"){v.staticAddress=s.getProtocol()+v.staticAddress}if(v.cssNonce.toString().charAt(0)=="@"){v.cssNonce=Math.round(Math.random()*Math.pow(10,8))}}var v=s.extend({address:"http://www.thinglink.com",sslAddress:"https://www.thinglink.com",videoAddress:"https://video.thinglink.com",sslVideoAddress:"https://video.thinglink.com",staticAddress:"//cdn.thinglink.me",staticSslAddress:"https://cdn.thinglink.me",embedAddress:"//cdn.thinglink.me",cssNonce:"334114934665",clientId:"310115790974091265",fbAppId:"163019823751039",wlFbAppId:"448074751917449",usePromotionBanner:false,minWidth:130,minHeight:130,activateImage:function(a){$flyJQ(a).tlImage("scrollTo")},initAfterLoad:true,showPoweredBy:true,eventManager:false,disableContextMenu:false,fourDotsInfo:true,vOverflow:null,hOverflow:null,referer:undefined,nubbinSneakPeek:true,makeNubbinsSticky:false,makeSidebarSticky:false,extraSidebarIcons:[],preventNavigation:false,disableMenuItems:false,forceSecure:false,initialNubbinShowDuration:5000,eventCallback:null,language:null,manualViewStats:false,highlightCallback:null},t.config);p();if(window.location.search.indexOf("thinglinkLocal")!==-1){var l="www.thinglink.com";v.address="http://"+l;v.sslAddress="https://"+l}function r(){return("https:"==document.location.protocol)?v.sslAddress:v.address}function n(){return v.sslAddress}function m(){return("https:"==document.location.protocol)?v.sslVideoAddress:v.videoAddress}function q(){return("https:"==document.location.protocol)?v.staticSslAddress:v.staticAddress}function o(){var b=r();if(window.top!==window){return false}var a=window.location.href;return a.indexOf(b)!=-1}function u(a){if(!v.language&&a){v.language=a}}v.getCDNUrl=q;v.getBaseUrl=r;v.getApiBaseUrl=n;v.getBaseVideoUrl=m;v.isThinglinkSite=o;v.setRequestLanguage=u;t.config=v;return v});flyRequire.define("sceneCache",[],function(){var d={};function e(a,b){d[a]=b}function f(a){return d[a]}return{getCacheSceneId:f,setCacheSceneId:e}});flyRequire.define("statusManager",["namespace","config","callbackManager"],function(g,h,e){function f(a){g.status=a;if(h.eventManager&&h.eventManager.trigger){h.eventManager.trigger("statusChanged",a)}e.triggerEvent(a)}return{setStatus:f}});flyRequire.define("callbackManager",[],function(){var b=(function(){var a={};return{runAfter:function(f,e){if(a[f]&&a[f].length===0){e()}else{if(!a[f]){a[f]=[e]}else{a[f].push(e)}}},triggerEvent:function(d){if(a[d]){while(a[d].length>0){(a[d].shift())()}}else{a[d]=[]}}}}());return b});flyRequire.defineAsync("jQuery",["init","util","statusManager"],function(h,f,j,g){var i=(function(){var e;function b(r){var s="flyRichImageJQueryScript";if(!window.__flyRichImageInitStarted){window.__flyRichImageInitStarted=true;if(window.$flyJQ||typeof jQuery==="function"){window.$flyJQ=typeof jQuery==="function"&&jQuery;r()}else{var q=document.createElement("script");q.type="text/javascript";q.id=s;var t=function(){window.$flyJQ=jQuery.noConflict(true);r()};if(q.addEventListener){q.addEventListener("load",t,false)}else{q.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded"){t()}}}q.setAttribute("src",f.getProtocol()+"//www.zmiti.com/static/js/jquery-1.11.0.min.js");var p=document.getElementsByTagName("head")[0];p.appendChild(q)}}}function a(l){if(e){e()}if(document.readyState==="interactive"){l()}else{if(typeof(document.documentElement.style.WebkitAppearance)!=="undefined"&&document.readyState==="loaded"){l()}else{$flyJQ(document).ready(l)}}}function c(l){b(function(){a(l)})}function d(l){e=l}return{loadJQuery:c,initCallback:d}}());i.initCallback(function(){j.setStatus("initcomplete")});i.loadJQuery(function(){j.setStatus("jqueryready");g(true,window.$flyJQ)})});flyRequire.define("jQueryRichImage",["jQuery","adMatcher","config","globalCache"],function(i,g,j,h){function f(){var a=/^data:/;var b=/^https?:\/\/mt\d+\.google\.com\//;var c={sceneData:function(d){if(!d){return this.data("scene")}else{this.data("scene",d)}},hasSize:function(){if(this.richImage("isLoaded")){return true}else{var d=(this.height()!==0)&&(this.width()!==0);var e=!(this.height()===24&&this.width()===24);var n=!(this.height()===0&&this.width()===0);var o=!(this.height()===1&&this.width()===1);var p=!(document.body.attachEvent&&window.ActiveXObject&&this.width()===28&&this.height()===30);return d&&e&&p&&n&&o}},isLoaded:function(){return(this[0].complete||this[0].readyState===4)},isInspectedByThinglink:function(){return h.getQueriedImages().is(this)||this.hasClass("thinglinkImage")||this.hasClass("thinglinkFiltered")},isWhitelabel:function(){var d=this.tlImage("sceneData");return d.branding!==undefined&&d.branding!=="thinglink"},hasThinglinkBadge:function(){var d=this.tlImage("sceneData");return d.indicator===undefined},isAlwaysThinglink:function(){var d=this;return d.hasClass("alwaysThinglink")},isOk:function(){var e=this;if(e.richImage("isAlwaysThinglink")){return true}if(e.closest(".neverThinglink").length){return false}if(e.css("display")=="none"){return false}var m=e.attr("src");if(g.test(m)||a.test(m)||b.test(m)){return false}var d=["#lightboxImage","#lightbox-image",".cboxPhoto","#fancybox-img",".fancybox-image"];var n=false;i.each(d,function(k,l){if(e.is(l)){n=true;return false}});if(n){return false}if(!e.tlImage("hasSize")){return true}if(window.screen&&(screen.width<=480)){return(e.width()>screen.width/3)&&(e.height()>screen.width/3)}return(e.height()>=j.minHeight&&e.width()>=j.minWidth)},scrollTo:function(){var d=this;var e;if(Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0){e=i("body")}else{e=i("html,body")}var l=e.scrollTop();i(window).load(function(){var k=d.offset().top-40;if(Math.abs(e.scrollTop()-l)<50){e.stop().animate({scrollTop:k},"fast")}})}};i.fn.richImage=function(d){return c[d].apply(this,Array.prototype.slice.call(arguments,1))}}f();return i.fn.richImage});flyRequire.define("cssInjector",["jQuery","config"],function(e,c){function a(b,k,j){var d="";if(j){d=' media="screen"'}if(e("head").has("#"+b).length===0){var l=e('<link id="'+b+'" type="text/css" rel="stylesheet" href="'+k+'"'+d+"></link>").appendTo(e("head"));if(typeof(document.addEventListener)==="undefined"){l.attr({href:k,rel:"stylesheet",type:"text/css",id:b})}}}function f(){if(!document.getElementById("flyInjectedCss")){a("flyInjectedCss","css/richimg.css")}}return{injectEmbedCSS:f,addExternalCss:a}});flyRequire.define("init",["namespace","util","config","sceneCache","statusManager"],function(j,g,f,h,i){if(window.console===undefined){window.console={log:function(){},warn:function(){},error:function(){}}}(function(){j.init=function(){if(document.all&&!document.querySelector){return}var s=document.getElementsByTagName("script");var v;var e=s.length;while(e>0){e--;var t=s[e].getAttribute("src");if(t&&(t.indexOf(".zmiti.com")!=-1||t.indexOf(".zmiti.me")!=-1||t.indexOf("zmiti.local")!=-1||(f.isThinglinkSite()&&(t.indexOf("embed")!=-1)))){v=s[e];break}}var c;if(v){var d=v.getAttribute("tl-script-loaded");if(g.no(d)||d==="null"||d===null){c=v.src.replace(/^[^\#]+\#?/,"");v.setAttribute("tl-script-loaded",true)}}if(c){if(/^\d+$/.test(c)){var q=document.getElementsByTagName("img");var r=q[q.length-1];r.setAttribute("tl-scene-id",c);h.setCacheSceneId(r.src,c)}else{var b=v.getAttribute("height",2);var u=v.getAttribute("width",2);if(g.no(b)||b==="null"||b===null){b=null}if(g.no(u)||u==="null"||u===null){u=null}a(c,b,u,v)}}if(g.browserIsUnsupported()){return}};function a(d,p,e,b){var o=g.extractSceneId(d);var c=document.createElement("img");c.src=g.extractUrl(d);if(o.length>0&&o!=="0"){c.setAttribute("tl-scene-id",o)}var n={};if(p!==null){n.height=p}else{n["max-height"]=window.innerHeight+"px"}if(e!==null){n.width=e}else{n["max-width"]="100%"}c.style.cssText=g.mapToCssText(n,true);b.parentNode.insertBefore(c,b)}i.setStatus("loadcomplete")}());if(j.config.initAfterLoad){j.init()}return j.init});flyRequire.define("main",["jQuery","cssInjector","ltFlyText"],function(d,b,a){b.injectEmbedCSS();d.ajax({url:"js/richimg.json?callback="+new Date().getTime(),dataType:"json",type:"GET",success:c});function c(i){var j=d(".richimg");var g=j.parent();d(".richimg").remove();g.append("<div class='richimg-parent'></div>");d(".richimg-parent").append(j);var f=i.richImgData;var h=i.globalConfig;var e=f.tags;e.forEach(function(k,l){a(k)})}});flyRequire.define("ltFlyBaseTag",["jQuery"],function(b){var a=function(d,e){d=d||{};var c=this;c.id=d.id||"";c.name=d.name||"";c.type=d.type||"text";c.icon=d.icon||"";c.parent=b(".richimg").parent();c.style=d.styles||{};c.wrapStyles=d.wrapStyles||{};c.flyCopy(e)};a.prototype.flyCopy=function(e){var d=this;for(var c in d){if(typeof c==="string"){e[c]=d[c]}else{if(typeof c==="object"&&c!==null){arguments.callee(c)}}}};return function(c,d){return new a(c,d)}});flyRequire.define("ltFlyText",["jQuery","ltFlyBaseTag"],function(b,a){var c=function(e){var d=this;e=e||{};d.content=e.content||"";d.href=e.href||"#";a.call(d,e,d);d.create()};c.prototype.create=function(){var f=this;var e="<div class='lt-fly-text-tag lt-fly-tag'></div>";if(f.href.charAt(0)==="#"&&f.href.length===1){var g="<div id='"+f.id+"-show' class=' lt-fly-icon-wrapper lt-fly-text-icon-wrapper'>"+f.content+"<div class='triangle'></div></div>"}else{var g="<div id='"+f.id+"-show' class=' lt-fly-icon-wrapper lt-fly-text-icon-wrapper'><a href='"+f.href+"' target='_blank'>"+f.content+"</a><div class='triangle'></div></div>"}var d=b("<div id='"+f.id+"-tag-container' class='fly-tag-container'></div>");d.append(e,g);f.parent.append(d);setTimeout(function(){var k=parseFloat(f.wrapStyles.width),m=parseFloat(f.style.left)/100*f.parent.width()-k/2+16,h=parseFloat(f.wrapStyles.height),l=parseFloat(f.style.top)/100*f.parent.height()-h-10,i=parseFloat(f.style.left)/100*f.parent.width(),o=24;var n=b("#"+f.id+"-show");var j={left:m,top:l};if(l<0){j.top=parseFloat(f.style.top)/100*f.parent.height()+o+10;n.find(".triangle").addClass("down")}else{n.find(".triangle").addClass("up")}if(m<0){j.left=0;n.find(".triangle").css({left:i+o/2})}if(f.parent.width()-m<k){j.left="auto";j.right=0;n.find(".triangle").css({left:k-(f.parent.width()-i)+o/2})}b("#"+f.id+"-show").css(j).css(f.wrapStyles);b("#"+f.id+"-tag-container .lt-fly-text-tag").css(f.style).css({width:24,height:24,background:"url("+f.icon+") no-repeat center"})},1)};return function(d){return new c(d)}});