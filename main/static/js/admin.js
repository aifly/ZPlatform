webpackJsonp([2],{0:function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}},o=r(1),l=e(o),s=r(18),u=e(s),c=r(29),d=r(644),f=e(d),m=r(1328),p=e(m),h=r(1332),g=e(h),y=r(1323),v=e(y),w=r(1331),b=e(w),k=r(1330),E=e(k),x=r(1334),O=e(x),I=r(1327),N=e(I),S=r(1333),j=e(S),C=r(1329),T=e(C),M=r(1326),z=e(M),P=function(e){function r(e){t(this,r),n(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,e)}return a(r,e),i(r,[{key:"render",value:function(){var e=[{path:"/",app:p.default},{path:"/user/:title",app:g.default},{path:"/company/:title",app:v.default},{path:"/system/:title",app:b.default},{path:"/product/",app:E.default},{path:"/workorder/:title",app:O.default},{path:"/editorder/(:id)",app:N.default},{path:"/vieworder/(:id)",app:j.default},{path:"/listorder/:title",app:T.default},{path:"/datum/",app:z.default}];return l.default.createElement(c.Router,{history:c.hashHistory},e.map(function(e,t){return l.default.createElement(c.Route,{key:t,path:e.path,component:e.app})}))}},{key:"componentWillMount",value:function(){window.obserable=new f.default,window.mainLeftSize=180,window.getCookie=function(e){for(var t=e+"=",r=document.cookie.split(";"),a=0;a<r.length;a++){for(var i=r[a];" "==i.charAt(0);)i=i.substring(1);if(i.indexOf(t)!=-1)return i.substring(t.length,i.length)}return""}}},{key:"componentDidMount",value:function(){window.addEventListener("resize",function(){window.obserable.trigger({type:"setAdminMenu"}),window.obserable.trigger({type:"setAdminHeight"})})}}]),r}(l.default.Component);u.default.render(l.default.createElement(P,{isAdmin:!0}),document.getElementById("fly-main"))}).call(this)}finally{}},75:function(e,t,r){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}},s=r(1),u=a(s),c=r(12);r(269);var d=r(29),f=r(263),m=a(f),p=r(17),h=c.Menu.SubMenu,g=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={defaultClass:"fly-left-aside",isOpen:!0,current:"3",currentAcc:"iLinten@qq.com",rightWidth:0,userid:"",getusersigid:""}}return n(t,e),o(t,[{key:"menuClickHandler",value:function(e){}},{key:"handleClick",value:function(e){}},{key:"toggleMenu",value:function(){var e=this;"fly-left-aside"===this.state.defaultClass?(window.mainLeftSize=60,this.setState({defaultClass:"fly-left-aside unfold",isOpen:!1,rightWidth:document.documentElement.clientWidth-window.mainLeftSize})):(this.setState({defaultClass:"fly-left-aside"}),window.mainLeftSize=180,setTimeout(function(){e.setState({isOpen:!0,rightWidth:document.documentElement.clientWidth-window.mainLeftSize})},200))}},{key:"render",value:function(){this.userManagerMenuConfig=[{linkTo:"/user/个人账户管理",key:"user",title:"个人账户管理",isIcon:!0,type:"user",isShow:!0},{linkTo:"/company/公司账户管理",key:"company",title:"公司账户管理",isIcon:!0,type:"customerservice",isShow:!0}],this.productServiceMenuConfig=[{linkTo:"/product/",key:"product",title:"新增产品",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/listorder/工单管理",key:"workorder",title:"工单管理",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/datum/",key:"datum",title:"资料管理",isIcon:!0,type:"edit",isShow:!0}],4===this.usertypesign&&this.userManagerMenuConfig.push({linkTo:"/system/系统账户管理",key:"system",title:"系统账户管理",isIcon:!0,type:"edit",isShow:!0});var e=window.location.hash,t="sub5";this.productServiceMenuConfig.forEach(function(r,a){e.indexOf(r.key)>-1&&(t="sub6")});var r={usertypesign:this.usertypesign,currentAcc:this.state.currentAcc,userid:this.userid,type:"admin",getusersigid:this.getusersigid,logo:"../static/images/logo.png"};return u.default.createElement("section",{className:"main"},u.default.createElement(m.default,r),u.default.createElement("article",{className:"fly-content"},u.default.createElement("section",{className:this.state.defaultClass},u.default.createElement("div",{className:"fly-toggle-menu",onClick:this.toggleMenu.bind(this)},u.default.createElement(c.Icon,{type:"menu-fold",style:{display:this.state.isOpen?"inline-block":"none"}}),u.default.createElement(c.Icon,{type:"menu-unfold",style:{display:this.state.isOpen?"none":"inline-block"}})),u.default.createElement("div",{className:"fly-menu-c"},u.default.createElement(c.Menu,{style:{width:182},defaultOpenKeys:[t],selectedKeys:[this.state.current],mode:"inline"},u.default.createElement(h,{key:"sub5",title:u.default.createElement("span",null,u.default.createElement(c.Icon,{type:"setting",style:{marginRight:"22px"}}),u.default.createElement("span",null,"用户管理"))},this.userManagerMenuConfig.map(function(e){return u.default.createElement(c.Menu.Item,{key:e.key},u.default.createElement(c.Icon,{type:e.type,style:{marginRight:"32px"}}),u.default.createElement(d.Link,{to:e.linkTo},e.title))})),u.default.createElement(h,{key:"sub6",title:u.default.createElement("span",null,u.default.createElement(c.Icon,{type:"setting",style:{marginRight:"22px"}}),u.default.createElement("span",null,"操作管理"))},this.productServiceMenuConfig.map(function(e){return u.default.createElement(c.Menu.Item,{key:e.key},u.default.createElement(c.Icon,{type:e.type,style:{marginRight:"32px"}}),u.default.createElement(d.Link,{to:e.linkTo},e.title))}))))),u.default.createElement("section",{className:"fly-right-aside",style:{width:this.state.rightWidth}},this.props.component)))}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,r=e.validateUser,a=e.loginOut,i=e.resizeLeftMenu;t(this,"setAdminHeight"),i(this,"setAdminMenu");var n=r(function(){a(void 0,void 0,!1)}),o=n.userid,l=n.getusersigid,s=n.companyid,u=(n.username,n.isover),c=n.usertypesign;this.userid=o,this.getusersigid=l,this.companyid=s,this.isover=u,this.usertypesign=c,this.loginOut=a,this.usertypesign!==window.Role.NORMALADMINUSER&&this.usertypesign!==window.Role.SUPERADMINUSER&&a("您没有访问的权限",window.mainUrl,!1)}},{key:"componentDidMount",value:function(){var e=window.location.hash,t=this.userManagerMenuConfig.concat(this.productServiceMenuConfig),r="";t.forEach(function(t){e.indexOf("#"+t.linkTo)>-1&&(r=t.key)}),this.setState({current:r,rightWidth:document.documentElement.clientWidth-180,userid:this.userid,isover:this.isover,getusersigid:this.getusersigid})}}]),t}(s.Component);t.default=(0,p.ZmitiValidateUser)(g),e.exports=t.default}).call(this)}finally{}},1195:function(e,t,r){t=e.exports=r(13)(),t.push([e.id,"body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}",""])},1196:function(e,t,r){t=e.exports=r(13)(),t.push([e.id,".order-main-ui table{margin-top:20px}.order-main-ui table td,.order-main-ui table th{text-align:center!important}.order-main-ui table a{color:#06c}",""])},1197:function(e,t,r){t=e.exports=r(13)(),t.push([e.id,"body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}",""])},1198:function(e,t,r){t=e.exports=r(13)(),t.push([e.id,'body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}li,ol,ul{list-style:none;margin:0;padding:0}.hr10,.hr15{clear:both;line-height:0;font-size:0}.hr10{height:10px}.hr15{height:15px}.pad-5{padding:5px}.pad-10{padding:10px}.pad-15{padding:15px}.pad-20{padding:20px}.zmiti-vieworder-main-ui{font-size:12px;overflow:auto}.zmiti-vieworder-main-ui .zmiti-vieworder-header-inner{padding-left:8px;margin-top:10px;position:relative}.zmiti-vieworder-main-ui .zmiti-vieworder-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.zmiti-vieworder-main-ui .zmiti-workorder-button-right button{float:right;margin-top:5px}.zmiti-vieworder-main-ui .zmiti-workorder-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.zmiti-vieworder-main-ui .workorder-table{border:1px solid #e1e6eb;margin-top:15px;background:#fff}.zmiti-vieworder-main-ui .workorder-table .ant-layout-header{background:#f5f6fa;border-left:4px solid #6d7781;padding-left:16px;height:38px;line-height:38px;overflow:hidden;border-bottom:1px solid #e1e6eb}.zmiti-vieworder-main-ui .questionTitle{color:#999}.zmiti-vieworder-main-ui .red{color:red}.zmiti-vieworder-main-ui .error-table{border:1px solid red;color:red}.zmiti-vieworder-main-ui .workorderquestion-inputContent{height:100px}.text-right{text-align:right}.view-questionInfo{background-color:#efefef;padding:10px}.gutter-example{color:#000;line-height:2}.gutter-example span{color:#666}.view-titPane{background-color:#efefef;border-left:5px solid #999;border-top:1px solid #ccc;line-height:2;padding-left:10px;color:#333}.view-questionLists,.view-titPane{border-right:1px solid #ccc;border-bottom:1px solid #ccc}.view-questionLists{border-left:1px solid #ccc;padding:0 15px 15px;margin:0}.view-questionLists ul{width:100%;overflow:hidden}.view-questionLists li{padding:10px 0 10px 70px;min-height:70px;position:relative;margin:0;border-bottom:1px dashed #ccc;color:#666;width:100%}.view-questionLists li:last-child{border-bottom:none}.view-questionLists li.messageDiv{color:#000;padding-left:10px}.view-questionLists li.messageDiv .view-faceIco{display:none}.view-questionLists li.questionFinish{background-color:#eafbff}.view-faceIco{position:absolute;left:10px;top:10px}.view-faceIco img{width:50px;height:50px;border-radius:50%}.view-questionForm{border-left:1px solid #ccc;border-right:1px solid #ccc;border-bottom:1px solid #ccc;padding:10px 15px;margin:0}.view-questionForm form{width:100%}.view-questionForm .view-tit-label{line-height:24px}.view-questionForm textarea{outline:none;resize:none;border-color:#d9d9d9}.view-questionForm p{margin:10px 0}',""])},1199:function(e,t,r){t=e.exports=r(13)(),t.push([e.id,'body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}.zmiti-listorder-main-ui{font-size:12px}.zmiti-listorder-main-ui .zmiti-listorder-header-inner{padding-left:8px;margin-top:10px;position:relative}.zmiti-listorder-main-ui .zmiti-listorder-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.zmiti-listorder-main-ui .listorder-search{margin:15px 0}.zmiti-listorder-main-ui .listorder-search .rig{text-align:right}.zmiti-listorder-main-ui .listorder-search .zmiti-listorder-with130{width:130px}.zmiti-listorder-main-ui .listorder-search .zmiti-listorder-with70{width:70px}.zmiti-listorder-main-ui .listorder-search .zmiti-listorder-with60{width:60px}.zmiti-listorder-main-ui .listorder-search .listorder-heigth30{height:30px;line-height:30px;overflow:hidden}.zmiti-listorder-main-ui .zmiti-listorder-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}',""])},1200:function(e,t,r){t=e.exports=r(13)(),t.push([e.id,".product-header{width:100%;height:40px;line-height:40px;position:relative}.product-header .ant-btn{position:absolute;right:4vw;bottom:0}.product-ico-C{position:absolute;width:300px;height:300px;background:#fff;z-index:102;border:1px solid #818181;box-sizing:border-box;border-radius:6px}.product-ico-C .product-ico-header{width:100%;height:30px;line-height:30px;display:-webkit-box;display:-ms-flexbox;display:flex;display:-webkit-flex;-ms-flex-flow:row;flex-flow:row;background:#818181;border-top-left-radius:5px;border-top-right-radius:5px}.product-ico-C .product-ico-header div{width:50%;color:#fff;margin-left:10px}.product-ico-C .product-ico-header div:nth-of-type(2){text-align:right;margin-right:10px;font-size:20px}.product-ico-C .product-ico-header div:nth-of-type(2) span{cursor:pointer;padding:0 5px}.product-ico-C .product-ico-list{width:100%}.product-ico-C .product-ico-list ul{display:-webkit-box;display:-ms-flexbox;display:flex;display:-webkit-flex;-ms-flex-flow:row;flex-flow:row;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:10px auto}.product-ico-C .product-ico-list ul li{width:30px;margin:0 3px 0 4px;text-align:center;cursor:pointer;box-sizing:border-box}.product-ico-C .product-ico-list ul li img{width:20px}.product-menu-ico{position:absolute;left:200px;top:8px}.product-antd-ico{top:0}.product-main-ui .lt-del{background:#f81828;border-color:#f81828}",""])},1201:function(e,t,r){t=e.exports=r(13)(),t.push([e.id,"body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}",""])},1202:function(e,t,r){t=e.exports=r(13)(),t.push([e.id,"body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}",""])},1203:function(e,t,r){t=e.exports=r(13)(),t.push([e.id,'body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}li,ol,ul{list-style:none;margin:0;padding:0}.hr10,.hr15{clear:both;line-height:0;font-size:0}.hr10{height:10px}.hr15{height:15px}.pad-5{padding:5px}.pad-10{padding:10px}.pad-15{padding:15px}.pad-20{padding:20px}.zmiti-vieworder-main-ui{font-size:12px;overflow:auto}.zmiti-vieworder-main-ui .zmiti-vieworder-header-inner{padding-left:8px;margin-top:10px;position:relative}.zmiti-vieworder-main-ui .zmiti-vieworder-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.zmiti-vieworder-main-ui .zmiti-workorder-button-right button{float:right;margin-top:5px}.zmiti-vieworder-main-ui .zmiti-workorder-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.zmiti-vieworder-main-ui .workorder-table{border:1px solid #e1e6eb;margin-top:15px;background:#fff}.zmiti-vieworder-main-ui .workorder-table .ant-layout-header{background:#f5f6fa;border-left:4px solid #6d7781;padding-left:16px;height:38px;line-height:38px;overflow:hidden;border-bottom:1px solid #e1e6eb}.zmiti-vieworder-main-ui .questionTitle{color:#999}.zmiti-vieworder-main-ui .red{color:red}.zmiti-vieworder-main-ui .error-table{border:1px solid red;color:red}.zmiti-vieworder-main-ui .workorderquestion-inputContent{height:100px}.text-right{text-align:right}.view-questionInfo{background-color:#efefef;padding:10px}.gutter-example{color:#000;line-height:2}.gutter-example span{color:#666}.view-titPane{background-color:#efefef;border-left:5px solid #999;border-top:1px solid #ccc;line-height:2;padding-left:10px;color:#333}.view-questionLists,.view-titPane{border-right:1px solid #ccc;border-bottom:1px solid #ccc}.view-questionLists{border-left:1px solid #ccc;padding:0 15px 15px;margin:0}.view-questionLists ul{width:100%;overflow:hidden}.view-questionLists li{padding:10px 0 10px 70px;min-height:70px;position:relative;margin:0;border-bottom:1px dashed #ccc;color:#666;width:100%}.view-questionLists li:last-child{border-bottom:none}.view-questionLists li.messageDiv{color:#000;padding-left:10px}.view-questionLists li.questionFinish{background-color:#eafbff}.view-faceIco{position:absolute;left:10px;top:10px}.view-faceIco img{width:50px;height:50px;border-radius:50%}.view-questionForm{border-left:1px solid #ccc;border-right:1px solid #ccc;border-bottom:1px solid #ccc;padding:10px 15px;margin:0}.view-questionForm form{width:100%}.view-questionForm .view-tit-label{line-height:24px}.view-questionForm textarea{outline:none;resize:none;border-color:#d9d9d9}.view-questionForm p{margin:10px 0}',""])},1204:function(e,t,r){t=e.exports=r(13)(),t.push([e.id,"body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}",""])},1323:function(e,t,r){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}},s=r(1),u=a(s);r(1397);var c=r(31),d=a(c),f=r(12),m=r(75),p=a(m),h=r(17),g=f.Select.Option,y=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,userList:[]},this.condition=0,this.changeAccount=this.changeAccount.bind(this)}return n(t,e),o(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx"},{title:"公司名称",dataIndex:"companyName",key:"companyName"},{title:"负责人账号",dataIndex:"username",key:"username"},{title:"用户总数",dataIndex:"totalUserNum",key:"totalUserNum"},{title:"到期时间",dataIndex:"expirDate",key:"expirDate"},{title:"空间使用量",dataIndex:"userSpace",key:"userSpace"},{title:"负责客服",dataIndex:"serviceName",key:"serviceName"}],r=t.concat({title:"操作",dataIndex:"",key:"x",render:function(t,r){return u.default.createElement("div",{"data-userid":r.userid},u.default.createElement("a",{href:"javascrit:void(0)"},"延长时间"),"    ",u.default.createElement("a",{href:"javascrit:void(0)"},"用户"),"    ",u.default.createElement("a",{href:"javascrit:void(0)"},"提升空间"),"    ",u.default.createElement("a",{href:"javascrit:void(0)",onClick:e.regular.bind(e)}," 转正"))}}),a=t.concat({title:"操作",dataIndex:"",key:"x",render:function(e,t){return u.default.createElement("div",{"data-userid":t.userid},u.default.createElement("a",{href:"javascrit:void(0)"},"延长时间"),"    ",u.default.createElement("a",{href:"javascrit:void(0)"},"用户"),"    ",u.default.createElement("a",{href:"javascrit:void(0)"},"提升空间"),"    ",u.default.createElement("a",{href:"javascrit:void(0)"}," 设置权限"))}}),i=this.props.params.title,n={userList:this.state.userList,columns:[r,a],changeAccount:this.changeAccount,tags:["试用公司账户","正式公司账户"],mainHeight:this.state.mainHeight,title:i,keyDown:function(t){clearTimeout(e.keyupTimer),void 0===e.defautlUserList&&(e.defautlUserList=e.state.userList.concat([])),e.keyupTimer=setTimeout(function(){var r=e.defautlUserList,a="companyName";e.state.userList=r.filter(function(r){switch(1*e.condition){case 0:a="companyName";break;case 1:a="username"}return r[a].indexOf(t)>-1}),e.forceUpdate(function(){})},350)},selectComponent:u.default.createElement(f.Select,{placeholder:"公司名称",onChange:function(t){e.condition=t},style:{width:120},size:"small"},u.default.createElement(g,{value:"0"},"公司名称"),u.default.createElement(g,{value:"1"},"负责人账号"))};return u.default.createElement(p.default,{component:u.default.createElement(d.default,n)})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,r=e.validateUser,a=e.loginOut;t(this),r(function(){a(void 0,void 0,!1)},this)}},{key:"regular",value:function(e){var t=e.target.parentNode.getAttribute("data-userid"),r={getusersigid:this.getusersigid,userid:this.userid,setuserid:t,setisover:0},a=window.baseUrl||"http://api.zmiti.com/v2",i=this;$.ajax({type:"post",url:a+"user/disable_user/",data:r,success:function(e){0===e.getret?(f.message.success("操作成功"),i.state.userList.forEach(function(e){e.userid===t&&(e.isover=0)}),i.forceUpdate()):f.message.error("操作失败")}})}},{key:"componentDidMount",value:function(){this.baseUrl=window.baseUrl;var e=this.props,t=e.validateUser,r=e.loginOut,a=t(function(){r(void 0,void 0,!1)},this),i=a.userid,n=a.getusersigid,o=a.companyid,l=(a.username,a.isover),s=a.usertypesign;this.userid=i,this.getusersigid=n,this.companyid=o,this.isover=l,this.usertypesign=s,this.loginOut=r;var u={getusersigid:this.getusersigid,userid:this.userid,setusertypesign:2},c=this;$.ajax({type:"POST",url:window.baseUrl+"/user/get_userlist/",data:u,success:function(e){0===e.getret?c.setState({userList:e.userlist}):e.getret===-3&&(f.message.error("您没有访问的权限,请重新登录"),window.location.href="/")}})}},{key:"changeAccount",value:function(e){}}]),t}(s.Component);t.default=(0,h.ZmitiValidateUser)(y),e.exports=t.default}).call(this)}finally{}},1324:function(e,t,r){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}},s=r(1),u=a(s),c=r(12);r(269);var d=r(29),f=r(263),m=a(f),p=r(17),h=c.Menu.SubMenu,g=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={defaultClass:"fly-left-aside",isOpen:!0,current:"3",currentAcc:"iLinten@qq.com",rightWidth:0,userid:"",getusersigid:""}}return n(t,e),o(t,[{key:"menuClickHandler",value:function(e){}},{key:"handleClick",value:function(e){}},{key:"toggleMenu",value:function(){var e=this;"fly-left-aside"===this.state.defaultClass?(window.mainLeftSize=60,this.setState({defaultClass:"fly-left-aside unfold",isOpen:!1,rightWidth:document.documentElement.clientWidth-window.mainLeftSize})):(this.setState({defaultClass:"fly-left-aside"}),window.mainLeftSize=180,setTimeout(function(){e.setState({isOpen:!0,rightWidth:document.documentElement.clientWidth-window.mainLeftSize})},200))}},{key:"render",value:function(){this.userManagerMenuConfig=[{linkTo:"/user/个人账户管理",key:"user",title:"个人账户管理",isIcon:!0,type:"user",isShow:!0},{linkTo:"/company/公司账户管理",key:"company",title:"公司账户管理",isIcon:!0,type:"customerservice",isShow:!0}],this.productServiceMenuConfig=[{linkTo:"/product/",key:"product",title:"新增产品",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/listorder/工单管理",key:"workorder",title:"工单管理",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/datum/",key:"datum",title:"资料管理",isIcon:!0,type:"edit",isShow:!0}],4===this.usertypesign&&this.userManagerMenuConfig.push({linkTo:"/system/系统账户管理",key:"system",title:"系统账户管理",isIcon:!0,type:"edit",isShow:!0});var e=window.location.hash,t="sub5";this.productServiceMenuConfig.forEach(function(r,a){e.indexOf(r.key)>-1&&(t="sub6")});var r={usertypesign:this.usertypesign,currentAcc:this.state.currentAcc,userid:this.userid,type:"admin",getusersigid:this.getusersigid,logo:"../static/images/logo.png"};return u.default.createElement("section",{className:"main"},u.default.createElement(m.default,r),u.default.createElement("article",{className:"fly-content"},u.default.createElement("section",{className:this.state.defaultClass},u.default.createElement("div",{className:"fly-toggle-menu",onClick:this.toggleMenu.bind(this)},u.default.createElement(c.Icon,{type:"menu-fold",style:{display:this.state.isOpen?"inline-block":"none"}}),u.default.createElement(c.Icon,{type:"menu-unfold",style:{display:this.state.isOpen?"none":"inline-block"}})),u.default.createElement("div",{className:"fly-menu-c"},u.default.createElement(c.Menu,{style:{width:182},defaultOpenKeys:[t],selectedKeys:[this.state.current],mode:"inline"},u.default.createElement(h,{key:"sub5",title:u.default.createElement("span",null,u.default.createElement(c.Icon,{type:"setting",style:{marginRight:"22px"}}),u.default.createElement("span",null,"用户管理"))},this.userManagerMenuConfig.map(function(e){return u.default.createElement(c.Menu.Item,{key:e.key},u.default.createElement(c.Icon,{type:e.type,style:{marginRight:"32px"}}),u.default.createElement(d.Link,{to:e.linkTo},e.title))})),u.default.createElement(h,{key:"sub6",title:u.default.createElement("span",null,u.default.createElement(c.Icon,{type:"setting",style:{marginRight:"22px"}}),u.default.createElement("span",null,"操作管理"))},this.productServiceMenuConfig.map(function(e){return u.default.createElement(c.Menu.Item,{key:e.key},u.default.createElement(c.Icon,{type:e.type,style:{marginRight:"32px"}}),u.default.createElement(d.Link,{to:e.linkTo},e.title))}))))),u.default.createElement("section",{className:"fly-right-aside",style:{width:this.state.rightWidth}},this.props.component)))}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,r=e.validateUser,a=e.loginOut,i=e.resizeLeftMenu;t(this,"setAdminHeight"),i(this,"setAdminMenu");var n=r(function(){a(void 0,void 0,!1)}),o=n.userid,l=n.getusersigid,s=n.companyid,u=(n.username,n.isover),c=n.usertypesign;this.userid=o,this.getusersigid=l,this.companyid=s,this.isover=u,this.usertypesign=c,this.loginOut=a,this.usertypesign!==window.Role.NORMALADMINUSER&&this.usertypesign!==window.Role.SUPERADMINUSER&&a("您没有访问的权限",window.mainUrl,!1)}},{key:"componentDidMount",value:function(){var e=window.location.hash,t=this.userManagerMenuConfig.concat(this.productServiceMenuConfig),r="";t.forEach(function(t){e.indexOf("#"+t.linkTo)>-1&&(r=t.key)}),this.setState({current:r,rightWidth:document.documentElement.clientWidth-180,userid:this.userid,isover:this.isover,getusersigid:this.getusersigid})}}]),t}(s.Component);t.default=(0,p.ZmitiValidateUser)(g),e.exports=t.default}).call(this)}finally{}},1325:function(e,t,r){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}},s=r(1),u=a(s);r(1398);var c=r(12),d=(c.Select.Option,function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={orderList:[],columns:[]}}return n(t,e),o(t,[{key:"render",value:function(){var e=this;return u.default.createElement("section",{className:"order-main-ui",style:{height:this.props.mainHeight}},this.props.columns.map(function(t,r){if(0===r)return u.default.createElement("section",{key:r,className:"user-list-section"},u.default.createElement(c.Table,{bordered:!0,onRowClick:function(t,r,a){e.props.getProductDetail(t,r,a)},dataSource:e.props.orderList,columns:t}),"}")}))}},{key:"componentDidMount",value:function(){}}]),t}(s.Component));t.default=d,d.defaultProps={},e.exports=t.default}).call(this)}finally{}},1326:function(e,t,r){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}},s=r(1),u=a(s);r(1399);var c=r(31),d=a(c),f=r(12),m=r(75),p=a(m),h=r(17),g=f.Select.Option,y=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,selectedIndex:0,userList:[]}}return n(t,e),o(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx"},{title:"用户名",dataIndex:"username",key:"username"},{title:"手机",dataIndex:"mobile",key:"mobile"},{title:"邮箱",dataIndex:"email",key:"email"},{title:"注册日期",dataIndex:"regDate",key:"regDate",sorter:function(e,t){return e.key-t.key}},{title:"剩余天数",dataIndex:"surplusDays",key:"surplusDays",sorter:function(e,t){return e.surplusDays-t.surplusDays}},{title:"空间使用量",dataIndex:"userSpace",key:"userSpace"}],r=t.concat({title:"操作",dataIndex:"",key:"x",width:"30%",render:function(e,t){return u.default.createElement("div",{"data-userid":t.userid})}}),a=t.concat({title:"操作",width:"30%",dataIndex:"",key:"x",render:function(e,t){return u.default.createElement("div",{"data-userid":t.userid})}}),i=this.props.params.title,n={userList:this.state.userList,columns:[r,a],mainHeight:this.state.mainHeight,title:i,changeAccount:this.changeAccount.bind(this),keyDown:function(t){clearTimeout(e.keyupTimer),void 0===e.defautlUserList&&(e.defautlUserList=e.state.userList.concat([])),e.keyupTimer=setTimeout(function(){var r=e.defautlUserList,a="username";e.state.userList=r.filter(function(r){switch(1*e.condition){case 0:a="username";break;case 1:a="username"}return r[a].indexOf(t)>-1}),e.forceUpdate(function(){})},350)},selectComponent:u.default.createElement(f.Select,{placeholder:"用户名",onChange:function(){},style:{width:120},size:"small"},u.default.createElement(g,{value:"0"},"用户名"))};return u.default.createElement(p.default,{component:u.default.createElement(d.default,n)})}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),r=e.loginOut;e.resizeLeftMenu;t(function(){r(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.resizeMainHeight;e.validateUser,e.loginOut,e.resizeLeftMenu;t(this,"setAdminHeight")}},{key:"changeAccount",value:function(e){this.setState({selectedIndex:e})}}]),t}(s.Component);t.default=(0,h.ZmitiValidateUser)(y),e.exports=t.default}).call(this)}finally{}},1327:function(e,t,r){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}},s=r(1),u=a(s);r(1400);var c=r(31),d=a(c),f=r(12),m=r(75),p=a(m),h=r(17),g=(f.Select.Option,f.Steps.Step),y=f.Layout.Header,v=f.Layout.Content,w=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,uploadData:[],workorderid:"",content:"",createtime:"",status:"",workordertype:"",workordername:"",totalminu:"",statusName:"",getTimestr:"",usericon:"",questionContent:"",isHidden:!1,orderoperation:"",workeorderinfo:[],setuserid:"",customername:""},this.condition=0}return n(t,e),o(t,[{key:"render",value:function(){var e=this,t="工单管理",r={userid:this.userid,changeAccount:this.changeAccount,mainHeight:this.state.mainHeight,tags:["处理中","已处理"],type:"vieworder",title:t,selectedIndex:0,rightType:"custom",customRightComponent:u.default.createElement("div",{className:"zmiti-vieworder-main-ui"},u.default.createElement("div",{className:"pad-10"},u.default.createElement(f.Row,{className:"zmiti-vieworder-header"},u.default.createElement(f.Col,{span:8,className:"zmiti-vieworder-header-inner"},"工单详情"),u.default.createElement(f.Col,{span:8,offset:8,className:"zmiti-workorder-button-right"},u.default.createElement(f.Button,{type:"primary",onClick:this.changeAccount.bind(this,0)},"返回列表"))),u.default.createElement("div",{className:"zmiti-workorder-line"}),u.default.createElement("div",{className:"hr10"}),u.default.createElement("div",{className:"hr10"}),u.default.createElement(f.Steps,{current:1*this.state.status},u.default.createElement(g,{title:"已受理",icon:u.default.createElement(f.Icon,{type:"user"})}),u.default.createElement(g,{title:"已处理",icon:u.default.createElement(f.Icon,{type:"solution"})}),u.default.createElement(g,{title:"已确认",icon:u.default.createElement(f.Icon,{type:"save"})}),u.default.createElement(g,{title:"已评价",icon:u.default.createElement(f.Icon,{type:"smile-o"})})),u.default.createElement("div",{className:"hr10"}),u.default.createElement("div",{className:"view-questionInfo"},u.default.createElement("div",{className:"gutter-example"},u.default.createElement(f.Row,null,u.default.createElement(f.Col,{span:24},u.default.createElement("span",{className:"questionTitle"},"问题标题："),this.state.content)),u.default.createElement(f.Row,null,u.default.createElement(f.Col,{span:6},u.default.createElement("span",{className:"questionTitle"},"工单编号："),this.state.workorderid),u.default.createElement(f.Col,{span:6},u.default.createElement("span",{className:"questionTitle"},"提交时间："),this.state.createtime),u.default.createElement(f.Col,{span:6},u.default.createElement("span",{className:"questionTitle"}," 状态："),this.state.statusName),u.default.createElement(f.Col,{span:6},u.default.createElement("div",{className:"text-right"},u.default.createElement("a",{href:"javasctip:void(0);",onClick:this.getorderoperation.bind(this)},this.state.orderoperation)))))),u.default.createElement("div",{className:"hr10"}),u.default.createElement(f.Layout,{className:"workorder-table"},u.default.createElement(y,null,this.state.getworkordername),u.default.createElement(v,null,u.default.createElement("div",{className:"view-questionPane"},u.default.createElement("div",{className:"view-questionLists"},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement("div",{className:"view-faceIco"},u.default.createElement("img",{src:this.state.usericon})),u.default.createElement("div",{className:"view-Infor"},u.default.createElement("div",null,this.state.customername),u.default.createElement("div",null,"问题描述：",this.state.content),u.default.createElement("div",null),u.default.createElement("div",null,this.state.createtime))),this.state.workeorderinfo.map(function(t,r){return u.default.createElement("li",{key:r,className:0===t.workordertype&&"messageDiv"},u.default.createElement("div",{className:"view-faceIco"},0===t.workordertype&&u.default.createElement("img",{src:"./static/images/notify.jpg"}),1===t.workordertype&&u.default.createElement("img",{src:e.state.usericon})),u.default.createElement("div",{className:"view-Infor"},0===t.workordertype&&"管理员回复：",1===t.workordertype&&e.state.customername,u.default.createElement("p",null,t.content),u.default.createElement("p",null,"时间：",t.operatime),u.default.createElement("p",null,t.attachment&&t.attachment.split(",").map(function(e,t){return u.default.createElement("a",{key:t,href:e,title:e}," ","点击下载")}))))})))))),u.default.createElement("div",{className:"hr10"}),u.default.createElement(f.Layout,{className:"workorder-table "},u.default.createElement(y,null,"回复"),u.default.createElement(v,null,u.default.createElement("div",{className:"view-questionPane"},u.default.createElement("div",{className:"view-questionForm"},u.default.createElement(f.Form,null,u.default.createElement(f.Input,{type:"textarea",placeholder:"此处限定5000字符",onFocus:function(){e.setState({questionError:!1})},className:"workorderquestion-inputContent "+(this.state.submitWorkorder?"error-table":""),value:this.state.questionContent,onChange:function(t){e.setState({questionContent:t.target.value})}}),u.default.createElement("div",{className:"hr10"}),u.default.createElement("p",null,u.default.createElement(f.Button,{type:"primary",htmlType:"submit",onClick:this.submitWorkorder.bind(this)},"提交")))))))))},a=u.default.createElement(d.default,r);return u.default.createElement(p.default,{component:a})}},{key:"changeAccount",value:function(e){window.location.hash="#/listorder/工单管理"}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),r=e.loginOut;e.resizeLeftMenu;t(function(){r(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props.params.id,t=this;$.ajax({url:window.baseUrl+"user/view_workorder",data:{userid:t.userid,getusersigid:t.getusersigid,setworkorderid:e},success:function(e){0===e.getret&&(t.state.workorderid=e.workinfo.workorderid,t.state.content=e.workinfo.content,t.state.createtime=e.workinfo.createtime,t.state.status=e.workinfo.status,t.state.totalminu=e.workinfo.totalminu,t.filterStatus(),t.state.workordertype=e.workinfo.workordertype,t.state.operauser=e.workinfo.userid,t.getuserinfo(e.workinfo.userid),t.getworkordername(),t.forceUpdate())}}),t.getworkorderlist()}},{key:"getuserinfo",value:function(e){var t=this;return $.ajax({url:window.baseUrl+"user/get_userdetails/",data:{userid:t.userid,getusersigid:t.getusersigid,isonly:1,setuserid:e},success:function(e){0===e.getret?(t.state.customername=e.getuserinfo.customername,t.state.usericon=e.getuserinfo.usericon,t.forceUpdate()):e.getret===-3?(f.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):loginOut(e.getmsg,window.loginUrl,!1)}}),e}},{key:"getworkorderlist",value:function(){var e=this;$.ajax({url:window.baseUrl+"user/view_workorder",data:{userid:e.userid,userusername:e.userusername,getusersigid:e.getusersigid,setworkorderid:e.props.params.id},success:function(t){0===t.getret&&(e.state.workeorderinfo=t.workinfo.operainfo,console.log(e.state.workeorderinfo,"工单列表"),e.forceUpdate())}})}},{key:"getworkordername",value:function(){var e=this;switch(e.state.workordertype){case 0:e.state.getworkordername="财务类工单问题";break;case 1:e.state.getworkordername="会员帐号类工单问题";break;case 2:e.state.getworkordername="定制服务类工单帐号问题";break;case 3:e.state.getworkordername="产品技术类工单问题";break;case 4:e.state.getworkordername="其它类工单问题"}}},{key:"filterStatus",value:function(){var e=this;switch(e.state.status){case 0:e.state.statusName="已受理",e.state.orderoperation="关闭工单";break;case 1:e.state.statusName="已处理",e.state.orderoperation="关闭工单";break;case 2:e.state.statusName="已确认",e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="删除工单";break;case 3:e.state.statusName="已评价",e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="删除工单";break;case 4:e.state.statusName=u.default.createElement("span",{className:"red"},"请您反馈"),e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="关闭工单"}}},{key:"getorderoperation",value:function(){var e=this;"关闭工单"==e.state.orderoperation&&$.ajax({url:window.baseUrl+"user/close_workorder/",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid},success:function(t){0===t.getret?(f.message.success("关闭工单成功"),e.state.orderoperation="删除工单",e.setState({isHidden:!0}),e.forceUpdate()):t.getret===-3?(f.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):f.message.error(t.getmsg)}}),"删除工单"==e.state.orderoperation&&$.ajax({url:window.baseUrl+"user/del_workorder/",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid},success:function(e){0===e.getret?(f.message.success("删除工单成功"),setTimeout(function(){window.location.hash="listorder/"},2e3)):e.getret===-3?(f.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):f.message.error(e.getmsg)}})}},{key:"submitWorkorder",value:function(){var e=this,t=0;if(""==e.state.questionContent&&(e.setState({questionError:!0}),t=1),0==t){var r;if(e.state.uploadData.length>0){r=e.state.uploadData[0].datainfourl;for(var a=1;a<e.state.uploadData.length;a++)r=r+","+e.state.uploadData[a].datainfourl}$.ajax({url:window.baseUrl+"user/opera_workorder",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid,setcontent:e.state.questionContent,setattachment:r,setoperatype:0},success:function(t){0===t.getret?(f.message.success("您已成功回复工单，我们会尽快处理"),setTimeout(function(){location.hash="listorder/工单管理"+e.state.workorderid},2e3)):t.getret===-3?(f.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):f.message.error(t.getmsg)}})}}}]),t}(s.Component);t.default=(0,h.ZmitiValidateUser)(w),e.exports=t.default}).call(this)}finally{}},1328:function(e,t,r){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}},s=r(1),u=a(s),c=r(75),d=a(c),f=function(e){function t(){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),o(t,[{key:"render",value:function(){var e=u.default.createElement("div",null,"后台首页");return u.default.createElement(d.default,{component:e})}}]),t}(s.Component);t.default=f,e.exports=t.default}).call(this)}finally{}},1329:function(e,t,r){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}},s=r(1),u=a(s);r(1401);var c=r(31),d=a(c),f=r(12);r(50);var m=(r(29),r(1324)),p=a(m),h=r(17),g=r(21),y=a(g);f.moment.locale("zh-cn");var v=(f.Radio.Group,f.Form.Item,f.Select.Option,function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={mainHeight:document.documentElement.clientHeight-50,dataSource:[],workorderid:"",keyword:"",startDate:null,selectedIndex:0,endDate:(0,f.moment)(new Date,"YYYY-MM-DD")}}return n(t,e),o(t,[{key:"render",value:function(){var e=this,t=[{title:"工单编号",dataIndex:"workorderid",key:"workorderid",width:100},{title:"用户名",dataIndex:"username",key:"username"},{title:"问题内容",dataIndex:"content",key:"content",render:function(e,t){var r=e.length;return r>=40?e.substring(0,40):e}},{title:"工单类型",dataIndex:"workordertype",key:"workordertypeName",width:100,filters:[{text:"财务类",value:"0"},{text:"会员帐号类",value:"1"},{text:"定制服务类",value:"2"},{text:"产品技术类",value:"3"},{text:"其它类",value:"4"}],onFilter:function(e,t){return 1*e===t.workordertype},sorter:function(e,t){return e.workordertype-t.workordertype},render:function(e,t){switch(e){case 0:return"财务类";case 1:return"会员帐号类";case 2:return"定制服务类";case 3:return"产品技术类";case 4:return"其它类"}}},{title:"创建时间",dataIndex:"createtime",key:"createtime",width:150},{title:"工单状态",dataIndex:"status",key:"status",width:100,filters:[{text:"已受理",value:"0"},{text:"已处理",value:"1"},{text:"已确认",value:"2"},{text:"已评价",value:"3"},{text:"已关闭",value:"4"}],onFilter:function(e,t){return 1*e===t.status},sorter:function(e,t){return e.status-t.status},render:function(e,t){switch(e){case 0:return u.default.createElement("div",{className:"red"},"已受理");case 1:return u.default.createElement("div",{className:"green"},"已处理");case 2:return u.default.createElement("div",{className:"green"},"已确认");case 3:return u.default.createElement("div",{className:"green"},"已评价");case 4:return u.default.createElement("div",{className:"green"},"已关闭")}}},{title:"操作",dataIndex:"operation",key:"operation",width:100,render:function(t,r,a){return 0===e.state.selectedIndex?u.default.createElement("span",null,u.default.createElement("a",{href:"#/editorder/"+r.workorderid},"处理工单")):u.default.createElement("span",null,u.default.createElement("a",{href:"#/vieworder/"+r.workorderid},"查看"))}}],r=this.props.params.title||"工单管理2",a={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:["处理中","已处理"],mainHeight:this.state.mainHeight,title:r,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:u.default.createElement("div",{className:"zmiti-listorder-main-ui pad-10"},u.default.createElement(f.Row,{className:"zmiti-listorder-header"},u.default.createElement(f.Col,{span:8,className:"zmiti-listorder-header-inner"},"工单管理"),u.default.createElement(f.Col,{span:8,offset:8,className:"zmiti-listorder-button-right"})),u.default.createElement("div",{className:"zmiti-listorder-line"}),u.default.createElement(f.Row,{gutter:10,type:"flex",className:"listorder-search "},u.default.createElement(f.Col,{className:"zmiti-listorder-with70 listorder-heigth30"},"工单编号："),u.default.createElement(f.Col,{className:"listorder-heigth30"},u.default.createElement(f.Input,{value:this.state.workorderid,onChange:this.searchByWorkorderid.bind(this),placeholder:"工单编号录入"})),u.default.createElement(f.Col,{className:"zmiti-listorder-with60 listorder-heigth30 rig"},"时间:"),u.default.createElement(f.Col,{className:"listorder-heigth30 zmiti-listorder-with130 "},u.default.createElement(f.DatePicker,{value:this.state.startDate,onChange:function(t){e.setState({startDate:t})}})),u.default.createElement(f.Col,{className:"zmiti-listorder-with30 listorder-heigth30 cen",value:this.state.endDate},"至:"),u.default.createElement(f.Col,{className:"listorder-heigth30 zmiti-listorder-with130 "},u.default.createElement(f.DatePicker,{value:this.state.endDate,onChange:function(t){e.setState({endDate:t})}})),u.default.createElement(f.Col,{className:"zmiti-listorder-with60 listorder-heigth30 rig"},"关键词:"),u.default.createElement(f.Col,{className:"listorder-heigth30"},u.default.createElement(f.Input,{value:this.state.keyword,placeholder:"关键词",onChange:this.searchByKeyword.bind(this)})),u.default.createElement(f.Col,{className:"listorder-heigth30 lef"},u.default.createElement(f.Button,{onClick:this.searchBybutton.bind(this)},"查询"))),u.default.createElement(f.Table,{dataSource:this.state.dataSource,columns:t,bordered:!0}))},i=u.default.createElement("div",null,u.default.createElement(d.default,a));return u.default.createElement(p.default,{component:i})}},{key:"gotoView",value:function(e){location.href="#/editorder/"+e}},{key:"searchBybutton",value:function(){var e=this.state.workorderid,t=this.state.startDate.format("YYYY-MM-DD"),r=this.state.endDate.format("YYYY-MM-DD"),a=this.state.keyword,i=this;y.default.ajax({url:window.baseUrl+"user/get_workorder",data:{userid:i.userid,getusersigid:i.getusersigid,setworkorderid:e,setstarttime:t,setendtime:r,setkeyword:a,setisadmin:1},success:function(e){if(0===e.getret){i.state.dataSource=e.workorderinfo;var t=i.state.dataSource.filter(function(e,t){return e.status===i.state.selectedIndex});i.setState({dataSource:t})}else e.getret===-3?(f.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):f.message.error(e)}})}},{key:"searchByWorkorderid",value:function(e){var t=this;this.setState({workorderid:e.target.value},function(){t.dataSource=t.dataSource||t.state.dataSource.concat([]),t.state.dataSource=t.dataSource.filter(function(e){return e.workorderid.indexOf(t.state.workorderid)>-1}),t.forceUpdate()})}},{key:"searchByKeyword",value:function(e){var t=this;this.setState({keyword:e.target.value},function(){t.dataSource=t.dataSource||t.state.dataSource.concat([]),t.state.dataSource=t.state.dataSource.filter(function(e){return e.content.indexOf(t.state.keyword)>-1}),t.state.keyword.length<=0&&(t.state.dataSource=t.dataSource.concat([])),t.forceUpdate()})}},{key:"bindNewdata",value:function(){var e=this;y.default.ajax({url:window.baseUrl+"user/get_workorder",data:{userid:e.userid,getusersigid:e.getusersigid,setisadmin:1},success:function(t){if(0===t.getret){t.workorderinfo.map(function(t,r){0===t.status?t.status=0:1===t.status?t.status=1:2===t.status?t.status=2:3===t.status?t.status=3:4===t.status&&(t.status=4),e.state.dataSource.push(t)}),e.defaultWorkorderInfo=t.workorderinfo,e.state.dataSource.forEach(function(e,t){switch(e.status){case 0:e.statusName="已受理";break;case 1:e.statusName="已处理";break;case 2:e.statusName="已确认";break;case 3:e.statusName="已评价";break;case 4:e.statusName="已关闭"}switch(e.workordertype){case 0:e.workordertypeName="财务类";break;case 1:e.workordertypeName="会员帐号类";break;case 2:e.workordertypeName="定制服务类";break;case 3:e.workordertypeName="产品技术类";break;case 4:e.workordertypeName="其它类"}});var r=e.state.dataSource.filter(function(t,r){return t.status===e.state.selectedIndex});e.setState({dataSource:r})}else t.getret===-3?(f.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):f.message.error(t)}})}},{key:"changeAccount",value:function(e){this.state.selectedIndex=1*e,this.orderList=this.orderList||this.defaultWorkorderInfo.concat([]),this.state.dataSource=this.orderList.filter(function(t){return 1*e===0?0===t.status:0!==t.status}),this.state.keyword="",this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this;e.bindNewdata()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,r=e.validateUser;e.loginOut;t(this);var a=r(function(){},this),i=(a.username,a.userid),n=a.getusersigid;this.userid=i,this.getusersigid=n}}]),t}(s.Component));t.default=(0,h.ZmitiValidateUser)(v),e.exports=t.default}).call(this)}finally{}},1330:function(e,t,r){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}};r(1402);var u=r(1),c=a(u),d=r(17),f=r(12);r(50);var m=r(1325),p=a(m),h=r(75),g=a(h);f.moment.locale("zh-cn");var y=f.Form.Item,v=f.Radio.Group,w=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,e),this.state={visible:!1,productlist:[],loading:!1,tip:"数据拉取中...",productName:"",productShortName:"",productPrice:"0",productLink:"",productType:0,productRemark:"",defaultZmitiIcon:"../public/images/lt-company-ico.png",defaultAntdIcon:"picture",expireDate:"2099-12-31",currentIconType:"",iconModalVisible:!1,currentIcon:""},this.currentId=-1}return n(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,r=e.validateUser,a=e.loginOut,i=e.listen,n=e.send,o=e.getProductList;t(this);var l=r(function(){a(void 0,void 0,!1)},this),s=(l.username,l.userid),u=l.getusersigid;this.userid=s,this.listen=i,this.send=n,this.getProductList=o,this.getusersigid=u}},{key:"componentDidMount",value:function(){this.setState({mainHeight:document.documentElement.clientHeight-50})}},{key:"render",value:function(){var e=this,t=this.props,r=t.validateUser,a=t.loginOut,i=(t.resizeMainHeight,0);if(r(function(){i++,a()},this),1===i)return c.default.createElement("div",null);var n={labelCol:{span:6},wrapperCol:{span:14}},l=[{title:"序号",dataIndex:"key",key:"xx"},{title:"产品名称",dataIndex:"productname",key:"productname"},{title:"产品简称",dataIndex:"outline",key:"outline"},{title:"产品类型",dataIndex:"producttypeName",key:"producttypeName"},{title:"到期时间",dataIndex:"endtime",key:"endtime"},{title:"产品费用",dataIndex:"price",key:"price"},{title:"产品地址",dataIndex:"producturl",key:"producturl"},{title:"操作",dataIndex:"",key:"x",width:"10%",render:function(t,r){return c.default.createElement("div",null,c.default.createElement(f.Popconfirm,{placement:"left",title:"确定要删除吗?",onConfirm:e.delProduct.bind(e,r.productid),okText:"确定",cancelText:"取消"},c.default.createElement(f.Button,{className:"lt-del",type:"primary"},"删除")))}}],s={orderList:this.state.productlist,columns:[l],getProductDetail:function(t,r,a){if(e.currentId=t.productid,"SPAN"!==a.target.nodeName&&"BUTTON"!==a.target.nodeName)return e.setState({visible:!0,productName:t.productname,productShortName:t.outline,productPrice:t.price,productLink:t.producturl,productType:t.producttype,productRemark:t.description,expireDate:"2099-12-31",currentIconType:t.isicon?"zmiti":"antd",currentIcon:t.producticon}),!1}},u="YYYY-MM-DD",d=c.default.createElement(f.Spin,{tip:this.state.tip,spinning:this.state.loading},c.default.createElement("div",{className:"product-main-ui",style:{height:this.state.mainHeight}},c.default.createElement("header",{className:"product-header"},c.default.createElement(f.Button,{onClick:function(){e.setState({visible:!0}),e.productId=-1},type:"primary"},"新增产品服务")),c.default.createElement(p.default,s),c.default.createElement(f.Modal,{title:"新增产品服务",visible:this.state.visible,onOk:this.addProduct.bind(this),onCancel:function(){e.setState({visible:!1})},width:600},c.default.createElement(f.Form,null,c.default.createElement(y,o({},n,{label:c.default.createElement("span",null,c.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品名称"),hasFeedback:!0}),c.default.createElement(f.Input,{ref:"product-name",value:this.state.productName,placeholder:"要显示的菜单名",onChange:function(t){e.setState({productName:t.target.value})}})),c.default.createElement(y,o({},n,{label:c.default.createElement("span",null,c.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品简称"),hasFeedback:!0}),c.default.createElement(f.Input,{ref:"product-sort-name",value:this.state.productShortName,placeholder:"产品简称",onChange:function(t){e.setState({productShortName:t.target.value})}})),c.default.createElement(y,o({},n,{label:c.default.createElement("span",null,c.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"到期时间"),hasFeedback:!0}),c.default.createElement(f.DatePicker,{format:"YYYY-MM-DD",onChange:this.changeExpireDate.bind(this),value:(0,f.moment)(this.state.expireDate,u),size:"default"})),c.default.createElement(y,o({},n,{label:c.default.createElement("span",null,c.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品类型"),hasFeedback:!0}),c.default.createElement(v,{onChange:function(t){e.setState({productType:t.target.value})},value:this.state.productType},c.default.createElement(f.Radio,{value:0},"基础产品"),c.default.createElement(f.Radio,{value:1},"付费产品"),c.default.createElement(f.Radio,{value:2},"默认产品(不需要申请)"))),c.default.createElement(y,o({},n,{label:c.default.createElement("span",null,c.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品图标"),hasFeedback:!0}),this.state.currentIcon&&"zmiti"===this.state.currentIconType&&c.default.createElement("div",{className:"product-menu-ico"},c.default.createElement("img",{src:this.state.currentIcon})),this.state.currentIcon&&"antd"===this.state.currentIconType&&c.default.createElement("div",{className:"product-menu-ico product-antd-ico"},c.default.createElement(f.Icon,{type:this.state.currentIcon})),c.default.createElement(v,{onChange:this.onChangeIcon.bind(this),value:this.state.currentIconType},c.default.createElement(f.Radio,{value:"zmiti"},"智媒体图标"),c.default.createElement(f.Radio,{value:"antd"},"组件库图标")),c.default.createElement("section",{className:"product-ico-C",style:{display:this.state.iconModalVisible?"block":"none"}},c.default.createElement("section",{className:"product-ico-header"},c.default.createElement("div",null,"添加产品图标"),c.default.createElement("div",{onClick:function(){e.setState({iconModalVisible:!1})}},c.default.createElement("span",null,"×"))),c.default.createElement("section",{className:"product-ico-list"},"zmiti"===this.state.currentIconType&&c.default.createElement("div",null,c.default.createElement("ul",{onClick:this.changeIcon.bind(this)},c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-money-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-msg-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{
draggable:"false",src:"../public/images/lt-usergroup-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-user-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),c.default.createElement("li",null,c.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})))),"antd"===this.state.currentIconType&&c.default.createElement("div",null,c.default.createElement("ul",{onClick:this.changeIcon.bind(this)},c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"lock"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"unlock"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"android"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"apple"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"apple-o"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"area-chart"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"pie-chart"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"bar-chart"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"dot-chart"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"bars"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"book"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"calendar"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"cloud"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"cloud-download"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"code"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"code-o"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"copy"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"credit-card"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"desktop"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"edit"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"ellipsis"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"file"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"appstore-o"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"picture"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"shopping-cart"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"star-o"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"star"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"hearr-o"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"camera"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"camera-o"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"team"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"solution"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"customer-service"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"switcher"})),c.default.createElement("li",null,c.default.createElement(f.Icon,{type:"rocket"}))))))),c.default.createElement(y,o({},n,{label:c.default.createElement("span",null,c.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品费用"),hasFeedback:!0}),c.default.createElement(f.Input,{ref:"product-cost",addonAfter:"￥/月",value:this.state.productPrice,onChange:function(t){e.setState({productPrice:t.target.value})}})),c.default.createElement(y,o({},n,{label:c.default.createElement("span",null,c.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品地址"),hasFeedback:!0}),c.default.createElement(f.Input,{ref:"product-path",value:this.state.productLink,onChange:function(t){e.setState({productLink:t.target.value})},placeholder:"产品存放的项目地址，由超级管理员填写"})),c.default.createElement(y,o({},n,{label:c.default.createElement("span",null,"产品说明"),hasFeedback:!0}),c.default.createElement("textarea",{ref:"product-remark",value:this.state.productRemark,style:{width:"100%"},onChange:function(t){e.setState({productRemark:t.target.value})},placeholder:"产品说明"}))))));return c.default.createElement(g.default,{component:d})}},{key:"delProduct",value:function(e){var t=this;this.setState({loading:!0,tip:"正在删除数据..."}),$.ajax({url:window.baseUrl+"product/del_product/",data:{userid:t.userid,getusersigid:t.getusersigid,productids:e},success:function(e){f.message[0===e.getret?"success":"error"](e.getmsg),0===e.getret&&t.loadData(),t.setState({loading:!1})}})}},{key:"loadData",value:function(){var e=this;this.getProductList({s:this,fn:function(t){e.state.productlist=t.productlist,e.state.productlist.forEach(function(e,t){e.key=t+1}),e.state.loading=!1,e.forceUpdate()}})}},{key:"componentDidMount",value:function(){this.loadData()}},{key:"changeExpireDate",value:function(e){this.setState({expireDate:e.format("YYYY-MM-DD")})}},{key:"changeIcon",value:function(e){switch(this.state.currentIconType){case"zmiti":var t=e.target.src||e.target.children[0].src;if(!t)return;this.setState({currentIcon:t});break;case"antd":if("I"===e.target.nodeName)var r=e.target.className.split(" ")[1].substring(8);else var r=e.target.children[0].className.split(" ")[1].substring(8);console.log(r),this.setState({currentIcon:r})}}},{key:"addProduct",value:function(){var e="";"zmiti"===this.state.currentIconType?(e=this.state.currentIcon.split("//").length>1?this.state.currentIcon.split("//")[1]:this.state.currentIcon.split("//")[0],e=e.split("/"),e.shift(),e=e.indexOf("/main/")<=-1?"/main/"+e.join("/"):e.join("/")):e=this.state.currentIcon;var t=this,r={producturl:this.state.productLink,productname:this.state.productName,outline:this.state.productShortName,icontype:"antd"===this.state.currentIconType,producticon:e,producttype:this.state.productType,endtime:this.state.expireDate,price:this.state.productPrice,bookingmonthnum:1,description:this.state.productRemark,userid:this.userid,getusersigid:this.getusersigid};this.currentId!==-1?(this.setState({loading:!0,tip:"正在修改数据..."}),r.productid=this.currentId,$.ajax({type:"POST",url:window.baseUrl+"/product/edit_product/",data:r,success:function(e){f.message[0===e.getret?"success":"error"](e.getmsg),t.setState({visible:!1,loading:!1}),t.loadData()}})):(t.setState({loading:!0,tip:"正在添加数据..."}),$.ajax({type:"POST",url:window.baseUrl+"/product/add_product/",data:r,success:function(e){f.message[0===e.getret?"success":"error"](e.getmsg),t.setState({visible:!1,loading:!1}),t.loadData()}}))}},{key:"onChangeIcon",value:function(e){switch(e.target.value){case"zmiti":this.setState({currentIcon:this.state.defaultZmitiIcon});break;case"antd":this.setState({currentIcon:this.state.defaultAntdIcon})}this.setState({currentIconType:e.target.value,iconModalVisible:!0})}}]),t}(c.default.Component);t.default=(0,d.ZmitiValidateUser)(w),e.exports=t.default}).call(this)}finally{}},1331:function(e,t,r){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}},s=r(1),u=a(s);r(1403);var c=r(31),d=a(c),f=r(12),m=r(75),p=a(m),h=r(17),g=f.Select.Option,y=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,userList:[{key:1,username:"bmyuan",mobile:"13455422525",email:"1345542525@163.com",sigleUserTotalNum:"13|30",companyUserTotalNum:"13|30"},{key:2,username:"bmyuan",mobile:"13455422525",email:"1345542525@163.com",sigleUserTotalNum:"13|30",companyUserTotalNum:"13|30"},{key:3,username:"bmyuan",mobile:"13455422525",email:"1345542525@163.com",sigleUserTotalNum:"13|30",companyUserTotalNum:"13|30"},{key:4,username:"bmyuan",mobile:"13455422525",email:"1345542525@163.com",sigleUserTotalNum:"13|30",companyUserTotalNum:"13|30"},{key:5,username:"bmyuan",mobile:"13455422525",email:"1345542525@163.com",sigleUserTotalNum:"13|30",companyUserTotalNum:"13|30"},{key:6,username:"bmyuan",mobile:"13455422525",email:"1345542525@163.com",sigleUserTotalNum:"13|30",companyUserTotalNum:"13|30"}]},this.changeAccount=this.changeAccount.bind(this)}return n(t,e),o(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx"},{title:"用户名",dataIndex:"username",key:"username"},{title:"手机",dataIndex:"mobile",key:"mobile"},{title:"邮箱",dataIndex:"email",key:"email"},{title:"个人用户数",dataIndex:"sigleUserTotalNum",key:"sigleUserTotalNum"},{title:"公司用户数",dataIndex:"companyUserTotalNum",key:"companyUserTotalNum"},{title:"操作",dataIndex:"",key:"x",render:function(){return u.default.createElement("div",null,u.default.createElement("a",{href:"#"},"转用户"),"    ",u.default.createElement("a",{href:"#"},"删除"))}}],r=this.props.params.title,a={userList:this.state.userList,columns:[t,t],changeAccount:this.changeAccount,tags:["账户管理","分配用户"],mainHeight:this.state.mainHeight,title:r,keyDown:function(t){clearTimeout(e.keyupTimer),void 0===e.defautlUserList&&(e.defautlUserList=e.state.userList.concat([])),e.keyupTimer=setTimeout(function(){var r=e.defautlUserList,a="username";e.state.userList=r.filter(function(r){switch(1*e.condition){case 0:a="username";break;case 1:a="username"}return r[a].indexOf(t)>-1}),e.forceUpdate(function(){})},350)},selectComponent:u.default.createElement(f.Select,{placeholder:"用户名",onChange:function(t){e.condition=t},style:{width:120},size:"small"},u.default.createElement(g,{value:"0"},"用户名"))};return u.default.createElement(p.default,{component:u.default.createElement(d.default,a)})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,r=e.validateUser,a=e.loginOut;t(this),r(function(){a(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){}},{key:"changeAccount",value:function(e){}}]),t}(s.Component);t.default=(0,h.ZmitiValidateUser)(y),e.exports=t.default}).call(this)}finally{}},1332:function(e,t,r){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}},s=r(1),u=a(s);r(1404);var c=r(31),d=a(c),f=r(12),m=r(75),p=a(m),h=r(17),g=f.Select.Option,y=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,selectedIndex:0,userList:[]},this.transFormal=this.transFormal.bind(this),this.disableUser=this.disableUser.bind(this)}return n(t,e),o(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx"},{title:"用户名",dataIndex:"username",key:"username"},{title:"手机",dataIndex:"mobile",key:"mobile"},{title:"邮箱",dataIndex:"email",key:"email"},{title:"注册日期",dataIndex:"regDate",key:"regDate",sorter:function(e,t){return e.key-t.key}},{title:"剩余天数",dataIndex:"surplusDays",key:"surplusDays",sorter:function(e,t){return e.surplusDays-t.surplusDays}},{title:"空间使用量",dataIndex:"userSpace",key:"userSpace"}],r=t.concat({title:"操作",dataIndex:"",key:"x",width:"30%",render:function(t,r){return u.default.createElement("div",{"data-userid":r.userid},u.default.createElement("a",{href:"javascript:void(0)","data-index":"0",style:{color:2===r.isover?"":"red"},onClick:e.disableUser},2===r.isover?"启用":"禁用"),"    ",u.default.createElement("a",{href:"javascript:void(0)"},"延长试用"),"    ",u.default.createElement("a",{href:"javascript:void(0)"},"提升空间"),"    ",u.default.createElement("a",{href:"javascript:void(0)",onClick:e.transFormal},"转为正式用户"))}}),a=t.concat({title:"操作",width:"30%",dataIndex:"",key:"x",render:function(t,r){return u.default.createElement("div",{"data-userid":r.userid},u.default.createElement("a",{href:"javascript:void(0)","data-index":"0",style:{color:2===r.isover?"":"red"},onClick:e.disableUser},2===r.isover?"启用":"禁用"),"    ",u.default.createElement("a",{href:"javascript:void(0)"},"删除"),"    ",u.default.createElement("a",{href:"javascript:void(0)"},"设置权限"))}}),i=this.props.params.title,n={userList:this.state.userList,columns:[r,a],mainHeight:this.state.mainHeight,title:i,changeAccount:this.changeAccount.bind(this),keyDown:function(t){clearTimeout(e.keyupTimer),void 0===e.defautlUserList&&(e.defautlUserList=e.state.userList.concat([])),e.keyupTimer=setTimeout(function(){var r=e.defautlUserList,a="username";e.state.userList=r.filter(function(r){switch(1*e.condition){case 0:a="username";break;case 1:a="username"}return r[a].indexOf(t)>-1}),e.forceUpdate(function(){})},350)},selectComponent:u.default.createElement(f.Select,{placeholder:"用户名",onChange:function(){},style:{width:120},size:"small"},u.default.createElement(g,{value:"0"},"用户名"))};return u.default.createElement(p.default,{component:u.default.createElement(d.default,n)})}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),r=e.loginOut;e.resizeLeftMenu;t(function(){r(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.resizeMainHeight,r=(e.validateUser,e.loginOut);e.resizeLeftMenu;t(this,"setAdminHeight");var a={getusersigid:this.getusersigid,userid:this.userid,setusertypesign:1},i=this;$.ajax({type:"POST",url:window.baseUrl+"/user/get_userlist/",data:a,success:function(e){console.log(e),0===e.getret?i.setState({userList:e.userlist}):e.getret===-3?(f.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):r(e.getmsg,window.loginUrl,!1)}})}},{key:"disableUser",value:function(e){e.preventDefault();var t=e.target.parentNode.getAttribute("data-userid"),r=-1;if(this.state.userList.forEach(function(e,a){e.userid===t&&(r=e.isover)}),r!==-1){var a={getusersigid:this.getusersigid,userid:this.userid,setuserid:t,setisover:2===r?0:2},i=this.props.baseUrl||"http://api.zmiti.com/v2",n=this;$.ajax({type:"post",url:i+"user/disable_user/",data:a,success:function(e){0===e.getret?(f.message.success("操作成功"),n.state.userList.forEach(function(e){e.userid===t&&(e.isover=2===r?0:2)}),n.forceUpdate()):f.message.error("操作失败")}})}}},{key:"transFormal",value:function(e){var t=e.target.parentNode.getAttribute("data-userid"),r={getusersigid:this.getusersigid,userid:this.userid,setuserid:t,setisover:0},a=window.baseUrl||"http://api.zmiti.com/v2",i=this;$.ajax({type:"post",url:a+"user/disable_user/",data:r,success:function(e){console.log(e),0===e.getret?(f.message.success("操作成功"),i.state.userList.forEach(function(e){e.userid===t&&(e.isover=0)}),i.forceUpdate()):f.message.error("操作失败")}})}},{key:"changeAccount",value:function(e){this.setState({selectedIndex:e})}}]),t}(s.Component);t.default=(0,h.ZmitiValidateUser)(y),y.defaultProps={baseUrl:window.baseUrl||"http://api.zmiti.com/v2/"},e.exports=t.default}).call(this)}finally{}},1333:function(e,t,r){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}},s=r(1),u=a(s);r(1405);var c=r(31),d=a(c),f=r(12),m=r(75),p=a(m),h=r(17),g=(f.Select.Option,f.Steps.Step),y=f.Layout.Header,v=f.Layout.Content,w=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,uploadData:[],workorderid:"",content:"",createtime:"",status:"",workordertype:"",workordername:"",totalminu:"",statusName:"",getTimestr:"",usericon:"",questionContent:"",isHidden:!1,orderoperation:"",workeorderinfo:[],setuserid:"",customername:""},this.condition=0}return n(t,e),o(t,[{key:"render",value:function(){var e=this,t="工单管理",r={userid:this.userid,changeAccount:this.changeAccount,mainHeight:this.state.mainHeight,tags:["处理中","已处理"],type:"vieworder",title:t,selectedIndex:1,rightType:"custom",customRightComponent:u.default.createElement("div",{className:"zmiti-vieworder-main-ui"},u.default.createElement("div",{className:"pad-10"},u.default.createElement(f.Row,{className:"zmiti-vieworder-header"},u.default.createElement(f.Col,{span:8,className:"zmiti-vieworder-header-inner"},"工单详情"),u.default.createElement(f.Col,{span:8,offset:8,className:"zmiti-workorder-button-right"},u.default.createElement(f.Button,{type:"primary",onClick:this.changeAccount.bind(this,1)},"返回列表"))),u.default.createElement("div",{className:"zmiti-workorder-line"}),u.default.createElement("div",{className:"hr10"}),u.default.createElement("div",{className:"hr10"}),u.default.createElement(f.Steps,{current:1*this.state.status},u.default.createElement(g,{title:"已受理",icon:u.default.createElement(f.Icon,{type:"user"})}),u.default.createElement(g,{title:"已处理",icon:u.default.createElement(f.Icon,{type:"solution"})}),u.default.createElement(g,{title:"已确认",icon:u.default.createElement(f.Icon,{type:"save"})}),u.default.createElement(g,{title:"已评价",icon:u.default.createElement(f.Icon,{type:"smile-o"})})),u.default.createElement("div",{className:"hr10"}),u.default.createElement("div",{className:"view-questionInfo"},u.default.createElement("div",{className:"gutter-example"},u.default.createElement(f.Row,null,u.default.createElement(f.Col,{span:24},u.default.createElement("span",{className:"questionTitle"},"问题描述："),this.state.content)),u.default.createElement(f.Row,null,u.default.createElement(f.Col,{span:6},u.default.createElement("span",{className:"questionTitle"},"工单编号："),this.state.workorderid),u.default.createElement(f.Col,{span:6},u.default.createElement("span",{className:"questionTitle"},"提交时间："),this.state.createtime),u.default.createElement(f.Col,{span:6},u.default.createElement("span",{className:"questionTitle"}," 状态："),this.state.statusName),u.default.createElement(f.Col,{span:6},u.default.createElement("div",{className:"text-right"},u.default.createElement("a",{href:"javasctip:void(0);",onClick:this.getorderoperation.bind(this)},this.state.orderoperation)))))),u.default.createElement("div",{className:"hr10"}),u.default.createElement(f.Layout,{className:"workorder-table"},u.default.createElement(y,null,this.state.getworkordername),u.default.createElement(v,null,u.default.createElement("div",{className:"view-questionPane"},u.default.createElement("div",{className:"view-questionLists"},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement("div",{className:"view-faceIco"},u.default.createElement("img",{src:this.state.usericon})),u.default.createElement("div",{className:"view-Infor"},u.default.createElement("div",null,this.state.customername),u.default.createElement("div",null,"问题描述：",this.state.content),u.default.createElement("div",null),u.default.createElement("div",null,this.state.createtime))),this.state.workeorderinfo.map(function(t,r){return u.default.createElement("li",{key:r,className:0===t.workordertype&&"messageDiv"},u.default.createElement("div",{className:"view-faceIco"},0===t.workordertype&&u.default.createElement("img",{src:"./static/images/notify.jpg"}),1===t.workordertype&&u.default.createElement("img",{src:e.state.usericon})),u.default.createElement("div",{className:"view-Infor"},0===t.workordertype&&"管理员回复：",1===t.workordertype&&e.state.customername,u.default.createElement("p",null,"问题描述：",t.content),u.default.createElement("p",null,t.operatime),u.default.createElement("p",null,t.attachment&&t.attachment.split(",").map(function(e,t){return u.default.createElement("a",{key:t,href:e,title:e}," ","点击下载")}))))}))))))))},a=u.default.createElement(d.default,r);return u.default.createElement(p.default,{component:a})}},{key:"changeAccount",value:function(e){1*e===0?window.location.hash="#/listorder/工单管理":1*e===1&&(window.location.hash="#/listorder/工单管理")}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),r=e.loginOut;e.resizeLeftMenu;t(function(){r(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props.params.id,t=this;$.ajax({url:window.baseUrl+"user/view_workorder",data:{userid:t.userid,getusersigid:t.getusersigid,setworkorderid:e},success:function(e){0===e.getret&&(t.state.workorderid=e.workinfo.workorderid,t.state.content=e.workinfo.content,t.state.createtime=e.workinfo.createtime,t.state.status=e.workinfo.status,t.state.totalminu=e.workinfo.totalminu,t.state.operauser=e.workinfo.userid,t.filterStatus(),t.state.workordertype=e.workinfo.workordertype,t.getuserinfo(e.workinfo.userid),t.getworkordername(),t.forceUpdate())}}),t.getworkorderlist()}},{key:"getuserinfo",value:function(e){var t=this;return $.ajax({url:window.baseUrl+"user/get_userdetails/",data:{userid:t.userid,getusersigid:t.getusersigid,isonly:1,setuserid:e},success:function(e){0===e.getret?(t.state.customername=e.getuserinfo.customername,t.state.usericon=e.getuserinfo.usericon,t.forceUpdate()):e.getret===-3?(f.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):loginOut(e.getmsg,window.loginUrl,!1)}}),e}},{key:"getworkorderlist",value:function(){var e=this;$.ajax({url:window.baseUrl+"user/view_workorder",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.props.params.id},success:function(t){console.log(t),0===t.getret&&(e.state.workeorderinfo=t.workinfo.operainfo,e.state.setuserid=t.workinfo.operainfo[0].operauser,e.forceUpdate())}})}},{key:"getworkordername",value:function(){var e=this;switch(e.state.workordertype){case 0:e.state.getworkordername="财务类工单问题";break;case 1:e.state.getworkordername="会员帐号类工单问题";break;case 2:e.state.getworkordername="定制服务类工单帐号问题";break;case 3:e.state.getworkordername="产品技术类工单问题";break;case 4:e.state.getworkordername="其它类工单问题"}}},{key:"filterStatus",value:function(){var e=this;switch(e.state.status){case 0:e.state.statusName="已受理",e.state.orderoperation="关闭工单";break;case 1:e.state.statusName="已处理",e.state.orderoperation="关闭工单";break;case 2:e.state.statusName="已确认",e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="删除工单";break;case 3:e.state.statusName="已评价",e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="删除工单"}}},{key:"getorderoperation",value:function(){var e=this;"关闭工单"==e.state.orderoperation&&$.ajax({url:window.baseUrl+"user/close_workorder/",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid},success:function(t){0===t.getret?(f.message.success("关闭工单成功"),e.state.orderoperation="删除工单",e.setState({isHidden:!0}),e.forceUpdate()):t.getret===-3?(f.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):f.message.error(t.getmsg)}}),"删除工单"==e.state.orderoperation&&$.ajax({url:window.baseUrl+"user/del_workorder/",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid},success:function(e){0===e.getret?(f.message.success("删除工单成功"),setTimeout(function(){window.location.hash="workorder/"},2e3)):e.getret===-3?(f.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):f.message.error(e.getmsg)}})}}]),t}(s.Component);t.default=(0,h.ZmitiValidateUser)(w),e.exports=t.default}).call(this)}finally{}},1334:function(e,t,r){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;a=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,r=o,a=!0,l=u=void 0}},s=r(1),u=a(s);r(1406);var c=r(31),d=a(c),f=r(12),m=r(75),p=a(m),h=r(17),g=f.Select.Option,y=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,userList:[]},this.condition=0}return n(t,e),o(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx"},{title:"工单号",dataIndex:"workorderid",key:"workorderid"},{title:"用户名",dataIndex:"username",key:"username"},{title:"工单标题",dataIndex:"title",key:"title"},{title:"工单内容",dataIndex:"content",key:"content"},{title:"处理人",dataIndex:"adminname",key:"adminname"},{title:"工单类型",dataIndex:"workordertype",key:"workordertype"},{title:"工单状态",dataIndex:"status",key:"status"},{title:"创建时间",dataIndex:"createtime",key:"createtime",sorter:function(e,t){return e.key-t.key}},{title:"修改时间",dataIndex:"operatime",key:"operatime"}],r=t.concat({title:"操作",width:"20%",dataIndex:"",key:"x",render:function(e,t){return u.default.createElement("div",{"data-userid":t.userid},u.default.createElement("a",{href:"javascript:void(0)"},"审核通过"),"    ",u.default.createElement("a",{href:"javascript:void(0)"},"审核不通过"))}}),a=t.concat({title:"状态",dataIndex:"",key:"x",render:function(e,t){return u.default.createElement("div",{"data-userid":t.userid},u.default.createElement("a",{href:"javascript:void(0)"},"审核已通过"))}}),i=t.concat({title:"状态",dataIndex:"",key:"x",render:function(e,t){return u.default.createElement("div",{"data-userid":t.userid},u.default.createElement("a",{href:"javascript:void(0)"},"审核未通过"))}}),n=this.props.params.title,o={userList:this.state.userList,columns:[r,a,i],changeAccount:this.changeAccount,mainHeight:this.state.mainHeight,tags:["待处理","已反馈","已处理","已关闭"],type:"workorder",title:n,keyDown:function(t){clearTimeout(e.keyupTimer),void 0===e.defautlUserList&&(e.defautlUserList=e.state.userList.concat([])),e.keyupTimer=setTimeout(function(){var r=e.defautlUserList,a="workorderid";e.state.userList=r.filter(function(r){switch(1*e.condition){case 0:a="workorderid";break;case 1:a="username"}return r[a].indexOf(t)>-1}),e.forceUpdate(function(){})},350)},selectComponent:u.default.createElement(f.Select,{placeholder:"工单号",onChange:function(t){e.condition=t},style:{width:120},size:"small"},u.default.createElement(g,{value:"0"},"工单号"),u.default.createElement(g,{value:"1"},"用户名"))};return console.log(o.userList),u.default.createElement(p.default,{component:u.default.createElement(d.default,o)})}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),r=e.loginOut;e.resizeLeftMenu;t(function(){r(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.resizeMainHeight,r=(e.validateUser,e.loginOut);e.resizeLeftMenu;t(this,"setAdminHeight");var a={getusersigid:this.getusersigid,userid:this.userid,setisadmin:1},i=this;$.ajax({type:"POST",url:window.baseUrl+"/user/get_workorder/",data:a,success:function(e){console.log(e),0===e.getret?i.setState({userList:e.workorderinfo}):e.getret===-3?(f.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):r(e.getmsg,window.loginUrl,!1)}})}}]),t}(s.Component);t.default=(0,h.ZmitiValidateUser)(y),e.exports=t.default}).call(this)}finally{}},1397:function(e,t,r){var a=r(1195);"string"==typeof a&&(a=[[e.id,a,""]]);r(14)(a,{});a.locals&&(e.exports=a.locals)},1398:function(e,t,r){var a=r(1196);"string"==typeof a&&(a=[[e.id,a,""]]);r(14)(a,{});a.locals&&(e.exports=a.locals)},1399:function(e,t,r){var a=r(1197);"string"==typeof a&&(a=[[e.id,a,""]]);r(14)(a,{});a.locals&&(e.exports=a.locals)},1400:function(e,t,r){var a=r(1198);"string"==typeof a&&(a=[[e.id,a,""]]);r(14)(a,{});a.locals&&(e.exports=a.locals);
},1401:function(e,t,r){var a=r(1199);"string"==typeof a&&(a=[[e.id,a,""]]);r(14)(a,{});a.locals&&(e.exports=a.locals)},1402:function(e,t,r){var a=r(1200);"string"==typeof a&&(a=[[e.id,a,""]]);r(14)(a,{});a.locals&&(e.exports=a.locals)},1403:function(e,t,r){var a=r(1201);"string"==typeof a&&(a=[[e.id,a,""]]);r(14)(a,{});a.locals&&(e.exports=a.locals)},1404:function(e,t,r){var a=r(1202);"string"==typeof a&&(a=[[e.id,a,""]]);r(14)(a,{});a.locals&&(e.exports=a.locals)},1405:function(e,t,r){var a=r(1203);"string"==typeof a&&(a=[[e.id,a,""]]);r(14)(a,{});a.locals&&(e.exports=a.locals)},1406:function(e,t,r){var a=r(1204);"string"==typeof a&&(a=[[e.id,a,""]]);r(14)(a,{});a.locals&&(e.exports=a.locals)}});