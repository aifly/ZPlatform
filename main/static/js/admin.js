webpackJsonp([0],{0:function(e,exports,t){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),n=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},o=t(1),l=e(o),s=t(31),u=e(s),c=t(170),d=t(233),p=e(d),f=t(234),m=e(f),h=t(1017),g=e(h),y=t(1029),v=e(y),b=t(1032),E=e(b),w=t(1035),A=e(w),k=t(1041),x=e(k),I=t(1044),C=e(I),N=t(1047),B=e(N),Q=t(1050),O=e(Q),j=t(1054),M=e(j),S=t(1057),z=e(S),D=t(1060),U=e(D),T=t(1064),P=e(T),L=t(1068),R=e(L),Y=t(1072),H=e(Y),G=t(1076),Z=e(G),J=t(1079),F=e(J),W=t(1082),V=e(W),_=t(1085),q=e(_),X=t(1086),K=e(X),ee=function(e){function t(e){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,e)}return i(t,e),r(t,[{key:"render",value:function(){var e=[{path:"/",app:m.default},{path:"/user/:title",app:g.default},{path:"/company/:title",app:v.default},{path:"/system/:title",app:E.default},{path:"/product/",app:A.default},{path:"/workorder/:title",app:x.default},{path:"/editorder/(:id)",app:C.default},{path:"/vieworder/(:id)",app:B.default},{path:"/listorder/:title",app:O.default},{path:"/datum/(:id)",app:M.default},{path:"/editorinfo/(:id)",app:z.default},{path:"/repertorypub/(:id)",app:U.default},{path:"/repertorycom/",app:P.default},{path:"/repertoryper/",app:R.default},{path:"/categoryrepertory/(:id)",app:H.default},{path:"/companyuserinfo/:title/id/(:id)",app:Z.default},{path:"/companyinformation/id/(:id)",app:F.default},{path:"/sysauth/",app:V.default},{path:"/sysrole/",app:q.default},{path:"/folder/",app:K.default}];return l.default.createElement(c.Router,{history:c.hashHistory},e.map(function(e,t){return l.default.createElement(c.Route,{key:t,path:e.path,component:e.app})}))}},{key:"componentWillMount",value:function(){window.obserable=new p.default,window.mainLeftSize=180,window.getCookie=function(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var r=a[i];" "==r.charAt(0);)r=r.substring(1);if(r.indexOf(t)!=-1)return r.substring(t.length,r.length)}return""}}},{key:"componentDidMount",value:function(){window.addEventListener("resize",function(){window.obserable.trigger({type:"setAdminMenu"}),window.obserable.trigger({type:"setAdminHeight"})})}}]),t}(l.default.Component);u.default.render(l.default.createElement(ee,{isAdmin:!0}),document.getElementById("fly-main"))}).call(this)}finally{}},234:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l),u=t(235),c=a(u),d=t(1004),p=a(d),f=t(1002),m=a(f),h=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={mainHeight:document.documentElement.clientHeight-50}}return r(t,e),n(t,[{key:"render",value:function(){var e=this,t={onChange:function(t){console.log(t.el.innerHTML),e.setState({html:t.el.innerHTML})},$:m.default,height:this.state.mainHeight/2,html:this.state.html,isAdmin:!0},a=s.default.createElement("div",null,s.default.createElement(p.default,t));return s.default.createElement(c.default,{component:a})}}]),t}(l.Component);exports.default=h,e.exports=exports.default}).call(this)}finally{}},235:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l),u=t(236);t(997);var c=t(170),d=t(1001),p=a(d),f=t(1003),m=u.Menu.SubMenu,h=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={defaultClass:"fly-left-aside",isOpen:!0,current:"3",currentAcc:"iLinten@qq.com",rightWidth:0,userid:"",getusersigid:""}}return r(t,e),n(t,[{key:"menuClickHandler",value:function(e){}},{key:"handleClick",value:function(e){}},{key:"toggleMenu",value:function(){var e=this;"fly-left-aside"===this.state.defaultClass?(window.mainLeftSize=60,this.setState({defaultClass:"fly-left-aside unfold",isOpen:!1,rightWidth:document.documentElement.clientWidth-window.mainLeftSize})):(this.setState({defaultClass:"fly-left-aside"}),window.mainLeftSize=180,setTimeout(function(){e.setState({isOpen:!0,rightWidth:document.documentElement.clientWidth-window.mainLeftSize})},200))}},{key:"render",value:function(){this.userManagerMenuConfig=[{linkTo:"/user/个人账户管理",key:"user",title:"个人账户管理",isIcon:!0,type:"user",isShow:!0},{linkTo:"/company/公司账户管理",key:"company",title:"公司账户管理",isIcon:!0,type:"customerservice",isShow:!0}],this.productServiceMenuConfig=[{linkTo:"/product/",key:"product",title:"新增产品",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/listorder/工单管理",key:"workorder",title:"工单管理",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/datum/",key:"datum",title:"资料管理",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/sysauth/",key:"sysauth",title:"权限管理",isIcon:!0,type:"user",isShow:!0}],4===this.usertypesign&&this.userManagerMenuConfig.push({linkTo:"/system/系统账户管理",key:"system",title:"系统账户管理",isIcon:!0,type:"edit",isShow:!0});var e=window.location.hash,t="sub5";this.productServiceMenuConfig.forEach(function(a,i){e.indexOf(a.key)>-1&&(t="sub6")});var a={usertypesign:this.usertypesign,currentAcc:this.state.currentAcc,userid:this.userid,type:"admin",getusersigid:this.getusersigid,logo:"../static/images/logo.png"};return s.default.createElement("section",{className:"main"},s.default.createElement(p.default,a),s.default.createElement("article",{className:"fly-content"},s.default.createElement("section",{className:this.state.defaultClass},s.default.createElement("div",{className:"fly-toggle-menu",onClick:this.toggleMenu.bind(this)},s.default.createElement(u.Icon,{type:"menu-fold",style:{display:this.state.isOpen?"inline-block":"none"}}),s.default.createElement(u.Icon,{type:"menu-unfold",style:{display:this.state.isOpen?"none":"inline-block"}})),s.default.createElement("div",{className:"fly-menu-c"},s.default.createElement(u.Menu,{style:{width:182},defaultOpenKeys:[t],selectedKeys:[this.state.current],mode:"inline"},s.default.createElement(m,{key:"sub5",title:s.default.createElement("span",null,s.default.createElement(u.Icon,{type:"setting",style:{marginRight:"22px"}}),s.default.createElement("span",null,"用户管理"))},this.userManagerMenuConfig.map(function(e){return s.default.createElement(u.Menu.Item,{key:e.key},s.default.createElement(u.Icon,{type:e.type,style:{marginRight:"32px"}}),s.default.createElement(c.Link,{to:e.linkTo},e.title))})),s.default.createElement(m,{key:"sub6",title:s.default.createElement("span",null,s.default.createElement(u.Icon,{type:"setting",style:{marginRight:"22px"}}),s.default.createElement("span",null,"操作管理"))},this.productServiceMenuConfig.map(function(e){return s.default.createElement(u.Menu.Item,{key:e.key},s.default.createElement(u.Icon,{type:e.type,style:{marginRight:"32px"}}),s.default.createElement(c.Link,{to:e.linkTo},e.title))}))))),s.default.createElement("section",{className:"fly-right-aside",style:{width:this.state.rightWidth}},this.props.component)))}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,i=e.loginOut,r=e.resizeLeftMenu;t(this,"setAdminHeight"),r(this,"setAdminMenu");var n=a(function(){i(void 0,void 0,!1)}),o=n.userid,l=n.getusersigid,s=n.companyid,u=(n.username,n.isover),c=n.usertypesign;this.userid=o,this.getusersigid=l,this.companyid=s,this.isover=u,this.usertypesign=c,this.loginOut=i,this.usertypesign!==window.Role.NORMALADMINUSER&&this.usertypesign!==window.Role.SUPERADMINUSER&&i("您没有访问的权限",window.mainUrl,!1)}},{key:"componentDidMount",value:function(){var e=window.location.hash,t=this.userManagerMenuConfig.concat(this.productServiceMenuConfig),a="";t.forEach(function(t){e.indexOf("#"+t.linkTo)>-1&&(a=t.key)}),this.setState({current:a,rightWidth:document.documentElement.clientWidth-180,userid:this.userid,isover:this.isover,getusersigid:this.getusersigid})}}]),t}(l.Component);exports.default=(0,f.ZmitiValidateUser)(h),e.exports=exports.default}).call(this)}finally{}},1017:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},s=t(1),u=a(s);t(1018);var c=t(1020),d=a(c),p=t(236),f=t(235),m=a(f),h=t(1003),g=t(1002),y=a(g),v=t(1026),b=a(v),E=p.Select.Option,w=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,selectedIndex:0,productList:[],userList:[]},this.transFormal=this.transFormal.bind(this),this.disableUser=this.disableUser.bind(this)}return r(t,e),o(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx"},{title:"用户名",dataIndex:"username",key:"username"},{title:"手机",dataIndex:"mobile",key:"mobile"},{title:"邮箱",dataIndex:"email",key:"email"},{title:"注册日期",dataIndex:"regDate",key:"regDate",sorter:function(e,t){return e.key-t.key}},{title:"剩余天数",dataIndex:"surplusDays",key:"surplusDays",sorter:function(e,t){return e.surplusDays-t.surplusDays}},{title:"空间使用量",dataIndex:"userSpace",key:"userSpace"}],a=t.concat({title:"操作",dataIndex:"",key:"x",width:"30%",render:function(t,a){return u.default.createElement("div",{"data-userid":a.userid},u.default.createElement("a",{href:"javascript:void(0)","data-index":"0",style:{color:2===a.isover?"":"red"},onClick:e.disableUser},2===a.isover?"启用":"禁用"),"    ",u.default.createElement("a",{href:"javascript:void(0)"},"延长试用"),"    ",u.default.createElement("a",{href:"javascript:void(0)"},"提升空间"),"    ",u.default.createElement("a",{href:"javascript:void(0)",onClick:e.transFormal},"转为正式用户"))}}),i=t.concat({title:"操作",width:"30%",dataIndex:"",key:"x",render:function(t,a){return u.default.createElement("div",{"data-userid":a.userid},u.default.createElement("a",{href:"javascript:void(0)","data-index":"0",style:{color:2===a.isover?"":"red"},onClick:e.disableUser},2===a.isover?"启用":"禁用"),"    ",u.default.createElement("a",{href:"javascript:void(0)"},"删除"),"    ",u.default.createElement("a",{href:"javascript:void(0)",onClick:e.setRole.bind(e,a)},"设置权限"))}}),r=this.props.params.title,o={getusersigid:this.getusersigid,userid:this.userid,setuserid:this.state.setuserid},l={userList:this.state.userList,columns:[a,i],mainHeight:this.state.mainHeight,title:r,changeAccount:this.changeAccount.bind(this),keyDown:function(t){clearTimeout(e.keyupTimer),void 0===e.defautlUserList&&(e.defautlUserList=e.state.userList.concat([])),e.keyupTimer=setTimeout(function(){var a=e.defautlUserList,i="username";e.state.userList=a.filter(function(a){switch(1*e.condition){case 0:i="username";break;case 1:i="username"}return a[i].indexOf(t)>-1}),e.forceUpdate(function(){})},350)},selectComponent:u.default.createElement("div",null,u.default.createElement(p.Select,{placeholder:"用户名",onChange:function(){},style:{width:120},size:"small"},u.default.createElement(E,{value:"0"},"用户名")),this.state.showRole&&u.default.createElement(b.default,n({},o,{showRole:this.state.showRole,productList:this.state.productList})))};return u.default.createElement(m.default,{component:u.default.createElement(d.default,l)})}},{key:"setRole",value:function(e){var t=this;this.setState({setuserid:e.userid,showRole:!0},function(){t.loadRoleData(),window.obserable.trigger({type:"toggleRoleModal",data:!0})})}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),a=e.loginOut;e.resizeLeftMenu;t(function(){a(void 0,void 0,!1)},this)}},{key:"loadRoleData",value:function(){var e=this,t={getusersigid:this.getusersigid,userid:this.userid,setuserid:this.state.setuserid};y.default.ajax({url:window.baseUrl+"admin/getuserauth/",type:"post",data:t}).then(function(t){0===t.getret&&(console.log(t),e.setState({productList:t.list}))})}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.resizeMainHeight,i=(t.validateUser,t.loginOut);t.resizeLeftMenu;a(this,"setAdminHeight"),window.obserable.off("modifyProductList"),window.obserable.on("modifyProductList",function(t){e.setState({productList:t})});var r={getusersigid:this.getusersigid,userid:this.userid,setusertypesign:1,pagesize:100},n=this;y.default.ajax({type:"POST",url:window.baseUrl+"/user/get_userlist/",data:r,success:function(e){0===e.getret?n.setState({userList:e.userlist}):e.getret===-3?(p.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):i(e.getmsg,window.loginUrl,!1)}})}},{key:"disableUser",value:function(e){e.preventDefault();var t=e.target.parentNode.getAttribute("data-userid"),a=-1;if(this.state.userList.forEach(function(e,i){e.userid===t&&(a=e.isover)}),a!==-1){var i={getusersigid:this.getusersigid,userid:this.userid,setuserid:t,setisover:2===a?0:2},r=this.props.baseUrl||"http://api.zmiti.com/v2",n=this;y.default.ajax({type:"post",url:r+"user/disable_user/",data:i,success:function(e){0===e.getret?(p.message.success("操作成功"),n.state.userList.forEach(function(e){e.userid===t&&(e.isover=2===a?0:2)}),n.forceUpdate()):p.message.error("操作失败")}})}}},{key:"transFormal",value:function(e){var t=e.target.parentNode.getAttribute("data-userid"),a={getusersigid:this.getusersigid,userid:this.userid,setuserid:t,setisover:0},i=window.baseUrl||"http://api.zmiti.com/v2",r=this;y.default.ajax({type:"post",url:i+"user/disable_user/",data:a,success:function(e){console.log(e),0===e.getret?(p.message.success("操作成功"),r.state.userList.forEach(function(e){e.userid===t&&(e.isover=0)}),r.forceUpdate()):p.message.error("操作失败")}})}},{key:"changeAccount",value:function(e){this.setState({selectedIndex:e})}}]),t}(s.Component);exports.default=(0,h.ZmitiValidateUser)(w),w.defaultProps={baseUrl:window.baseUrl||"http://api.zmiti.com/v2/"},e.exports=exports.default}).call(this)}finally{}},1018:function(e,exports,t){var a=t(1019);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1019:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,"body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}",""])},1026:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l),u=t(1002),c=a(u),d=t(236);t(1027);var p=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return r(t,e),n(t,[{key:"render",value:function(){var e=this;return s.default.createElement(d.Modal,{title:"权限设置",visible:this.state.showRole,onOk:function(){e.setState({showRole:!1})},onCancel:function(){e.setState({showRole:!1})},width:800},s.default.createElement("ul",{className:"role-list"},s.default.createElement("li",null,s.default.createElement("aside",null),s.default.createElement("aside",null,"产品"),s.default.createElement("aside",null,"访问权限")),s.default.createElement("li",null,s.default.createElement("aside",null),s.default.createElement("aside",null,"产品"),s.default.createElement("aside",null,"访问权限")),this.props.productList.map(function(t,a){return s.default.createElement("li",{key:a},s.default.createElement("aside",null,s.default.createElement(d.Checkbox,null)),s.default.createElement("aside",null,t.productname),s.default.createElement("aside",null,s.default.createElement(d.Switch,{checked:1===t.status,onChange:e.toggleRole.bind(e,t,a),checkedChildren:"允许访问",unCheckedChildren:"不能访问"})))}))," ")}},{key:"toggleRole",value:function(e,t){var a=this;c.default.ajax({type:"post",url:window.baseUrl+"admin/setuserauth/",data:{userid:this.props.userid,getusersigid:this.props.getusersigid,setuserid:this.props.setuserid,isdel:1===e.status?1:2,productids:e.productid}}).done(function(e){if(console.log(e),0===e.getret){var i=a.props.productList;i[t].status=1===i[t].status?2:1,window.obserable.trigger({type:"modifyProductList",data:i})}})}},{key:"componentDidMount",value:function(){var e=this;window.obserable.off("toggleRoleModal"),window.obserable.on("toggleRoleModal",function(t){e.toggleModal(t)})}},{key:"toggleModal",value:function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];this.setState({showRole:e})}}]),t}(l.Component);exports.default=p,e.exports=exports.default}).call(this)}finally{}},1027:function(e,exports,t){var a=t(1028);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1028:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,".zmiti-text-overflow{overflow:hidden;white-space:nowrap;word-break:break-all;text-overflow:ellipsis;-webkit-text-overflow:ellipsis}.zmiti-break-all{word-wrap:break-word;word-break:break-all}.role-list{width:100%;-webkit-flex-wrap:wrap}.role-list,.role-list li{display:-webkit-box;display:-ms-flexbox;display:flex;display:-webkit-flex;-ms-flex-flow:row;flex-flow:row}.role-list li{width:40%;height:40px;line-height:40px;text-align:center}.role-list li:hover{background:#eee}.role-list li:nth-of-type(2n){margin-left:15%}.role-list li>aside{-webkit-box-flex:1;-ms-flex:1;flex:1}",""])},1029:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},s=t(1),u=a(s);t(1030);var c=t(1020),d=a(c),p=t(236),f=t(1026),m=a(f),h=t(235),g=a(h),y=t(1003),v=t(1002),b=a(v),E=p.Select.Option,w=(p.DatePicker.MonthPicker,p.DatePicker.RangePicker),A=(p.Button.Group,function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,userList:[],productList:[],visible:!1,datevalue:[],inputValue:100},this.condition=0,this.changeAccount=this.changeAccount.bind(this)}return r(t,e),o(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx"},{title:"公司名称",dataIndex:"companyName",key:"companyName",render:function(e,t){return u.default.createElement("a",{href:"./index.html#/companyinformation/id/"+t.userid},e)}},{title:"负责人账号",dataIndex:"username",key:"username"},{title:"用户总数",dataIndex:"totalUserNum",key:"totalUserNum"},{title:"到期时间",dataIndex:"expirDate",key:"expirDate"},{title:"空间使用量",dataIndex:"userSpace",key:"userSpace"},{title:"负责客服",dataIndex:"serviceName",key:"serviceName"}],a=t.concat({title:"操作",dataIndex:"",key:"x",render:function(t,a){return u.default.createElement("div",{"data-userid":a.userid},u.default.createElement("a",{href:"javascrit:void(0)",onClick:e.timextends.bind(e)},"延长时间"),"    ",u.default.createElement("a",{href:"./index.html#/companyuserinfo/试用公司账户/id/"+a.userid},"用户"),"    ",u.default.createElement("a",{href:"javascrit:void(0)",onClick:e.timextends.bind(e)},"提升空间"),"    ",u.default.createElement("a",{href:"javascrit:void(0)",onClick:e.regular.bind(e)}," 转正"))}}),i=t.concat({title:"操作",dataIndex:"",key:"x",render:function(t,a){return u.default.createElement("div",{"data-userid":a.userid},u.default.createElement("a",{href:"javascrit:void(0)",onClick:e.timextends.bind(e)},"延长时间"),"    ",u.default.createElement("a",{href:"./index.html#/companyuserinfo/正式公司账户/id/"+a.userid},"用户"),"    ",u.default.createElement("a",{href:"javascrit:void(0)",onClick:e.timextends.bind(e)},"提升空间"),"    ",u.default.createElement("a",{href:"javascrit:void(0)",onClick:e.setRole.bind(e,a)}," 设置权限"))}}),r=this.props.params.title,o={getusersigid:this.getusersigid,userid:this.userid,setuserid:this.state.setuserid},l={userList:this.state.userList,columns:[a,i],changeAccount:this.changeAccount,tags:["试用公司账户","正式公司账户"],mainHeight:this.state.mainHeight,title:r,keyDown:function(t){clearTimeout(e.keyupTimer),void 0===e.defautlUserList&&(e.defautlUserList=e.state.userList.concat([])),e.keyupTimer=setTimeout(function(){var a=e.defautlUserList,i="companyName";e.state.userList=a.filter(function(a){switch(1*e.condition){case 0:i="companyName";break;case 1:i="username"}return a[i].indexOf(t)>-1}),e.forceUpdate(function(){})},350)},selectComponent:u.default.createElement("div",null,u.default.createElement(p.Select,{placeholder:"公司名称",onChange:function(t){e.condition=t},style:{width:120},size:"small"},u.default.createElement(E,{value:"0"},"公司名称"),u.default.createElement(E,{value:"1"},"负责人账号")),u.default.createElement(p.Modal,{title:"时间延长与提升空间",visible:this.state.visible,onOk:this.handleOk.bind(this),onCancel:this.handleCancel.bind(this)},u.default.createElement("div",{className:"zmiti-system-extend-pane"},u.default.createElement("div",{className:"zmiti-system-t1"},"时间延长:"),u.default.createElement("div",null,u.default.createElement(w,{onChange:this.datePickerChange.bind(this)})),u.default.createElement("div",{class:"hr20"}),u.default.createElement("div",{className:"zmiti-system-t1"},"提升空间：单位（M）"),u.default.createElement(p.Slider,{min:100,max:1024,onChange:this.spaceChange.bind(this),value:this.state.inputValue}),u.default.createElement("div",null,u.default.createElement(p.InputNumber,{min:100,max:1024,step:10,value:this.state.inputValue,onChange:this.spaceChange.bind(this)}),u.default.createElement("div",{className:"zmiti-system-t2"},"提示：最大可提升到1024M")))),this.state.showRole&&u.default.createElement(m.default,n({},o,{showRole:this.state.showRole,productList:this.state.productList})))};return u.default.createElement(g.default,{component:u.default.createElement(d.default,l)})}},{key:"setRole",value:function(e){var t=this;this.setState({setuserid:e.userid,showRole:!0},function(){t.loadRoleData(),window.obserable.trigger({type:"toggleRoleModal",data:!0})})}},{key:"loadRoleData",value:function(){var e=this,t={getusersigid:this.getusersigid,userid:this.userid,setuserid:this.state.setuserid};b.default.ajax({url:window.baseUrl+"admin/getuserauth/",type:"post",data:t}).then(function(t){0===t.getret&&e.setState({productList:t.list})})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,i=e.loginOut,r=e.getProductList;t(this),a(function(){i(void 0,void 0,!1)},this),this.getProductList=r}},{key:"regular",value:function(e){var t=e.target.parentNode.getAttribute("data-userid"),a={getusersigid:this.getusersigid,userid:this.userid,setuserid:t,setisover:0},i=window.baseUrl||"http://api.zmiti.com/v2",r=this;b.default.ajax({type:"post",url:i+"user/disable_user/",data:a,success:function(e){0===e.getret?(p.message.success("操作成功"),r.state.userList.forEach(function(e){e.userid===t&&(e.isover=0)}),r.forceUpdate()):p.message.error("操作失败")}})}},{key:"timextends",value:function(){this.setState({visible:!0})}},{key:"handleOk",value:function(e){var t=this;this.setState({visible:!1});var a=t.state.datevalue,i=t.state.inputValue;console.log(a,i)}},{key:"handleCancel",value:function(e){this.setState({visible:!1})}},{key:"datePickerChange",value:function(e,t){var a=this;a.state.datevalue=t}},{key:"spaceChange",value:function(e){this.setState({inputValue:e})}},{key:"componentDidMount",value:function(){var e=this;window.$=b.default,this.baseUrl=window.baseUrl;var t=this.props,a=t.validateUser,i=t.loginOut,r=a(function(){i(void 0,void 0,!1)},this),n=r.userid,o=r.getusersigid,l=r.companyid,s=(r.username,r.isover),u=r.usertypesign;this.userid=n,this.getusersigid=o,this.companyid=l,this.isover=s,this.usertypesign=u,this.loginOut=i;var c={getusersigid:this.getusersigid,userid:this.userid,setusertypesign:2},d=this;b.default.ajax({type:"POST",url:window.baseUrl+"/user/get_userlist/",data:c,success:function(e){0===e.getret?d.setState({userList:e.userlist}):e.getret===-3&&(p.message.error("您没有访问的权限,请重新登录"),window.location.href="/")}}),this.getProductList({s:this,fn:function(e){d.setState({productList:e.productlist})}}),window.obserable.off("modifyProductList"),window.obserable.on("modifyProductList",function(t){e.setState({productList:t})})}},{key:"changeAccount",value:function(e){}}]),t}(s.Component));exports.default=(0,y.ZmitiValidateUser)(A),e.exports=exports.default}).call(this)}finally{}},1030:function(e,exports,t){var a=t(1031);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1031:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,"body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}.zmiti-system-extend-pane .zmiti-system-t1{line-height:30px;color:#000}.zmiti-system-extend-pane .zmiti-system-t2{line-height:30px;color:red}",""])},1032:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l);t(1033);var u=t(1020),c=a(u),d=t(236),p=t(235),f=a(p),m=t(1003),h=t(1002),g=a(h),y=d.Select.Option,v=function(e){
function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,userList:[]},this.changeAccount=this.changeAccount.bind(this)}return r(t,e),n(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx"},{title:"用户名",dataIndex:"username",key:"username"},{title:"手机",dataIndex:"usermobile",key:"usermobile"},{title:"邮箱",dataIndex:"useremail",key:"useremail"},{title:"个人用户数",dataIndex:"",key:"sigleUserTotalNum",render:function(e){return s.default.createElement("div",null,s.default.createElement("a",{href:"javascript:void(0)",title:"试用用户"}," ",e.trypersonusernum||0," "),"| ",s.default.createElement("a",{href:"javascript:void(0)",title:"正式用户"},e.formalpersonusernum||0))}},{title:"公司用户数",dataIndex:"",key:"companyUserTotalNum",render:function(e){return s.default.createElement("div",null,s.default.createElement("a",{href:"javascript:void(0)",title:"试用用户"}," ",e.trycompanyusernum||0," "),"| ",s.default.createElement("a",{href:"javascript:void(0)",title:"正式用户"},e.formalcompnayusernum||0))}},{title:"操作",dataIndex:"",key:"x",render:function(){return s.default.createElement("div",null,s.default.createElement("a",{href:"javascript:void(0)"},"分配用户"),s.default.createElement("a",{href:"javascript:void(0)",className:"system-operator"},"转用户"),s.default.createElement("a",{href:"javascript:void(0)"},"删除"))}}],a=this.props.params.title,i={userList:this.state.userList,columns:[t,t],changeAccount:this.changeAccount,tags:["账户管理"],mainHeight:this.state.mainHeight,title:a,type:"system",keyDown:function(t){clearTimeout(e.keyupTimer),void 0===e.defautlUserList&&(e.defautlUserList=e.state.userList.concat([])),e.keyupTimer=setTimeout(function(){var a=e.defautlUserList,i="username";e.state.userList=a.filter(function(a){switch(1*e.condition){case 0:i="username";break;case 1:i="username"}return a[i].indexOf(t)>-1}),e.forceUpdate(function(){})},350)},selectComponent:s.default.createElement(d.Select,{placeholder:"用户名",onChange:function(t){e.condition=t},style:{width:120},size:"small"},s.default.createElement(y,{value:"0"},"用户名"))};return s.default.createElement(f.default,{component:s.default.createElement(c.default,i)})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,i=e.loginOut;t(this);var r=a(function(){i(void 0,void 0,!1)},this),n=r.userid,o=r.getusersigid;r.usertypesign;this.userid=n,this.getusersigid=o}},{key:"componentDidMount",value:function(){var e=this;g.default.ajax({type:"post",url:window.baseUrl+"admin/getadminuserlist",data:{userid:this.userid,getusersigid:this.getusersigid}}).done(function(t){0===t.getret&&(t.list.forEach(function(e,t){e.key=t+1}),console.log(t.list),e.setState({userList:t.list}))})}},{key:"getUserList",value:function(){var e={getusersigid:this.getusersigid,userid:this.userid,setusertypesign:1,pagesize:100},t=this;g.default.ajax({type:"POST",url:window.baseUrl+"/user/get_userlist/",data:e,success:function(e){0===e.getret?t.setState({userList:e.userlist}):e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):loginOut(e.getmsg,window.loginUrl,!1)}})}},{key:"changeAccount",value:function(e){}}]),t}(l.Component);exports.default=(0,m.ZmitiValidateUser)(v),e.exports=exports.default}).call(this)}finally{}},1033:function(e,exports,t){var a=t(1034);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1034:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,".system-operator{margin:0 20px}",""])},1035:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}};t(1036);var s=t(1),u=a(s),c=t(1003),d=t(236);t(798);var p=t(1038),f=a(p),m=t(235),h=a(m),g=t(1002),y=a(g);d.moment.locale("zh-cn");var v=d.Form.Item,b=d.Radio.Group,E=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,e),this.state={visible:!1,productlist:[],loading:!1,tip:"数据拉取中...",productName:"",productShortName:"",productPrice:"0",productLink:"",productType:0,productRemark:"",defaultZmitiIcon:"../public/images/lt-company-ico.png",defaultAntdIcon:"picture",expireDate:"2099-12-31",currentIconType:"",iconModalVisible:!1,currentIcon:""},this.currentId=-1}return r(t,e),o(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,i=e.loginOut,r=e.listen,n=e.send,o=e.getProductList;t(this);var l=a(function(){i(void 0,void 0,!1)},this),s=(l.username,l.userid),u=l.getusersigid;this.userid=s,this.listen=r,this.send=n,this.getProductList=o,this.getusersigid=u}},{key:"componentDidMount",value:function(){this.setState({mainHeight:document.documentElement.clientHeight-50})}},{key:"render",value:function(){var e=this,t=this.props,a=t.validateUser,i=t.loginOut,r=(t.resizeMainHeight,0);if(a(function(){r++,i()},this),1===r)return u.default.createElement("div",null);var o={labelCol:{span:6},wrapperCol:{span:14}},l=[{title:"序号",dataIndex:"key",key:"xx"},{title:"产品名称",dataIndex:"productname",key:"productname"},{title:"产品简称",dataIndex:"outline",key:"outline"},{title:"产品类型",dataIndex:"producttypeName",key:"producttypeName"},{title:"到期时间",dataIndex:"endtime",key:"endtime"},{title:"产品费用",dataIndex:"price",key:"price"},{title:"产品地址",dataIndex:"producturl",key:"producturl"},{title:"操作",dataIndex:"",key:"x",width:"10%",render:function(t,a){return u.default.createElement("div",null,u.default.createElement(d.Popconfirm,{placement:"left",title:"确定要删除吗?",onConfirm:e.delProduct.bind(e,a.productid),okText:"确定",cancelText:"取消"},u.default.createElement(d.Button,{className:"lt-del",type:"primary"},"删除")))}}],s={orderList:this.state.productlist,columns:[l],getProductDetail:function(t,a,i){if(e.currentId=t.productid,"SPAN"!==i.target.nodeName&&"BUTTON"!==i.target.nodeName)return e.setState({visible:!0,productName:t.productname,productShortName:t.outline,productPrice:t.price,productLink:t.producturl,productType:t.producttype,productRemark:t.description,expireDate:"2099-12-31",currentIconType:t.isicon?"zmiti":"antd",currentIcon:t.producticon}),!1}},c="YYYY-MM-DD",p=u.default.createElement(d.Spin,{tip:this.state.tip,spinning:this.state.loading},u.default.createElement("div",{className:"product-main-ui",style:{height:this.state.mainHeight}},u.default.createElement("header",{className:"product-header"},u.default.createElement(d.Button,{onClick:function(){e.setState({visible:!0}),e.productId=-1},type:"primary"},"新增产品服务")),u.default.createElement(f.default,s),u.default.createElement(d.Modal,{title:"新增产品服务",visible:this.state.visible,onOk:this.addProduct.bind(this),onCancel:function(){e.setState({visible:!1})},width:600},u.default.createElement(d.Form,null,u.default.createElement(v,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品名称"),hasFeedback:!0}),u.default.createElement(d.Input,{ref:"product-name",value:this.state.productName,placeholder:"要显示的菜单名",onChange:function(t){e.setState({productName:t.target.value})}})),u.default.createElement(v,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品简称"),hasFeedback:!0}),u.default.createElement(d.Input,{ref:"product-sort-name",value:this.state.productShortName,placeholder:"产品简称",onChange:function(t){e.setState({productShortName:t.target.value})}})),u.default.createElement(v,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"到期时间"),hasFeedback:!0}),u.default.createElement(d.DatePicker,{format:"YYYY-MM-DD",onChange:this.changeExpireDate.bind(this),value:(0,d.moment)(this.state.expireDate,c),size:"default"})),u.default.createElement(v,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品类型"),hasFeedback:!0}),u.default.createElement(b,{onChange:function(t){e.setState({productType:t.target.value})},value:this.state.productType},u.default.createElement(d.Radio,{value:0},"基础产品"),u.default.createElement(d.Radio,{value:1},"付费产品"),u.default.createElement(d.Radio,{value:2},"默认产品(不需要申请)"))),u.default.createElement(v,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品图标"),hasFeedback:!0}),this.state.currentIcon&&"zmiti"===this.state.currentIconType&&u.default.createElement("div",{className:"product-menu-ico"},u.default.createElement("img",{src:this.state.currentIcon})),this.state.currentIcon&&"antd"===this.state.currentIconType&&u.default.createElement("div",{className:"product-menu-ico product-antd-ico"},u.default.createElement(d.Icon,{type:this.state.currentIcon})),u.default.createElement(b,{onChange:this.onChangeIcon.bind(this),value:this.state.currentIconType},u.default.createElement(d.Radio,{value:"zmiti"},"智媒体图标"),u.default.createElement(d.Radio,{value:"antd"},"组件库图标")),u.default.createElement("section",{className:"product-ico-C",style:{display:this.state.iconModalVisible?"block":"none"}},u.default.createElement("section",{className:"product-ico-header"},u.default.createElement("div",null,"添加产品图标"),u.default.createElement("div",{onClick:function(){e.setState({iconModalVisible:!1})}},u.default.createElement("span",null,"×"))),u.default.createElement("section",{className:"product-ico-list"},"zmiti"===this.state.currentIconType&&u.default.createElement("div",null,u.default.createElement("ul",{onClick:this.changeIcon.bind(this)},u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-money-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-msg-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-usergroup-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-user-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})))),"antd"===this.state.currentIconType&&u.default.createElement("div",null,u.default.createElement("ul",{onClick:this.changeIcon.bind(this)},u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"lock"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"unlock"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"android"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"apple"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"apple-o"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"area-chart"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"pie-chart"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"bar-chart"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"dot-chart"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"bars"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"book"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"calendar"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"cloud"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"cloud-download"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"code"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"code-o"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"copy"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"credit-card"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"desktop"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"edit"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"ellipsis"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"file"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"appstore-o"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"picture"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"shopping-cart"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"star-o"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"star"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"hearr-o"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"camera"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"camera-o"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"team"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"solution"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"customer-service"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"switcher"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"rocket"}))))))),u.default.createElement(v,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品费用"),hasFeedback:!0}),u.default.createElement(d.Input,{ref:"product-cost",addonAfter:"￥/月",value:this.state.productPrice,onChange:function(t){e.setState({productPrice:t.target.value})}})),u.default.createElement(v,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品地址"),hasFeedback:!0}),u.default.createElement(d.Input,{ref:"product-path",value:this.state.productLink,onChange:function(t){e.setState({productLink:t.target.value})},placeholder:"产品存放的项目地址，由超级管理员填写"})),u.default.createElement(v,n({},o,{label:u.default.createElement("span",null,"产品说明"),hasFeedback:!0}),u.default.createElement("textarea",{ref:"product-remark",value:this.state.productRemark,style:{width:"100%"},onChange:function(t){e.setState({productRemark:t.target.value})},placeholder:"产品说明"}))))));return u.default.createElement(h.default,{component:p})}},{key:"delProduct",value:function(e){var t=this;this.setState({loading:!0,tip:"正在删除数据..."}),y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"product/del_product/",data:{userid:t.userid,getusersigid:t.getusersigid,productids:e},success:function(e){d.message[0===e.getret?"success":"error"](e.getmsg),0===e.getret&&t.loadData(),t.setState({loading:!1})}})}},{key:"loadData",value:function(){var e=this;this.getProductList({s:this,fn:function(t){e.state.productlist=t.productlist,e.state.productlist.forEach(function(e,t){e.key=t+1}),e.state.loading=!1,e.forceUpdate()}})}},{key:"componentDidMount",value:function(){this.loadData()}},{key:"changeExpireDate",value:function(e){this.setState({expireDate:e.format("YYYY-MM-DD")})}},{key:"changeIcon",value:function(e){switch(this.state.currentIconType){case"zmiti":var t=e.target.src||e.target.children[0].src;if(!t)return;this.setState({currentIcon:t});break;case"antd":if("I"===e.target.nodeName)var a=e.target.className.split(" ")[1].substring(8);else var a=e.target.children[0].className.split(" ")[1].substring(8);console.log(a),this.setState({currentIcon:a})}}},{key:"addProduct",value:function(){var e="";"zmiti"===this.state.currentIconType?(e=this.state.currentIcon.split("//").length>1?this.state.currentIcon.split("//")[1]:this.state.currentIcon.split("//")[0],e=e.split("/"),e.shift(),e=e.indexOf("/main/")<=-1?"/main/"+e.join("/"):e.join("/")):e=this.state.currentIcon;var t=this,a={producturl:this.state.productLink,productname:this.state.productName,outline:this.state.productShortName,icontype:"antd"===this.state.currentIconType,producticon:e,producttype:this.state.productType,endtime:this.state.expireDate,price:this.state.productPrice,bookingmonthnum:1,description:this.state.productRemark,userid:this.userid,getusersigid:this.getusersigid};this.currentId!==-1?(this.setState({loading:!0,tip:"正在修改数据..."}),a.productid=this.currentId,y.default.ajax({type:"POST",url:window.baseUrl+"/product/edit_product/",data:a,success:function(e){d.message[0===e.getret?"success":"error"](e.getmsg),t.setState({visible:!1,loading:!1}),t.loadData()}})):(t.setState({loading:!0,tip:"正在添加数据..."}),y.default.ajax({type:"POST",url:window.baseUrl+"/product/add_product/",data:a,success:function(e){d.message[0===e.getret?"success":"error"](e.getmsg),t.setState({visible:!1,loading:!1}),t.loadData()}}))}},{key:"onChangeIcon",value:function(e){switch(e.target.value){case"zmiti":this.setState({currentIcon:this.state.defaultZmitiIcon});break;case"antd":this.setState({currentIcon:this.state.defaultAntdIcon})}this.setState({currentIconType:e.target.value,iconModalVisible:!0})}}]),t}(u.default.Component);exports.default=(0,c.ZmitiValidateUser)(E),e.exports=exports.default}).call(this)}finally{}},1036:function(e,exports,t){var a=t(1037);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1037:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,".product-header{width:100%;height:40px;line-height:40px;position:relative}.product-header .ant-btn{position:absolute;right:4vw;bottom:0}.product-ico-C{position:absolute;width:300px;height:300px;background:#fff;z-index:102;border:1px solid #818181;box-sizing:border-box;border-radius:6px}.product-ico-C .product-ico-header{width:100%;height:30px;line-height:30px;display:-webkit-box;display:-ms-flexbox;display:flex;display:-webkit-flex;-ms-flex-flow:row;flex-flow:row;background:#818181;border-top-left-radius:5px;border-top-right-radius:5px}.product-ico-C .product-ico-header div{width:50%;color:#fff;margin-left:10px}.product-ico-C .product-ico-header div:nth-of-type(2){text-align:right;margin-right:10px;font-size:20px}.product-ico-C .product-ico-header div:nth-of-type(2) span{cursor:pointer;padding:0 5px}.product-ico-C .product-ico-list{width:100%}.product-ico-C .product-ico-list ul{display:-webkit-box;display:-ms-flexbox;display:flex;display:-webkit-flex;-ms-flex-flow:row;flex-flow:row;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:10px auto}.product-ico-C .product-ico-list ul li{width:30px;margin:0 3px 0 4px;text-align:center;cursor:pointer;box-sizing:border-box}.product-ico-C .product-ico-list ul li img{width:20px}.product-menu-ico{position:absolute;left:200px;top:8px}.product-antd-ico{top:0}.product-main-ui .lt-del{background:#f81828;border-color:#f81828}",""])},1038:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l);t(1039);var u=t(236),c=(u.Select.Option,function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={orderList:[],columns:[]}}return r(t,e),n(t,[{key:"render",value:function(){var e=this;return s.default.createElement("section",{className:"order-main-ui",style:{height:this.props.mainHeight}},this.props.columns.map(function(t,a){if(0===a)return s.default.createElement("section",{key:a,className:"user-list-section"},s.default.createElement(u.Table,{bordered:!0,onRowClick:function(t,a,i){e.props.getProductDetail(t,a,i)},dataSource:e.props.orderList,columns:t}),"}")}))}},{key:"componentDidMount",value:function(){}}]),t}(l.Component));exports.default=c,c.defaultProps={},e.exports=exports.default}).call(this)}finally{}},1039:function(e,exports,t){var a=t(1040);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1040:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,".order-main-ui table{margin-top:20px}.order-main-ui table td,.order-main-ui table th{text-align:center!important}.order-main-ui table a{color:#06c}",""])},1041:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l);t(1042);var u=t(1020),c=a(u),d=t(236),p=t(235),f=a(p),m=t(1003),h=t(1002),g=a(h),y=d.Select.Option,v=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,userList:[]},this.condition=0}return r(t,e),n(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx"},{title:"工单号",dataIndex:"workorderid",key:"workorderid"},{title:"用户名",dataIndex:"username",key:"username"},{title:"工单标题",dataIndex:"title",key:"title"},{title:"工单内容",dataIndex:"content",key:"content"},{title:"处理人",dataIndex:"adminname",key:"adminname"},{title:"工单类型",dataIndex:"workordertype",key:"workordertype"},{title:"工单状态",dataIndex:"status",key:"status"},{title:"创建时间",dataIndex:"createtime",key:"createtime",sorter:function(e,t){return e.key-t.key}},{title:"修改时间",dataIndex:"operatime",key:"operatime"}],a=t.concat({title:"操作",width:"20%",dataIndex:"",key:"x",render:function(e,t){return s.default.createElement("div",{"data-userid":t.userid},s.default.createElement("a",{href:"javascript:void(0)"},"审核通过"),"    ",s.default.createElement("a",{href:"javascript:void(0)"},"审核不通过"))}}),i=t.concat({title:"状态",dataIndex:"",key:"x",render:function(e,t){return s.default.createElement("div",{"data-userid":t.userid},s.default.createElement("a",{href:"javascript:void(0)"},"审核已通过"))}}),r=t.concat({title:"状态",dataIndex:"",key:"x",render:function(e,t){return s.default.createElement("div",{"data-userid":t.userid},s.default.createElement("a",{href:"javascript:void(0)"},"审核未通过"))}}),n=this.props.params.title,o={userList:this.state.userList,columns:[a,i,r],changeAccount:this.changeAccount,mainHeight:this.state.mainHeight,tags:["待处理","已反馈","已处理","已关闭"],type:"workorder",title:n,keyDown:function(t){clearTimeout(e.keyupTimer),void 0===e.defautlUserList&&(e.defautlUserList=e.state.userList.concat([])),e.keyupTimer=setTimeout(function(){var a=e.defautlUserList,i="workorderid";e.state.userList=a.filter(function(a){switch(1*e.condition){case 0:i="workorderid";break;case 1:i="username"}return a[i].indexOf(t)>-1}),e.forceUpdate(function(){})},350)},selectComponent:s.default.createElement(d.Select,{placeholder:"工单号",onChange:function(t){e.condition=t},style:{width:120},size:"small"},s.default.createElement(y,{value:"0"},"工单号"),s.default.createElement(y,{value:"1"},"用户名"))};return console.log(o.userList),s.default.createElement(f.default,{component:s.default.createElement(c.default,o)})}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),a=e.loginOut;e.resizeLeftMenu;t(function(){a(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=(e.validateUser,e.loginOut);e.resizeLeftMenu;t(this,"setAdminHeight");var i={getusersigid:this.getusersigid,userid:this.userid,setisadmin:1},r=this;g.default.ajax({type:"POST",url:window.baseUrl+"/user/get_workorder/",data:i,success:function(e){console.log(e),0===e.getret?r.setState({userList:e.workorderinfo}):e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):a(e.getmsg,window.loginUrl,!1)}})}}]),t}(l.Component);exports.default=(0,m.ZmitiValidateUser)(v),e.exports=exports.default}).call(this)}finally{}},1042:function(e,exports,t){var a=t(1043);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1043:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,"body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}",""])},1044:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l);t(1045);var u=t(1020),c=a(u),d=t(236),p=t(235),f=a(p),m=t(1003),h=t(1002),g=a(h),y=(d.Select.Option,d.Steps.Step),v=d.Layout.Header,b=d.Layout.Content,E=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,uploadData:[],workorderid:"",content:"",createtime:"",status:"",workordertype:"",workordername:"",totalminu:"",statusName:"",getTimestr:"",usericon:"",questionContent:"",isHidden:!1,orderoperation:"",workeorderinfo:[],setuserid:"",customername:""},this.condition=0}return r(t,e),n(t,[{key:"render",value:function(){var e=this,t="工单管理",a={userid:this.userid,changeAccount:this.changeAccount,mainHeight:this.state.mainHeight,tags:["处理中","已处理"],type:"vieworder",title:t,selectedIndex:0,rightType:"custom",customRightComponent:s.default.createElement("div",{className:"zmiti-vieworder-main-ui"},s.default.createElement("div",{className:"pad-10"},s.default.createElement(d.Row,{className:"zmiti-vieworder-header"},s.default.createElement(d.Col,{span:8,className:"zmiti-vieworder-header-inner"},"工单详情"),s.default.createElement(d.Col,{span:8,offset:8,className:"zmiti-workorder-button-right"},s.default.createElement(d.Button,{type:"primary",onClick:this.changeAccount.bind(this,0)},"返回列表"))),s.default.createElement("div",{className:"zmiti-workorder-line"}),s.default.createElement("div",{className:"hr10"}),s.default.createElement("div",{className:"hr10"}),s.default.createElement(d.Steps,{current:1*this.state.status},s.default.createElement(y,{title:"已受理",icon:s.default.createElement(d.Icon,{type:"user"})}),s.default.createElement(y,{title:"已处理",icon:s.default.createElement(d.Icon,{type:"solution"})}),s.default.createElement(y,{title:"已确认",icon:s.default.createElement(d.Icon,{type:"save"})}),s.default.createElement(y,{title:"已评价",icon:s.default.createElement(d.Icon,{type:"smile-o"})})),s.default.createElement("div",{className:"hr10"}),s.default.createElement("div",{className:"view-questionInfo"},s.default.createElement("div",{className:"gutter-example"},s.default.createElement(d.Row,null,s.default.createElement(d.Col,{span:24},s.default.createElement("span",{className:"questionTitle"},"问题标题："),this.state.content)),s.default.createElement(d.Row,null,s.default.createElement(d.Col,{span:6},s.default.createElement("span",{className:"questionTitle"},"工单编号："),this.state.workorderid),s.default.createElement(d.Col,{
span:6},s.default.createElement("span",{className:"questionTitle"},"提交时间："),this.state.createtime),s.default.createElement(d.Col,{span:6},s.default.createElement("span",{className:"questionTitle"}," 状态："),this.state.statusName),s.default.createElement(d.Col,{span:6},s.default.createElement("div",{className:"text-right"},s.default.createElement("a",{href:"javasctip:void(0);",onClick:this.getorderoperation.bind(this)},this.state.orderoperation)))))),s.default.createElement("div",{className:"hr10"}),s.default.createElement(d.Layout,{className:"workorder-table"},s.default.createElement(v,null,this.state.getworkordername),s.default.createElement(b,null,s.default.createElement("div",{className:"view-questionPane"},s.default.createElement("div",{className:"view-questionLists"},s.default.createElement("ul",null,s.default.createElement("li",null,s.default.createElement("div",{className:"view-faceIco"},s.default.createElement("img",{src:this.state.usericon})),s.default.createElement("div",{className:"view-Infor"},s.default.createElement("div",null,this.state.customername),s.default.createElement("div",null,"问题描述：",this.state.content),s.default.createElement("div",null),s.default.createElement("div",null,this.state.createtime))),this.state.workeorderinfo.map(function(t,a){return s.default.createElement("li",{key:a,className:0===t.workordertype&&"messageDiv"},s.default.createElement("div",{className:"view-faceIco"},0===t.workordertype&&s.default.createElement("img",{src:"./static/images/notify.jpg"}),1===t.workordertype&&s.default.createElement("img",{src:e.state.usericon})),s.default.createElement("div",{className:"view-Infor"},0===t.workordertype&&"管理员回复：",1===t.workordertype&&e.state.customername,s.default.createElement("p",null,t.content),s.default.createElement("p",null,"时间：",t.operatime),s.default.createElement("p",null,t.attachment&&t.attachment.split(",").map(function(e,t){return s.default.createElement("a",{key:t,href:e,title:e}," ","点击下载")}))))})))))),s.default.createElement("div",{className:"hr10"}),s.default.createElement(d.Layout,{className:"workorder-table "},s.default.createElement(v,null,"回复"),s.default.createElement(b,null,s.default.createElement("div",{className:"view-questionPane"},s.default.createElement("div",{className:"view-questionForm"},s.default.createElement(d.Form,null,s.default.createElement(d.Input,{type:"textarea",placeholder:"此处限定5000字符",onFocus:function(){e.setState({questionError:!1})},className:"workorderquestion-inputContent "+(this.state.submitWorkorder?"error-table":""),value:this.state.questionContent,onChange:function(t){e.setState({questionContent:t.target.value})}}),s.default.createElement("div",{className:"hr10"}),s.default.createElement("p",null,s.default.createElement(d.Button,{type:"primary",htmlType:"submit",onClick:this.submitWorkorder.bind(this)},"提交")))))))))},i=s.default.createElement(c.default,a);return s.default.createElement(f.default,{component:i})}},{key:"changeAccount",value:function(e){window.location.hash="#/listorder/工单管理"}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),a=e.loginOut;e.resizeLeftMenu;t(function(){a(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props.params.id,t=this;g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/view_workorder",data:{userid:t.userid,getusersigid:t.getusersigid,setworkorderid:e},success:function(e){0===e.getret&&(t.state.workorderid=e.workinfo.workorderid,t.state.content=e.workinfo.content,t.state.createtime=e.workinfo.createtime,t.state.status=e.workinfo.status,t.state.totalminu=e.workinfo.totalminu,t.filterStatus(),t.state.workordertype=e.workinfo.workordertype,t.state.operauser=e.workinfo.userid,t.getuserinfo(e.workinfo.userid),t.getworkordername(),t.forceUpdate())}}),t.getworkorderlist()}},{key:"getuserinfo",value:function(e){var t=this;return g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/get_userdetails/",data:{userid:t.userid,getusersigid:t.getusersigid,isonly:1,setuserid:e},success:function(e){0===e.getret?(t.state.customername=e.getuserinfo.customername,t.state.usericon=e.getuserinfo.usericon,t.forceUpdate()):e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):loginOut(e.getmsg,window.loginUrl,!1)}}),e}},{key:"getworkorderlist",value:function(){var e=this;g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/view_workorder",data:{userid:e.userid,userusername:e.userusername,getusersigid:e.getusersigid,setworkorderid:e.props.params.id},success:function(t){0===t.getret&&(e.state.workeorderinfo=t.workinfo.operainfo,console.log(e.state.workeorderinfo,"工单列表"),e.forceUpdate())}})}},{key:"getworkordername",value:function(){var e=this;switch(e.state.workordertype){case 0:e.state.getworkordername="财务类工单问题";break;case 1:e.state.getworkordername="会员帐号类工单问题";break;case 2:e.state.getworkordername="定制服务类工单帐号问题";break;case 3:e.state.getworkordername="产品技术类工单问题";break;case 4:e.state.getworkordername="其它类工单问题"}}},{key:"filterStatus",value:function(){var e=this;switch(e.state.status){case 0:e.state.statusName="已受理",e.state.orderoperation="关闭工单";break;case 1:e.state.statusName="已处理",e.state.orderoperation="关闭工单";break;case 2:e.state.statusName="已确认",e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="删除工单";break;case 3:e.state.statusName="已评价",e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="删除工单";break;case 4:e.state.statusName=s.default.createElement("span",{className:"red"},"请您反馈"),e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="关闭工单"}}},{key:"getorderoperation",value:function(){var e=this;"关闭工单"==e.state.orderoperation&&g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/close_workorder/",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid},success:function(t){0===t.getret?(d.message.success("关闭工单成功"),e.state.orderoperation="删除工单",e.setState({isHidden:!0}),e.forceUpdate()):t.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(t.getmsg)}}),"删除工单"==e.state.orderoperation&&g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/del_workorder/",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid},success:function(e){0===e.getret?(d.message.success("删除工单成功"),setTimeout(function(){window.location.hash="listorder/"},2e3)):e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(e.getmsg)}})}},{key:"submitWorkorder",value:function(){var e=this,t=0;if(""==e.state.questionContent&&(e.setState({questionError:!0}),t=1),0==t){var a;if(e.state.uploadData.length>0){a=e.state.uploadData[0].datainfourl;for(var i=1;i<e.state.uploadData.length;i++)a=a+","+e.state.uploadData[i].datainfourl}g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/opera_workorder",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid,setcontent:e.state.questionContent,setattachment:a,setoperatype:0},success:function(t){0===t.getret?(d.message.success("您已成功回复工单，我们会尽快处理"),setTimeout(function(){location.hash="listorder/工单管理"+e.state.workorderid},2e3)):t.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(t.getmsg)}})}}}]),t}(l.Component);exports.default=(0,m.ZmitiValidateUser)(E),e.exports=exports.default}).call(this)}finally{}},1045:function(e,exports,t){var a=t(1046);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1046:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,'body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}li,ol,ul{list-style:none;margin:0;padding:0}.hr10,.hr15{clear:both;line-height:0;font-size:0}.hr10{height:10px}.hr15{height:15px}.pad-5{padding:5px}.pad-10{padding:10px}.pad-15{padding:15px}.pad-20{padding:20px}.zmiti-vieworder-main-ui{font-size:12px;overflow:auto}.zmiti-vieworder-main-ui .zmiti-vieworder-header-inner{padding-left:8px;margin-top:10px;position:relative}.zmiti-vieworder-main-ui .zmiti-vieworder-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.zmiti-vieworder-main-ui .zmiti-workorder-button-right button{float:right;margin-top:5px}.zmiti-vieworder-main-ui .zmiti-workorder-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.zmiti-vieworder-main-ui .workorder-table{border:1px solid #e1e6eb;margin-top:15px;background:#fff}.zmiti-vieworder-main-ui .workorder-table .ant-layout-header{background:#f5f6fa;border-left:4px solid #6d7781;padding-left:16px;height:38px;line-height:38px;overflow:hidden;border-bottom:1px solid #e1e6eb}.zmiti-vieworder-main-ui .questionTitle{color:#999}.zmiti-vieworder-main-ui .red{color:red}.zmiti-vieworder-main-ui .error-table{border:1px solid red;color:red}.zmiti-vieworder-main-ui .workorderquestion-inputContent{height:100px}.text-right{text-align:right}.view-questionInfo{background-color:#efefef;padding:10px}.gutter-example{color:#000;line-height:2}.gutter-example span{color:#666}.view-titPane{background-color:#efefef;border-left:5px solid #999;border-top:1px solid #ccc;line-height:2;padding-left:10px;color:#333}.view-questionLists,.view-titPane{border-right:1px solid #ccc;border-bottom:1px solid #ccc}.view-questionLists{border-left:1px solid #ccc;padding:0 15px 15px;margin:0}.view-questionLists ul{width:100%;overflow:hidden}.view-questionLists li{padding:10px 0 10px 70px;min-height:70px;position:relative;margin:0;border-bottom:1px dashed #ccc;color:#666;width:100%}.view-questionLists li:last-child{border-bottom:none}.view-questionLists li.messageDiv{color:#000;padding-left:10px}.view-questionLists li.messageDiv .view-faceIco{display:none}.view-questionLists li.questionFinish{background-color:#eafbff}.view-faceIco{position:absolute;left:10px;top:10px}.view-faceIco img{width:50px;height:50px;border-radius:50%}.view-questionForm{border-left:1px solid #ccc;border-right:1px solid #ccc;border-bottom:1px solid #ccc;padding:10px 15px;margin:0}.view-questionForm form{width:100%}.view-questionForm .view-tit-label{line-height:24px}.view-questionForm textarea{outline:none;resize:none;border-color:#d9d9d9}.view-questionForm p{margin:10px 0}',""])},1047:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l);t(1048);var u=t(1020),c=a(u),d=t(236),p=t(235),f=a(p),m=t(1003),h=t(1002),g=a(h),y=(d.Select.Option,d.Steps.Step),v=d.Layout.Header,b=d.Layout.Content,E=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,uploadData:[],workorderid:"",content:"",createtime:"",status:"",workordertype:"",workordername:"",totalminu:"",statusName:"",getTimestr:"",usericon:"",questionContent:"",isHidden:!1,orderoperation:"",workeorderinfo:[],setuserid:"",customername:""},this.condition=0}return r(t,e),n(t,[{key:"render",value:function(){var e=this,t="工单管理",a={userid:this.userid,changeAccount:this.changeAccount,mainHeight:this.state.mainHeight,tags:["处理中","已处理"],type:"vieworder",title:t,selectedIndex:1,rightType:"custom",customRightComponent:s.default.createElement("div",{className:"zmiti-vieworder-main-ui"},s.default.createElement("div",{className:"pad-10"},s.default.createElement(d.Row,{className:"zmiti-vieworder-header"},s.default.createElement(d.Col,{span:8,className:"zmiti-vieworder-header-inner"},"工单详情"),s.default.createElement(d.Col,{span:8,offset:8,className:"zmiti-workorder-button-right"},s.default.createElement(d.Button,{type:"primary",onClick:this.changeAccount.bind(this,1)},"返回列表"))),s.default.createElement("div",{className:"zmiti-workorder-line"}),s.default.createElement("div",{className:"hr10"}),s.default.createElement("div",{className:"hr10"}),s.default.createElement(d.Steps,{current:1*this.state.status},s.default.createElement(y,{title:"已受理",icon:s.default.createElement(d.Icon,{type:"user"})}),s.default.createElement(y,{title:"已处理",icon:s.default.createElement(d.Icon,{type:"solution"})}),s.default.createElement(y,{title:"已确认",icon:s.default.createElement(d.Icon,{type:"save"})}),s.default.createElement(y,{title:"已评价",icon:s.default.createElement(d.Icon,{type:"smile-o"})})),s.default.createElement("div",{className:"hr10"}),s.default.createElement("div",{className:"view-questionInfo"},s.default.createElement("div",{className:"gutter-example"},s.default.createElement(d.Row,null,s.default.createElement(d.Col,{span:24},s.default.createElement("span",{className:"questionTitle"},"问题描述："),this.state.content)),s.default.createElement(d.Row,null,s.default.createElement(d.Col,{span:6},s.default.createElement("span",{className:"questionTitle"},"工单编号："),this.state.workorderid),s.default.createElement(d.Col,{span:6},s.default.createElement("span",{className:"questionTitle"},"提交时间："),this.state.createtime),s.default.createElement(d.Col,{span:6},s.default.createElement("span",{className:"questionTitle"}," 状态："),this.state.statusName),s.default.createElement(d.Col,{span:6},s.default.createElement("div",{className:"text-right"},s.default.createElement("a",{href:"javasctip:void(0);",onClick:this.getorderoperation.bind(this)},this.state.orderoperation)))))),s.default.createElement("div",{className:"hr10"}),s.default.createElement(d.Layout,{className:"workorder-table"},s.default.createElement(v,null,this.state.getworkordername),s.default.createElement(b,null,s.default.createElement("div",{className:"view-questionPane"},s.default.createElement("div",{className:"view-questionLists"},s.default.createElement("ul",null,s.default.createElement("li",null,s.default.createElement("div",{className:"view-faceIco"},s.default.createElement("img",{src:this.state.usericon})),s.default.createElement("div",{className:"view-Infor"},s.default.createElement("div",null,this.state.customername),s.default.createElement("div",null,"问题描述：",this.state.content),s.default.createElement("div",null),s.default.createElement("div",null,this.state.createtime))),this.state.workeorderinfo.map(function(t,a){return s.default.createElement("li",{key:a,className:0===t.workordertype&&"messageDiv"},s.default.createElement("div",{className:"view-faceIco"},0===t.workordertype&&s.default.createElement("img",{src:"./static/images/notify.jpg"}),1===t.workordertype&&s.default.createElement("img",{src:e.state.usericon})),s.default.createElement("div",{className:"view-Infor"},0===t.workordertype&&"管理员回复：",1===t.workordertype&&e.state.customername,s.default.createElement("p",null,"问题描述：",t.content),s.default.createElement("p",null,t.operatime),s.default.createElement("p",null,t.attachment&&t.attachment.split(",").map(function(e,t){return s.default.createElement("a",{key:t,href:e,title:e}," ","点击下载")}))))}))))))))},i=s.default.createElement(c.default,a);return s.default.createElement(f.default,{component:i})}},{key:"changeAccount",value:function(e){1*e===0?window.location.hash="#/listorder/工单管理":1*e===1&&(window.location.hash="#/listorder/工单管理")}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),a=e.loginOut;e.resizeLeftMenu;t(function(){a(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props.params.id,t=this;g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/view_workorder",data:{userid:t.userid,getusersigid:t.getusersigid,setworkorderid:e},success:function(e){0===e.getret&&(t.state.workorderid=e.workinfo.workorderid,t.state.content=e.workinfo.content,t.state.createtime=e.workinfo.createtime,t.state.status=e.workinfo.status,t.state.totalminu=e.workinfo.totalminu,t.state.operauser=e.workinfo.userid,t.filterStatus(),t.state.workordertype=e.workinfo.workordertype,t.getuserinfo(e.workinfo.userid),t.getworkordername(),t.forceUpdate())}}),t.getworkorderlist()}},{key:"getuserinfo",value:function(e){var t=this;return g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/get_userdetails/",data:{userid:t.userid,getusersigid:t.getusersigid,isonly:1,setuserid:e},success:function(e){0===e.getret?(t.state.customername=e.getuserinfo.customername,t.state.usericon=e.getuserinfo.usericon,t.forceUpdate()):e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):loginOut(e.getmsg,window.loginUrl,!1)}}),e}},{key:"getworkorderlist",value:function(){var e=this;g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/view_workorder",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.props.params.id},success:function(t){console.log(t),0===t.getret&&(e.state.workeorderinfo=t.workinfo.operainfo,e.state.setuserid=t.workinfo.operainfo[0].operauser,e.forceUpdate())}})}},{key:"getworkordername",value:function(){var e=this;switch(e.state.workordertype){case 0:e.state.getworkordername="财务类工单问题";break;case 1:e.state.getworkordername="会员帐号类工单问题";break;case 2:e.state.getworkordername="定制服务类工单帐号问题";break;case 3:e.state.getworkordername="产品技术类工单问题";break;case 4:e.state.getworkordername="其它类工单问题"}}},{key:"filterStatus",value:function(){var e=this;switch(e.state.status){case 0:e.state.statusName="已受理",e.state.orderoperation="关闭工单";break;case 1:e.state.statusName="已处理",e.state.orderoperation="关闭工单";break;case 2:e.state.statusName="已确认",e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="删除工单";break;case 3:e.state.statusName="已评价",e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="删除工单"}}},{key:"getorderoperation",value:function(){var e=this;"关闭工单"==e.state.orderoperation&&g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/close_workorder/",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid},success:function(t){0===t.getret?(d.message.success("关闭工单成功"),e.state.orderoperation="删除工单",e.setState({isHidden:!0}),e.forceUpdate()):t.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(t.getmsg)}}),"删除工单"==e.state.orderoperation&&g.default.ajax({url:window.baseUrl+"user/del_workorder/",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid},success:function(e){0===e.getret?(d.message.success("删除工单成功"),setTimeout(function(){window.location.hash="workorder/"},2e3)):e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(e.getmsg)}})}}]),t}(l.Component);exports.default=(0,m.ZmitiValidateUser)(E),e.exports=exports.default}).call(this)}finally{}},1048:function(e,exports,t){var a=t(1049);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1049:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,'body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}li,ol,ul{list-style:none;margin:0;padding:0}.hr10,.hr15{clear:both;line-height:0;font-size:0}.hr10{height:10px}.hr15{height:15px}.pad-5{padding:5px}.pad-10{padding:10px}.pad-15{padding:15px}.pad-20{padding:20px}.zmiti-vieworder-main-ui{font-size:12px;overflow:auto}.zmiti-vieworder-main-ui .zmiti-vieworder-header-inner{padding-left:8px;margin-top:10px;position:relative}.zmiti-vieworder-main-ui .zmiti-vieworder-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.zmiti-vieworder-main-ui .zmiti-workorder-button-right button{float:right;margin-top:5px}.zmiti-vieworder-main-ui .zmiti-workorder-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.zmiti-vieworder-main-ui .workorder-table{border:1px solid #e1e6eb;margin-top:15px;background:#fff}.zmiti-vieworder-main-ui .workorder-table .ant-layout-header{background:#f5f6fa;border-left:4px solid #6d7781;padding-left:16px;height:38px;line-height:38px;overflow:hidden;border-bottom:1px solid #e1e6eb}.zmiti-vieworder-main-ui .questionTitle{color:#999}.zmiti-vieworder-main-ui .red{color:red}.zmiti-vieworder-main-ui .error-table{border:1px solid red;color:red}.zmiti-vieworder-main-ui .workorderquestion-inputContent{height:100px}.text-right{text-align:right}.view-questionInfo{background-color:#efefef;padding:10px}.gutter-example{color:#000;line-height:2}.gutter-example span{color:#666}.view-titPane{background-color:#efefef;border-left:5px solid #999;border-top:1px solid #ccc;line-height:2;padding-left:10px;color:#333}.view-questionLists,.view-titPane{border-right:1px solid #ccc;border-bottom:1px solid #ccc}.view-questionLists{border-left:1px solid #ccc;padding:0 15px 15px;margin:0}.view-questionLists ul{width:100%;overflow:hidden}.view-questionLists li{padding:10px 0 10px 70px;min-height:70px;position:relative;margin:0;border-bottom:1px dashed #ccc;color:#666;width:100%}.view-questionLists li:last-child{border-bottom:none}.view-questionLists li.messageDiv{color:#000;padding-left:10px}.view-questionLists li.questionFinish{background-color:#eafbff}.view-faceIco{position:absolute;left:10px;top:10px}.view-faceIco img{width:50px;height:50px;border-radius:50%}.view-questionForm{border-left:1px solid #ccc;border-right:1px solid #ccc;border-bottom:1px solid #ccc;padding:10px 15px;margin:0}.view-questionForm form{width:100%}.view-questionForm .view-tit-label{line-height:24px}.view-questionForm textarea{outline:none;resize:none;border-color:#d9d9d9}.view-questionForm p{margin:10px 0}',""])},1050:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l);t(1051);var u=t(1020),c=a(u),d=t(236);t(798);var p=(t(170),t(1053)),f=a(p),m=t(1003),h=t(1002),g=a(h);d.moment.locale("zh-cn");var y=(d.Radio.Group,d.Form.Item,d.Select.Option,function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={mainHeight:document.documentElement.clientHeight-50,dataSource:[],workorderid:"",keyword:"",startDate:null,selectedIndex:0,endDate:(0,d.moment)(new Date,"YYYY-MM-DD")}}return r(t,e),n(t,[{key:"render",value:function(){var e=this,t=[{title:"工单编号",dataIndex:"workorderid",key:"workorderid",width:100},{title:"用户名",dataIndex:"username",key:"username"},{title:"问题内容",dataIndex:"content",key:"content",render:function(e,t){var a=e.length;return a>=40?e.substring(0,40):e}},{title:"工单类型",dataIndex:"workordertype",key:"workordertypeName",width:100,filters:[{text:"财务类",value:"0"},{text:"会员帐号类",value:"1"},{text:"定制服务类",value:"2"},{text:"产品技术类",value:"3"},{text:"其它类",value:"4"}],onFilter:function(e,t){return 1*e===t.workordertype},sorter:function(e,t){return e.workordertype-t.workordertype},render:function(e,t){switch(e){case 0:return"财务类";case 1:return"会员帐号类";case 2:return"定制服务类";case 3:return"产品技术类";case 4:return"其它类"}}},{title:"创建时间",dataIndex:"createtime",key:"createtime",width:150},{title:"工单状态",dataIndex:"status",key:"status",width:100,filters:[{text:"已受理",value:"0"},{text:"已处理",value:"1"},{text:"已确认",value:"2"},{text:"已评价",value:"3"},{text:"已关闭",value:"4"}],onFilter:function(e,t){return 1*e===t.status},sorter:function(e,t){return e.status-t.status},render:function(e,t){switch(e){case 0:return s.default.createElement("div",{className:"red"},"已受理");case 1:return s.default.createElement("div",{className:"green"},"已处理");case 2:return s.default.createElement("div",{className:"green"},"已确认");case 3:return s.default.createElement("div",{className:"green"},"已评价");case 4:return s.default.createElement("div",{className:"green"},"已关闭")}}},{title:"操作",dataIndex:"operation",key:"operation",width:100,render:function(t,a,i){return 0===e.state.selectedIndex?s.default.createElement("span",null,s.default.createElement("a",{href:"#/editorder/"+a.workorderid},"处理工单")):s.default.createElement("span",null,s.default.createElement("a",{href:"#/vieworder/"+a.workorderid},"查看"))}}],a=this.props.params.title||"工单管理2",i={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:["处理中","已处理"],mainHeight:this.state.mainHeight,title:a,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:s.default.createElement("div",{className:"zmiti-listorder-main-ui pad-10"},s.default.createElement(d.Row,{className:"zmiti-listorder-header"},s.default.createElement(d.Col,{span:8,className:"zmiti-listorder-header-inner"},"工单管理"),s.default.createElement(d.Col,{span:8,offset:8,className:"zmiti-listorder-button-right"})),s.default.createElement("div",{className:"zmiti-listorder-line"}),s.default.createElement(d.Row,{gutter:10,type:"flex",className:"listorder-search "},s.default.createElement(d.Col,{className:"zmiti-listorder-with70 listorder-heigth30"},"工单编号："),s.default.createElement(d.Col,{className:"listorder-heigth30"},s.default.createElement(d.Input,{value:this.state.workorderid,onChange:this.searchByWorkorderid.bind(this),placeholder:"工单编号录入"})),s.default.createElement(d.Col,{className:"zmiti-listorder-with60 listorder-heigth30 rig"},"时间:"),s.default.createElement(d.Col,{className:"listorder-heigth30 zmiti-listorder-with130 "},s.default.createElement(d.DatePicker,{value:this.state.startDate,onChange:function(t){e.setState({startDate:t})}})),s.default.createElement(d.Col,{className:"zmiti-listorder-with30 listorder-heigth30 cen",value:this.state.endDate},"至:"),s.default.createElement(d.Col,{className:"listorder-heigth30 zmiti-listorder-with130 "},s.default.createElement(d.DatePicker,{value:this.state.endDate,onChange:function(t){e.setState({endDate:t})}})),s.default.createElement(d.Col,{className:"zmiti-listorder-with60 listorder-heigth30 rig"},"关键词:"),s.default.createElement(d.Col,{className:"listorder-heigth30"},s.default.createElement(d.Input,{value:this.state.keyword,placeholder:"关键词",onChange:this.searchByKeyword.bind(this)})),s.default.createElement(d.Col,{className:"listorder-heigth30 lef"},s.default.createElement(d.Button,{onClick:this.searchBybutton.bind(this)},"查询"))),s.default.createElement(d.Table,{dataSource:this.state.dataSource,columns:t,bordered:!0}))},r=s.default.createElement("div",null,s.default.createElement(c.default,i));return s.default.createElement(f.default,{component:r})}},{key:"gotoView",value:function(e){location.href="#/editorder/"+e}},{key:"searchBybutton",value:function(){var e=this.state.workorderid,t=this.state.startDate.format("YYYY-MM-DD"),a=this.state.endDate.format("YYYY-MM-DD"),i=this.state.keyword,r=this;g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/get_workorder",data:{userid:r.userid,getusersigid:r.getusersigid,setworkorderid:e,setstarttime:t,setendtime:a,setkeyword:i,setisadmin:1},success:function(e){if(0===e.getret){r.state.dataSource=e.workorderinfo;var t=r.state.dataSource.filter(function(e,t){return e.status===r.state.selectedIndex});r.setState({dataSource:t})}else e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(e)}})}},{key:"searchByWorkorderid",value:function(e){var t=this;this.setState({workorderid:e.target.value},function(){t.dataSource=t.dataSource||t.state.dataSource.concat([]),t.state.dataSource=t.dataSource.filter(function(e){return e.workorderid.indexOf(t.state.workorderid)>-1}),t.forceUpdate()})}},{key:"searchByKeyword",value:function(e){var t=this;this.setState({keyword:e.target.value},function(){t.dataSource=t.dataSource||t.state.dataSource.concat([]),t.state.dataSource=t.state.dataSource.filter(function(e){return e.content.indexOf(t.state.keyword)>-1}),t.state.keyword.length<=0&&(t.state.dataSource=t.dataSource.concat([])),t.forceUpdate()})}},{key:"bindNewdata",value:function(){var e=this;g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/get_workorder",data:{userid:e.userid,getusersigid:e.getusersigid,setisadmin:1},success:function(t){if(0===t.getret){t.workorderinfo.map(function(t,a){0===t.status?t.status=0:1===t.status?t.status=1:2===t.status?t.status=2:3===t.status?t.status=3:4===t.status&&(t.status=4),e.state.dataSource.push(t)}),e.defaultWorkorderInfo=t.workorderinfo,e.state.dataSource.forEach(function(e,t){switch(e.status){case 0:e.statusName="已受理";break;case 1:e.statusName="已处理";break;case 2:e.statusName="已确认";break;case 3:e.statusName="已评价";break;case 4:e.statusName="已关闭"}switch(e.workordertype){case 0:e.workordertypeName="财务类";break;case 1:e.workordertypeName="会员帐号类";break;case 2:e.workordertypeName="定制服务类";break;case 3:e.workordertypeName="产品技术类";break;case 4:e.workordertypeName="其它类"}});var a=e.state.dataSource.filter(function(t,a){return t.status===e.state.selectedIndex});e.setState({dataSource:a})}else t.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(t)}})}},{key:"changeAccount",value:function(e){this.state.selectedIndex=1*e,this.orderList=this.orderList||this.defaultWorkorderInfo.concat([]),this.state.dataSource=this.orderList.filter(function(t){return 1*e===0?0===t.status:0!==t.status}),this.state.keyword="",this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this;e.bindNewdata()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser;e.loginOut;t(this);var i=a(function(){},this),r=(i.username,i.userid),n=i.getusersigid;this.userid=r,this.getusersigid=n}}]),t}(l.Component));exports.default=(0,
m.ZmitiValidateUser)(y),e.exports=exports.default}).call(this)}finally{}},1051:function(e,exports,t){var a=t(1052);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1052:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,'body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}.zmiti-listorder-main-ui{font-size:12px}.zmiti-listorder-main-ui .zmiti-listorder-header-inner{padding-left:8px;margin-top:10px;position:relative}.zmiti-listorder-main-ui .zmiti-listorder-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.zmiti-listorder-main-ui .listorder-search{margin:15px 0}.zmiti-listorder-main-ui .listorder-search .rig{text-align:right}.zmiti-listorder-main-ui .listorder-search .zmiti-listorder-with130{width:130px}.zmiti-listorder-main-ui .listorder-search .zmiti-listorder-with70{width:70px}.zmiti-listorder-main-ui .listorder-search .zmiti-listorder-with60{width:60px}.zmiti-listorder-main-ui .listorder-search .listorder-heigth30{height:30px;line-height:30px;overflow:hidden}.zmiti-listorder-main-ui .zmiti-listorder-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}',""])},1053:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l),u=t(236);t(997);var c=t(170),d=t(1001),p=a(d),f=t(1003),m=u.Menu.SubMenu,h=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={defaultClass:"fly-left-aside",isOpen:!0,current:"3",currentAcc:"iLinten@qq.com",rightWidth:0,userid:"",getusersigid:""}}return r(t,e),n(t,[{key:"menuClickHandler",value:function(e){}},{key:"handleClick",value:function(e){}},{key:"toggleMenu",value:function(){var e=this;"fly-left-aside"===this.state.defaultClass?(window.mainLeftSize=60,this.setState({defaultClass:"fly-left-aside unfold",isOpen:!1,rightWidth:document.documentElement.clientWidth-window.mainLeftSize})):(this.setState({defaultClass:"fly-left-aside"}),window.mainLeftSize=180,setTimeout(function(){e.setState({isOpen:!0,rightWidth:document.documentElement.clientWidth-window.mainLeftSize})},200))}},{key:"render",value:function(){this.userManagerMenuConfig=[{linkTo:"/user/个人账户管理",key:"user",title:"个人账户管理",isIcon:!0,type:"user",isShow:!0},{linkTo:"/company/公司账户管理",key:"company",title:"公司账户管理",isIcon:!0,type:"customerservice",isShow:!0}],this.productServiceMenuConfig=[{linkTo:"/product/",key:"product",title:"新增产品",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/listorder/工单管理",key:"workorder",title:"工单管理",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/datum/",key:"datum",title:"资料管理",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/sysauth/",key:"sysauth",title:"权限管理",isIcon:!0,type:"user",isShow:!0}],4===this.usertypesign&&this.userManagerMenuConfig.push({linkTo:"/system/系统账户管理",key:"system",title:"系统账户管理",isIcon:!0,type:"edit",isShow:!0});var e=window.location.hash,t="sub5";this.productServiceMenuConfig.forEach(function(a,i){e.indexOf(a.key)>-1&&(t="sub6")});var a={usertypesign:this.usertypesign,currentAcc:this.state.currentAcc,userid:this.userid,type:"admin",getusersigid:this.getusersigid,logo:"../static/images/logo.png"};return s.default.createElement("section",{className:"main"},s.default.createElement(p.default,a),s.default.createElement("article",{className:"fly-content"},s.default.createElement("section",{className:this.state.defaultClass},s.default.createElement("div",{className:"fly-toggle-menu",onClick:this.toggleMenu.bind(this)},s.default.createElement(u.Icon,{type:"menu-fold",style:{display:this.state.isOpen?"inline-block":"none"}}),s.default.createElement(u.Icon,{type:"menu-unfold",style:{display:this.state.isOpen?"none":"inline-block"}})),s.default.createElement("div",{className:"fly-menu-c"},s.default.createElement(u.Menu,{style:{width:182},defaultOpenKeys:[t],selectedKeys:[this.state.current],mode:"inline"},s.default.createElement(m,{key:"sub5",title:s.default.createElement("span",null,s.default.createElement(u.Icon,{type:"setting",style:{marginRight:"22px"}}),s.default.createElement("span",null,"用户管理"))},this.userManagerMenuConfig.map(function(e){return s.default.createElement(u.Menu.Item,{key:e.key},s.default.createElement(u.Icon,{type:e.type,style:{marginRight:"32px"}}),s.default.createElement(c.Link,{to:e.linkTo},e.title))})),s.default.createElement(m,{key:"sub6",title:s.default.createElement("span",null,s.default.createElement(u.Icon,{type:"setting",style:{marginRight:"22px"}}),s.default.createElement("span",null,"操作管理"))},this.productServiceMenuConfig.map(function(e){return s.default.createElement(u.Menu.Item,{key:e.key},s.default.createElement(u.Icon,{type:e.type,style:{marginRight:"32px"}}),s.default.createElement(c.Link,{to:e.linkTo},e.title))}))))),s.default.createElement("section",{className:"fly-right-aside",style:{width:this.state.rightWidth}},this.props.component)))}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,i=e.loginOut,r=e.resizeLeftMenu;t(this,"setAdminHeight"),r(this,"setAdminMenu");var n=a(function(){i(void 0,void 0,!1)}),o=n.userid,l=n.getusersigid,s=n.companyid,u=(n.username,n.isover),c=n.usertypesign;this.userid=o,this.getusersigid=l,this.companyid=s,this.isover=u,this.usertypesign=c,this.loginOut=i,this.usertypesign!==window.Role.NORMALADMINUSER&&this.usertypesign!==window.Role.SUPERADMINUSER&&i("您没有访问的权限",window.mainUrl,!1)}},{key:"componentDidMount",value:function(){var e=window.location.hash,t=this.userManagerMenuConfig.concat(this.productServiceMenuConfig),a="";t.forEach(function(t){e.indexOf("#"+t.linkTo)>-1&&(a=t.key)}),this.setState({current:a,rightWidth:document.documentElement.clientWidth-180,userid:this.userid,isover:this.isover,getusersigid:this.getusersigid})}}]),t}(l.Component);exports.default=(0,f.ZmitiValidateUser)(h),e.exports=exports.default}).call(this)}finally{}},1054:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},s=t(1),u=a(s);t(1055);var c=t(1020),d=a(c),p=t(236),f=t(235),m=a(f),h=t(1003),g=t(1002),y=a(g),v=(p.Select.Option,function(e){function t(e){var a=this;r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,selectedIndex:0,mainHeight:document.documentElement.clientHeight-50,dialogHeight:document.documentElement.clientHeight,modpostDialogVisible:!1,categoryname:"",categorydata:[],tags:[],title:"",author:"",kindid:"五言绝句",originaltext:"",changetext:"",datatype:0,voiceurl:"",dataList:[],dataSource:[],workdatatype:"",workdataid:"",keyword:"",disabled:!1,editable:!1,value:this.props.value,inputVisible:!1,inputValue:"",typeid:""},this.showInput=function(){a.setState({inputVisible:!0},function(){return a.input.focus()})},this.editInputRef=function(e){return a.input=e},this.saveInputRef=function(e){return a.input=e}}return n(t,e),o(t,[{key:"handleInputChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"editInput",value:function(e){var t=this,a=e.target.value,i=(e.target.alt,this.state),r=i.tags;t.setState({value:a}),t.setState({tags:r}),t.forceUpdate()}},{key:"render",value:function(){var e=this,t=[{title:"标题",dataIndex:"title",key:"title"},{title:"作者",dataIndex:"author",key:"author",width:120},{title:"资料类型",dataIndex:"datatype",key:"datatype",width:100,render:function(t,a,i){return e.state.tags[e.state.selectedIndex]}},{title:"创建时间",dataIndex:"createtime",key:"createtime",width:150},{title:"操作",dataIndex:"operation",key:"operation",width:150,render:function(t,a,i){return u.default.createElement("span",null,u.default.createElement("a",{href:"#/editorinfo/"+a.workdataid}," 修改"),u.default.createElement("a",{href:"javascript:void(0);",onClick:e.delData.bind(e,a.workdataid)}," 删除"))}}],a=this.state,i=a.tags,r=a.inputVisible,n=a.inputValue,o=this.state,l=(o.value,o.editable,this.props.params.title||"资料库"),s={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:this.state.tags,mainHeight:this.state.mainHeight,title:l,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:u.default.createElement("div",{className:"inforlist-main-ui",style:{height:this.state.mainHeight}},u.default.createElement("div",{className:"pad-10"},u.default.createElement("div",{className:"zmiti-inforlist-header"},u.default.createElement(p.Row,null,u.default.createElement(p.Col,{span:8,className:"zmiti-inforlist-header-inner"},"诗词资料"),u.default.createElement(p.Col,{span:8,offset:8,className:"zmiti-inforlist-button-right"},u.default.createElement(p.Button,{icon:"file-add",onClick:this.postform.bind(this)},"添加资料"),u.default.createElement(p.Button,{icon:"folder-add",onClick:this.dialogform.bind(this)},"分类管理")))),u.default.createElement("div",{className:"zmiti-inforlist-line"}),u.default.createElement(p.Row,{gutter:10,type:"flex",className:"inforlist-search "},u.default.createElement(p.Col,{className:"inforlist-heigth45"},"标题："),u.default.createElement(p.Col,{className:"inforlist-heigth45"},u.default.createElement(p.Input,{value:this.state.keyword,placeholder:"名称",onChange:function(t){e.state.keyword=t.target.value,e.forceUpdate()}})),u.default.createElement(p.Col,{className:"inforlist-heigth45"},u.default.createElement(p.Button,{onClick:this.searchBybutton.bind(this)},"查询"))),u.default.createElement(p.Table,{bordered:!0,dataSource:this.state.dataList,columns:t})),u.default.createElement(p.Modal,{title:"诗词分类",visible:this.state.modpostDialogVisible,onOk:this.addProduct.bind(this),onCancel:function(){e.setState({modpostDialogVisible:!1})}},u.default.createElement("div",{className:"inforListModal"},i.map(function(t,a){var i=t.length>20,r=u.default.createElement(p.Tag,{key:t,closable:0!==a,afterClose:function(){return e.handleClose(t)}},u.default.createElement(p.Input,{type:"text",ref:e.editInputRef,className:"inforlistCategoryIpt",defaultValue:i?t.slice(0,20)+"...":t,onChange:e.editInput.bind(e),onBlur:e.saveinput.bind(e),alt:a}));return i?u.default.createElement(p.Tooltip,{title:t},r):r}),r&&u.default.createElement(p.Input,{ref:this.saveInputRef,type:"text",size:"small",style:{width:110},value:n,onChange:this.handleInputChange.bind(this),onBlur:this.handleInputConfirm.bind(this),onPressEnter:this.handleInputConfirm.bind(this)}),!r&&u.default.createElement(p.Button,{size:"small",type:"dashed",onClick:this.showInput},"+ 添加分类"))))},c=u.default.createElement("div",null,u.default.createElement(d.default,s));return u.default.createElement(m.default,{component:c})}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),a=e.loginOut;e.resizeLeftMenu;t(function(){a(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.resizeMainHeight;e.validateUser,e.loginOut,e.resizeLeftMenu;t(this,"setAdminHeight"),this.bindNewdata(),this.getcategory()}},{key:"bindNewdata",value:function(){var e=this,t=(this.props.params.userid?this.props.params.userid:this.userid,e.state.selectedIndex),a=e.state.dataSource;this.props.params.id;y.default.each(a,function(a,i){a==t&&(e.state.typeid=i.workdatatype,console.log(i.workdatatype,i.typename))}),y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"document/get_documentlist",data:{userid:e.userid,getusersigid:e.getusersigid,datatype:e.state.typeid,type:1,searchword:""},success:function(t){0===t.getret?e.state.dataList=t.list:1002===t.getret&&(e.state.dataList=[]),console.log(this.url,"this.url"),e.forceUpdate()}})}},{key:"searchBybutton",value:function(){var e=this.state.selectedIndex,t=this.state.keyword,a=this;y.default.ajax({url:window.baseUrl+"document/get_documentlist",data:{userid:a.userid,getusersigid:a.getusersigid,datatype:e,type:1,searchword:t},success:function(e){0===e.getret?a.state.dataList=e.list:1002===e.getret?a.state.dataList=[]:e.getret===-3?(p.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):p.message.error(e),a.forceUpdate()}})}},{key:"postform",value:function(){window.location="#/editorinfo/"}},{key:"getcategory",value:function(){var e=this;y.default.ajax({type:"POST",url:window.baseUrl+"document/get_documentclasslist/",data:{userid:e.userid,getusersigid:e.getusersigid},success:function(t){if(0===t.getret){console.log(t,"get_documentclasslist");var a=new Array;y.default.each(t.list,function(e,t){a.push(t.typename)}),e.state.tags=a,e.state.dataSource=t.list,e.forceUpdate()}else console.log(this.url,"error:get_documentclasslist")}})}},{key:"addProduct",value:function(){var e=this;this.setState({modpostDialogVisible:!1}),e.forceUpdate()}},{key:"dialogform",value:function(){var e=this;this.setState({modpostDialogVisible:!0}),e.forceUpdate()}},{key:"handleInputConfirm",value:function(){var e=this,t=this.state,a=t.inputValue,r=t.tags;a&&r.indexOf(a)===-1&&(r=[].concat(i(r),[a])),y.default.ajax({type:"POST",url:window.baseUrl+"document/add_documentclass",data:{userid:e.userid,getusersigid:e.getusersigid,typename:a},success:function(t){0===t.getret&&(e.setState({tags:r,inputVisible:!1,inputValue:""}),e.getcategory(),e.forceUpdate())}})}},{key:"saveinput",value:function(e){var t=this,a=e.target.value,i=e.target.alt,r=this.state;r.tags;t.setState({value:a});t.state.selectedIndex;y.default.each(this.state.dataSource,function(e,r){e===parseInt(i)&&(t.state.workdatatype=r.workdatatype,t.state.tags[e]=a,y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"document/edit_documentclass",data:{userid:t.userid,getusersigid:t.getusersigid,workdatatype:t.state.workdatatype,typename:a},success:function(e){0===e.getret&&(t.getcategory(),t.forceUpdate())}}))})}},{key:"delData",value:function(e){var t=this;this.props.params.userid?this.props.params.userid:this.userid;y.default.ajax({url:window.baseUrl+"document/del_document/",data:{userid:t.userid,getusersigid:t.getusersigid,documentid:e},success:function(e){0===e.getret?(p.message.success("删除成功！"),setTimeout(function(){t.bindNewdata()},2e3)):e.getret===-3?(p.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):p.message.error(e.getmsg)}})}},{key:"changeAccount",value:function(e){this.state.selectedIndex=1*e,this.setState({selectedIndex:1*e}),this.state.keyword="",this.forceUpdate(),this.bindNewdata(),window.location="#datum/"+e,console.log(this.props.params.id)}}]),t}(s.Component));exports.default=(0,h.ZmitiValidateUser)(v),e.exports=exports.default}).call(this)}finally{}},1055:function(e,exports,t){var a=t(1056);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1056:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,'body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}.inforlist-main-ui{overflow:auto}.inforlist-main-ui .zmiti-inforlist-header-inner{padding-left:8px;margin-top:10px;position:relative}.inforlist-main-ui .zmiti-inforlist-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.inforlist-main-ui .zmiti-inforlist-button-right button{float:right;margin-top:5px;margin-left:10px}.inforlist-main-ui .zmiti-inforlist-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.inforlist-main-ui .inforlist-heigth45{height:45px;line-height:45px;overflow:hidden}.inforlist-main-ui .inforlist-search{margin:15px 0}.inforlistTextarea{resize:none}.dialogInformation .ant-modal{padding-bottom:0;top:70px}.dialogInformation .ant-modal-content{height:100%}.inforListModal .ant-tag{padding-left:0}.inforListModal .ant-btn-dashed,.inforListModal .ant-tag{width:110px;margin-bottom:10px}.inforListModal .inforlistCategoryIpt{width:83px;height:18px;border:none;background-color:#f7f7f7}.inforListModal .ant-tag:hover{border-color:#108ee9!important}.inforListModal .ant-tag:hover .inforlistCategoryIpt{color:#000;border:none}',""])},1057:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},s=t(1),u=a(s);t(1058);var c=t(1020),d=a(c),p=t(236),f=t(235),m=a(f),h=t(1003),g=t(1002),y=a(g),v=p.Select.Option,b=p.Form.Item,E=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={setuserid:"",selectedIndex:0,mainHeight:document.documentElement.clientHeight-50,dialogHeight:document.documentElement.clientHeight,tags:["唐诗","宋词","童谣"],title:"",author:"",kindid:"五言绝句",originaltext:"",changetext:"",datatype:0,voiceurl:"",dataSource:[],workdataid:"",keyword:"",disabled:!1},this.currentId=void 0}return r(t,e),o(t,[{key:"render",value:function(){var e=this,t={labelCol:{span:6},wrapperCol:{span:14}},a={wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:6}}},i=this.props.params.title||"资料库",r={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:this.state.tags,mainHeight:this.state.mainHeight,title:i,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:u.default.createElement("div",{className:"inforlist-main-ui",style:{height:this.state.mainHeight}},u.default.createElement("div",{className:"pad-10"},u.default.createElement("div",{className:"zmiti-inforlist-header"},u.default.createElement(p.Row,null,u.default.createElement(p.Col,{span:8,className:"zmiti-inforlist-header-inner"},"诗词资料"),u.default.createElement(p.Col,{span:8,offset:8,className:"zmiti-inforlist-button-right"},u.default.createElement(p.Button,{type:"primary",icon:"left",onClick:this.goback.bind(this)},"返回")))),u.default.createElement("div",{className:"zmiti-inforlist-line"}),u.default.createElement("div",{className:"hr20"})),u.default.createElement(p.Form,null,u.default.createElement(b,n({},t,{label:"资料标题",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"资料标题",value:this.state.title,onChange:function(t){e.state.title=t.target.value,e.forceUpdate()}})),u.default.createElement(b,n({},t,{label:"资料作者",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"资料作者",value:this.state.author,onChange:function(t){e.state.author=t.target.value,e.forceUpdate()}})),u.default.createElement(b,n({},t,{label:"资料原文",hasFeedback:!0}),u.default.createElement(p.Input,{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"资料原文",value:this.state.originaltext,className:"inforlistTextarea",onChange:function(t){e.state.originaltext=t.target.value,e.forceUpdate()}})),u.default.createElement(b,n({},t,{label:"译文",hasFeedback:!0}),u.default.createElement(p.Input,{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"译文",value:this.state.changetext,className:"inforlistTextarea",onChange:function(t){e.state.changetext=t.target.value,e.forceUpdate()}})),u.default.createElement(b,n({},t,{label:"资料类型",hasFeedback:!0}),u.default.createElement(p.Select,{placeholder:"资料类型",onChange:function(t){e.state.datatype=t,e.forceUpdate()},value:this.state.datatype},this.state.dataSource.map(function(e,t){return u.default.createElement(v,{key:t,value:e.workdatatype},e.typename)}))),u.default.createElement(b,n({},t,{label:"标准录音地址",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"标准录音地址",value:this.state.voiceurl,onChange:function(t){e.state.voiceurl=t.target.value,e.forceUpdate()}})),u.default.createElement(b,a,u.default.createElement(p.Button,{type:"primary",icon:"save",htmlType:"submit",size:"large",onClick:this.saveinformation.bind(this)},"提交"))))},o=u.default.createElement("div",null,u.default.createElement(d.default,r));return u.default.createElement(m.default,{component:o})}},{key:"componentDidMount",value:function(){var e=this;e.getinformation(),e.getcategory()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,i=e.loginOut;t(this);var r=a(function(){i(void 0,void 0,!1)},this),n=(r.username,r.userid),o=r.getusersigid;this.userid=n,this.getusersigid=o}},{key:"changeAccount",value:function(e){window.location="#/datum/",this.forceUpdate()}},{key:"goback",value:function(){window.location="#/datum/"}},{key:"getinformation",value:function(){var e=this;this.currentId=e.props.params.id,void 0!=this.currentId?y.default.ajax({type:"POST",url:window.baseUrl+"document/get_documendetial/",data:{userid:e.userid,getusersigid:e.getusersigid,documentid:e.props.params.id},success:function(t){0===t.getret&&(e.setState({disabled:!0,title:t.detial.title,author:t.detial.author,kindid:t.detial.kindid,originaltext:t.detial.originaltext,changetext:t.detial.changetext,datatype:t.detial.datatype,voiceurl:t.detial.voiceurl}),e.state.selectedIndex=e.state.datatype,e.forceUpdate())}}):(this.setState({disabled:!1,title:"",author:"",kindid:"五言绝句",originaltext:"",changetext:"",datatype:0,voiceurl:""}),e.forceUpdate())}},{key:"saveinformation",value:function(){var e=this;this.currentId=e.props.params.id;var t={userid:e.userid,getusersigid:e.getusersigid,title:e.state.title,author:e.state.author,kindid:e.state.kindid,originaltext:e.state.originaltext,changetext:e.state.changetext,datatype:e.state.datatype,voiceurl:e.state.voiceurl};void 0!=this.currentId?(t.workdataid=this.currentId,y.default.ajax({type:"POST",url:window.baseUrl+"document/edit_document/",data:t,success:function(t){p.message[0===t.getret?"success":"error"](t.getmsg),e.forceUpdate(),window.location="#/datum/"}})):y.default.ajax({type:"POST",url:window.baseUrl+"document/add_document/",data:t,success:function(t){p.message[0===t.getret?"success":"error"](t.getmsg),e.forceUpdate(),window.location="#/datum/"}})}},{key:"getcategory",value:function(){var e=this;y.default.ajax({type:"POST",url:window.baseUrl+"document/get_documentclasslist/",data:{userid:e.userid,getusersigid:e.getusersigid},success:function(t){if(0===t.getret){console.log(t,"get_documentclasslist");var a=new Array;y.default.each(t.list,function(e,t){a.push(t.typename)}),e.state.tags=a,e.state.dataSource=t.list,console.log(e.state.dataSource,"s.state.dataSource"),e.forceUpdate()}else console.log(this.url,"error:get_documentclasslist")}})}}]),t}(s.Component);exports.default=(0,h.ZmitiValidateUser)(E),e.exports=exports.default}).call(this)}finally{}},1058:function(e,exports,t){var a=t(1059);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1059:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,'.inforlist-main-ui{overflow:auto}.inforlist-main-ui .zmiti-inforlist-header-inner{padding-left:8px;margin-top:10px;position:relative}.inforlist-main-ui .zmiti-inforlist-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.inforlist-main-ui .zmiti-inforlist-button-right button{float:right;margin-top:5px}.inforlist-main-ui .zmiti-inforlist-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.inforlist-main-ui .inforlist-heigth45{height:45px;line-height:45px;overflow:hidden}.inforlist-main-ui .inforlist-search{margin:15px 0}.inforlistTextarea{resize:none}.dialogInformation .ant-modal{padding-bottom:0;top:70px}.dialogInformation .ant-modal-content{height:100%}',""])},1060:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},s=t(1),u=a(s);t(1061);var c=t(1020),d=a(c),p=t(236);t(798);var f=(t(170),t(1053)),m=a(f),h=t(1003),g=t(1002),y=a(g);p.moment.locale("zh-cn");var v=(p.Radio.Group,p.Form.Item,p.Select.Option,function(e){function t(e){r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={setuserid:"",selectedIndex:0,mainHeight:document.documentElement.clientHeight-50,tags:[],modpostDialogVisible:!1,uploadData:[],imgsData:[],imgsNum:0,datatype:0,voiceurl:"",dataList:[],dataSource:[],workdatatype:"",workdataid:"",keyword:"",disabled:!1,editable:!1,value:this.props.value,inputVisible:!1,inputValue:"",typeid:""}}return n(t,e),o(t,[{key:"handleInputChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"editInput",value:function(e){var t=this,a=e.target.value,i=(e.target.alt,this.state),r=i.tags;t.setState({value:a}),t.setState({tags:r}),t.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.state,a=t.tags,i=t.inputVisible,r=t.inputValue,n=this.state,o=(n.value,n.editable,this.props.params.title||"素材云盘"),l={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:this.state.tags,mainHeight:this.state.mainHeight,title:o,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:u.default.createElement("div",{className:"repertorypub-main-ui",style:{height:this.state.mainHeight}},u.default.createElement("div",{className:"pad-10"},u.default.createElement("div",{className:"zmiti-repertorypub-header"},u.default.createElement(p.Row,null,u.default.createElement(p.Col,{span:8,className:"zmiti-repertorypub-header-inner"},"公共资料库"),u.default.createElement(p.Col,{span:8,offset:8,className:"zmiti-repertorypub-button-right"},u.default.createElement("div",{className:"repertoryUpBtn"},u.default.createElement(p.Button,{type:"primary",icon:"upload",size:"default"},"上传"),u.default.createElement("input",{ref:"upload-file",onChange:this.uploadFile.bind(this),type:"file"})),u.default.createElement(p.Button,{icon:"folder-add",onClick:this.dialogform.bind(this)},"分类管理"),u.default.createElement("div",{className:"clear"})))),u.default.createElement("div",{className:"zmiti-repertorypub-line"}),u.default.createElement("div",{className:"hr20"}),u.default.createElement("div",{className:"repertorypub-column"},u.default.createElement("div",{className:"repertorypub-picList",ref:"acc-scan-C"},u.default.createElement("ul",{className:"repertorypub-imgs"},this.state.imgsData.map(function(t,a){return u.default.createElement("li",{key:a},u.default.createElement("div",{className:"repertorypub-pics"},u.default.createElement("img",{src:t.src})),u.default.createElement(p.Button,{shape:"circle",icon:"delete",onClick:e.delImg.bind(e,t.id)}),u.default.createElement("div",{className:"repertorypub-size"},t.storageSize,"（",t.size,"）"))}))),u.default.createElement("div",{className:"clear"}))),u.default.createElement(p.Modal,{title:"素材分类",visible:this.state.modpostDialogVisible,onOk:this.addProduct.bind(this),onCancel:function(){e.setState({modpostDialogVisible:!1})}},u.default.createElement("div",{className:"inforListModal"},a.map(function(t,a){var i=t.length>20,r=u.default.createElement(p.Tag,{key:t,closable:0!==a,afterClose:function(){return e.handleClose(t)}},u.default.createElement(p.Input,{type:"text",ref:e.editInputRef,className:"inforlistCategoryIpt",defaultValue:i?t.slice(0,20)+"...":t,onChange:e.editInput.bind(e),onBlur:e.saveinput.bind(e),alt:a}));return i?u.default.createElement(p.Tooltip,{title:t},r):r}),i&&u.default.createElement(p.Input,{ref:this.saveInputRef,type:"text",size:"small",style:{width:110},value:r,onChange:this.handleInputChange.bind(this),onBlur:this.handleInputConfirm.bind(this),onPressEnter:this.handleInputConfirm.bind(this)}),!i&&u.default.createElement(p.Button,{size:"small",type:"dashed",
onClick:this.showInput},"+ 添加分类"))))},s=u.default.createElement("div",null,u.default.createElement(d.default,l));return u.default.createElement(m.default,{component:s})}},{key:"componentDidMount",value:function(){var e=this;e.getPersonalImg(),e.getcategory()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,i=e.loginOut;t(this);var r=a(function(){i(void 0,void 0,!1)},this),n=(r.username,r.userid),o=r.getusersigid;this.userid=n,this.getusersigid=o}},{key:"changeAccount",value:function(e){this.state.selectedIndex=1*e,this.state.keyword="",this.forceUpdate(),0===e?window.location="#/repertorypub/2093f57c-c147-fea8-993d-593bb1d4df1a":1===e?window.location="#/repertorypub/":window.location="#/repertorypub/"}},{key:"uploadFile",value:function(){var e=(this.props.params.userid?this.props.params.userid:this.userid,this.props.params.id||1465782065),t=new FormData,a=this;t.append("userid",a.userid),t.append("getusersigid",a.getusersigid),t.append("setuploadtype","0"),t.append("setdatainfoclassid",e),t.append("setupfile",this.refs["upload-file"].files[0]),y.default.ajax({url:window.baseUrl+"upload/upload_file",type:"POST",data:t,contentType:!1,processData:!1,success:function(e){0===e.getret&&(console.log(e),a.getPersonalImg(),a.forceUpdate())}})}},{key:"getPersonalImg",value:function(){var e=this,t=this.props.params.id;y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"datainfoclass/get_datainfo/",data:{userid:e.userid,getusersigid:e.getusersigid,setdatainfoclassid:t||1465782065,setdatainfotype:0},success:function(t){console.log(t,"图片列表"),e.state.imgsData=t.allImgs,e.state.imgsNum=t.allImgs.length,e.forceUpdate()}})}},{key:"delImg",value:function(e){var t=this;y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"datainfoclass/resource_del/",data:{userid:t.userid,getusersigid:t.getusersigid,setdatainfoid:e},success:function(e){0===e.getret&&(console.log(e,"删除成功！"),t.getPersonalImg(),t.forceUpdate())}})}},{key:"getcategory",value:function(){var e=this;y.default.ajax({type:"POST",url:window.baseUrl+"datainfoclass/get_datainfoclass/",data:{userid:e.userid,getusersigid:e.getusersigid},success:function(t){if(0===t.getret){console.log(t,"get_documentclasslist");var a=new Array;y.default.each(t.getdatainfoclass,function(e,t){1465782065==t.parentid&&a.push(t.classname)}),e.state.tags=a,e.state.dataSource=t.getdatainfoclass,e.forceUpdate()}else console.log(this.url,"error:get_documentclasslist")}})}},{key:"addProduct",value:function(){var e=this;this.setState({modpostDialogVisible:!1}),e.forceUpdate()}},{key:"dialogform",value:function(){var e=this;this.setState({modpostDialogVisible:!1}),window.location="#/categoryrepertory/",e.forceUpdate()}},{key:"handleInputConfirm",value:function(){var e=this,t=this.state,a=t.inputValue,r=t.tags;a&&r.indexOf(a)===-1&&(r=[].concat(i(r),[a])),y.default.ajax({type:"POST",url:window.baseUrl+"datainfoclass/add_class_info",data:{userid:e.userid,getusersigid:e.getusersigid,typename:a},success:function(t){0===t.getret&&(e.setState({tags:r,inputVisible:!1,inputValue:""}),e.getcategory(),e.forceUpdate())}})}},{key:"saveinput",value:function(e){var t=this,a=e.target.value,i=e.target.alt,r=this.state;r.tags;t.setState({value:a});t.state.selectedIndex;y.default.each(this.state.dataSource,function(e,r){e===parseInt(i)&&(t.state.workdatatype=r.workdatatype,t.state.tags[e]=a,y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"document/edit_documentclass",data:{userid:t.userid,getusersigid:t.getusersigid,workdatatype:t.state.workdatatype,typename:a},success:function(e){0===e.getret&&(t.getcategory(),t.forceUpdate())}}))})}},{key:"delData",value:function(e){var t=this;this.props.params.userid?this.props.params.userid:this.userid;y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"document/del_document/",data:{userid:t.userid,getusersigid:t.getusersigid,documentid:e},success:function(e){0===e.getret?(p.message.success("删除成功！"),setTimeout(function(){t.bindNewdata()},2e3)):e.getret===-3?(p.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):p.message.error(e.getmsg)}})}}]),t}(s.Component));exports.default=(0,h.ZmitiValidateUser)(v),e.exports=exports.default}).call(this)}finally{}},1061:function(e,exports,t){var a=t(1062);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1062:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,'.repertorypub-main-ui{overflow:auto}.repertorypub-main-ui .repertorypub-column{margin:20px}.repertorypub-main-ui .zmiti-repertorypub-header-inner{padding-left:8px;margin-top:10px;position:relative}.repertorypub-main-ui .zmiti-repertorypub-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.repertorypub-main-ui .zmiti-repertorypub-button-right button{float:right;margin-top:5px}.repertorypub-main-ui .zmiti-repertorypub-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.repertorypub-main-ui .repertorypub-add{width:145px;height:145px;float:left;background:url('+t(1063)+") no-repeat}.repertorypub-main-ui .repertorypub-add input{width:145px;height:145px;border:none;opacity:0;background:none;cursor:pointer}.repertorypub-main-ui .repertoryUpBtn{width:80px;height:35px;overflow:hidden;float:right;position:relative}.repertorypub-main-ui .repertoryUpBtn button{cursor:pointer}.repertorypub-main-ui .repertoryUpBtn input{width:130px;height:25px;overflow:hidden;position:absolute;left:-40px;top:5px;opacity:0;cursor:pointer}.repertorypub-main-ui .repertorypub-picList li{width:182px;float:left;margin:0 10px 10px 0;position:relative}.repertorypub-main-ui .repertorypub-picList li .repertorypub-pics{border:1px solid #ccc}.repertorypub-main-ui .repertorypub-picList li img{display:block;width:180px;height:180px}.repertorypub-main-ui .repertorypub-picList li .ant-btn{position:absolute;display:none;left:78px;top:78px}.repertorypub-main-ui .repertorypub-picList li:hover .repertorypub-pics{opacity:.3}.repertorypub-main-ui .repertorypub-picList li:hover .ant-btn{display:block}",""])},1063:function(e,exports){e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6RUI3MEU0RUEyMTk0RTUxMUIyMTk4NjNBQkUyREVENzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjYzMEJFQUUyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjYzMEJFQUQyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNDFDNTU2QUU1MjRFNzExODg4QUIxRTY3RTNDMDgxMSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmZiOGE5YTI1LTVjMWYtMTE3YS04NmZlLTkwNmUxMmU2YzA5ZCIvPiA8L3JkZjpEZXNjcmlwdGlv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"},1064:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l);t(1065);var u=t(1020),c=a(u),d=t(236);t(798);var p=(t(170),t(1053)),f=a(p),m=t(1003),h=t(1002),g=a(h);d.moment.locale("zh-cn");var y=(d.Radio.Group,d.Form.Item,d.Select.Option,function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={setuserid:"",selectedIndex:1,mainHeight:document.documentElement.clientHeight-50,tags:["共享","公司","个人"],uploadData:[],imgsData:[],imgsNum:0}}return r(t,e),n(t,[{key:"render",value:function(){var e=this,t=this.props.params.title||"素材云盘",a={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:this.state.tags,mainHeight:this.state.mainHeight,title:t,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:s.default.createElement("div",{className:"repertoryper-main-ui",style:{height:this.state.mainHeight}},s.default.createElement("div",{className:"pad-10"},s.default.createElement("div",{className:"zmiti-repertoryper-header"},s.default.createElement(d.Row,null,s.default.createElement(d.Col,{span:8,className:"zmiti-repertoryper-header-inner"},"公司"),s.default.createElement(d.Col,{span:8,offset:8,className:"zmiti-repertoryper-button-right"},s.default.createElement("div",{className:"repertoryUpBtn"},s.default.createElement(d.Button,{type:"primary",icon:"upload",size:"default"},"上传"),s.default.createElement("input",{ref:"upload-file",onChange:this.uploadFile.bind(this),type:"file"})),s.default.createElement("div",{className:"clear"})))),s.default.createElement("div",{className:"zmiti-repertoryper-line"}),s.default.createElement("div",{className:"hr20"}),s.default.createElement("div",{className:"repertoryper-column"},s.default.createElement("div",{className:"repertoryper-picList",ref:"acc-scan-C"},s.default.createElement("ul",{className:"repertoryper-imgs"},this.state.imgsData.map(function(t,a){return s.default.createElement("li",{key:a},s.default.createElement("div",{className:"repertoryper-pics"},s.default.createElement("img",{src:t.src})),s.default.createElement(d.Button,{shape:"circle",icon:"delete",onClick:e.delImg.bind(e,t.id)}),s.default.createElement("div",{className:"repertoryper-size"},t.storageSize,"（",t.size,"）"))}))),s.default.createElement("div",{className:"clear"}))))},i=s.default.createElement("div",null,s.default.createElement(c.default,a));return s.default.createElement(f.default,{component:i})}},{key:"componentDidMount",value:function(){var e=this;e.getPersonalImg()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,i=e.loginOut;t(this);var r=a(function(){i(void 0,void 0,!1)},this),n=(r.username,r.userid),o=r.getusersigid;this.userid=n,this.getusersigid=o}},{key:"changeAccount",value:function(e){this.state.selectedIndex=1*e,this.state.keyword="",this.forceUpdate(),0===e?window.location="#/repertorypub/":1===e?window.location="#/repertorycom/":window.location="#/repertoryper/"}},{key:"uploadFile",value:function(){var e=(this.props.params.userid?this.props.params.userid:this.userid,new FormData),t=this;e.append("userid",t.userid),e.append("getusersigid",t.getusersigid),e.append("setuploadtype","0"),e.append("setdatainfoclassid","1465782285"),e.append("setupfile",this.refs["upload-file"].files[0]),g.default.ajax({url:window.baseUrl+"upload/upload_file",type:"POST",data:e,contentType:!1,processData:!1,success:function(e){0===e.getret&&(console.log(e),t.getPersonalImg(),t.forceUpdate())}})}},{key:"getPersonalImg",value:function(){var e=this;g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"datainfoclass/get_datainfo/",data:{userid:e.userid,getusersigid:e.getusersigid,setdatainfoclassid:1465782285,setdatainfotype:0},success:function(t){console.log(t,"图片列表"),e.state.imgsData=t.allImgs,e.state.imgsNum=t.allImgs.length,e.forceUpdate()}})}},{key:"delImg",value:function(e){var t=this;console.log(e),g.default.ajax({url:window.baseUrl+"datainfoclass/resource_del/",data:{userid:t.userid,getusersigid:t.getusersigid,setdatainfoid:e},success:function(e){0===e.getret&&(console.log(e,"删除成功！"),t.getPersonalImg(),t.forceUpdate())}})}}]),t}(l.Component));exports.default=(0,m.ZmitiValidateUser)(y),e.exports=exports.default}).call(this)}finally{}},1065:function(e,exports,t){var a=t(1066);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1066:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,'.repertorycom-main-ui{overflow:auto}.repertorycom-main-ui .repertorycom-column{margin:20px}.repertorycom-main-ui .zmiti-repertorycom-header-inner{padding-left:8px;margin-top:10px;position:relative}.repertorycom-main-ui .zmiti-repertorycom-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.repertorycom-main-ui .zmiti-repertorycom-button-right button{float:right;margin-top:5px}.repertorycom-main-ui .zmiti-repertorycom-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.repertorycom-main-ui .repertorycom-add{width:145px;height:145px;float:left;background:url('+t(1067)+") no-repeat}.repertorycom-main-ui .repertorycom-add input{width:145px;height:145px;border:none;opacity:0;background:none;cursor:pointer}.repertorycom-main-ui .repertoryUpBtn{width:80px;height:35px;overflow:hidden;float:right;position:relative}.repertorycom-main-ui .repertoryUpBtn button{cursor:pointer}.repertorycom-main-ui .repertoryUpBtn input{width:130px;height:25px;overflow:hidden;position:absolute;left:-40px;top:5px;opacity:0;cursor:pointer}.repertorycom-main-ui .repertorycom-picList li{width:182px;float:left;margin:0 10px 10px 0;position:relative}.repertorycom-main-ui .repertorycom-picList li .repertorycom-pics{border:1px solid #ccc}.repertorycom-main-ui .repertorycom-picList li img{display:block;width:180px;height:180px}.repertorycom-main-ui .repertorycom-picList li .ant-btn{position:absolute;display:none;left:78px;top:78px}.repertorycom-main-ui .repertorycom-picList li:hover .repertorycom-pics{opacity:.3}.repertorycom-main-ui .repertorycom-picList li:hover .ant-btn{display:block}",""])},1067:function(e,exports){e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6RUI3MEU0RUEyMTk0RTUxMUIyMTk4NjNBQkUyREVENzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjYzMEJFQUUyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjYzMEJFQUQyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNDFDNTU2QUU1MjRFNzExODg4QUIxRTY3RTNDMDgxMSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmZiOGE5YTI1LTVjMWYtMTE3YS04NmZlLTkwNmUxMmU2YzA5ZCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv/uAA5BZG9iZQBkwAAAAAH/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAgICAgICAgICAgMDAwMDAwMDAwMBAQEBAQEBAgEBAgICAQICAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA//AABEIAJEAkQMBEQACEQEDEQH/xACHAAEAAgIDAQEBAAAAAAAAAAAABwgEBQEDBgIJCgEBAAAAAAAAAAAAAAAAAAAAABAAAQQBAQUCBwoKCwAAAAAAAQACAwQFESESExUGFAdRYSK0djdXMUGTs5TUddU2CJEy0iOj03Q1VRaxUmKCkrJTJFSVVhEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A/vbwuNrRVqN+TGx0snLjajLDXESz1nmFjpq/EDWsD+IdJXMa3iOaC7XQaB3swODjhvVo8NiWV8o90mTgZjqbYcjI8kvkvRNhDLb3lxJMgcSSg5fgsJJFQhfhsU+HFOY/FxPx9R0WNfGWGN9CMwltNzCxpBjDSNB4EHezGY2O9Nk48fRZkrMQgsZBlSu29PABEBDNbbGLEsQEDPJc4jyG+AIMQdOdPNoPxTcFhhi5ZRPJjRi6QoSTgsImfTEHZ3ygxtIcW6+SPAEGQ/D4mSxStyYvHSWsazhY6y+lWdYoR7u5w6UzojJVZu7NIy0aIOGYbDxvyEkeKxrJMs1zMrIyjVa/JscJGubkHNiDrjXNlcCJN4EOPhKDqf0/gZKVfGyYTEPx1SU2KlB+NpupVZy6Vxmr1XQmCGUuned5rQdXu27SgyTi8Yb7cqcdROUZD2duSNSub7a/lfmG3DH2gQ+UfJ3t3adiDHZgMFHWuU48LiY6mRlM2QqsxtNta9M4hzpbkDYRFZlLmglzw46hB9uwmGeMc1+Ixj24gsOJa6hVcMWYzEYzjgYiKRYYGacLd03G6e4EHYzFYuO5ZyDMbQZfuxCG5eZTrtuW4Q2Ngis2RGJp4gyJo3XuI0aB7wQYv8udPcvOJ5DhuVGXjnGcro8vM2odxjS4HZjLqNd7d11QZL8TipLdS/JjMfJeoRmGjcfTrOt04i1zDFUsOjM1eMse4brCBoSPfQfDMLh4+Y8PE4xnN97m25Qqt5pv8Xf5jpEO27/Hk14u9rvu8JQdb+n8DJVqUZMJiJKVCXj0ab8bTdVpT6vdxqld0JirS70jjvMDTq4+FBk8rxgyBywx1Hmhh7Mcl2SvzA19n5g3OH2gw7Pxd7d8SDXy9NYfsNihSo1cVHYsC452Lq1qZ7c0ANuPZDE2GxLo0B3Ea9sjfJcC3Yghv+f+6/8AiGe/6218zQThhmGPD4qN17mbo8bRY7Jah3MC2rE03tQSD2sjia6n8ZBskBAQEBAQEBAQEBAQEBAQEBBX3mveL7Jun/0H5CCbMA6o7BYV1CtJTouxONdTpygtlqVDThNetI06kSQQ6NIPvhBtkBAQEBAQEBAQEBAQEBAQEBBWzlF327M+VwfWCCwuM7dy3H8zEQyXYanMBBpwBe4EfaxDps4XH3t3xIM5AQEBAQEBAQEBAQEBAQEBAQVN5p3U+zbqL9P9aILOYBtVmCwrKNqS7Sbicc2ndlJdLbqtpwivakc7QuksRAPJO0koNsgICAgICAgICAgICAgICAgIIP3u/TwdK/gZ87QS7hXmTD4mQ0eWGTGUHnGkAcvLqsTuw6AADsmvD0H9VBs0BAQEBAQEBAQEBAQEBAQEBBUzlfdh7Us/8qv/AKpBaTFNssxeNZdtR3bjMfTbbuw6cK3ZbXjE9qLTZw7EoL2+IoM9AQEBAQEBAQEBAQEBAQEBAQVr5o72Eu+QD6rQT70/2HkOE5YJRjeUY3l4sa8cUexQ9kE295XFEG7va7ddUG3QEBAQEBAQcEhoLnENa0EucSAAANSSTsAAQavC5zDdSY2vmen8rj83ibZlFXJYq5Bfo2DBNJXnENqs+SGQwzxOY7Qndc0g7Qg2qAgICAgICAggPlXeZ7UcD+Cr9XoJtxTrb8XjX368dS8+hTddqQ6GGrbdXjNivERs4cMxLW+IIM9AQEBAQEHBIaC5xDWtBLnEgAADUkk7AAEHncxmMQ7EZRoyuNJdjrwH++q7dasvhl00QVZ+47kcbW+7b0TFNkKEEgvdWExyW60bxr1TliN5hkDm6jbt97aguHBZr2mcWtPDYj3i3iQSsmZvD3W78bnN3h4EHcgICAgICAgp9r3Ff8Tqn5NY/VoLXYRgjw2IjbeOTbHjKDG5JxDnZANqxNF4uBIJtgcTX+0g2aAgICAgINTnsJjOpsJlunc1X7ZiM5jrmJydUTTVzYoX68lW1CJ60kNiHiQyuG8xzXDXUEFBUzI/cc+7bWxt+aLom+HwUbckZ/mzqg6OjryOadHZUg6Ee+CEFfvum/dN7jO8LuM6U6p6p6VuX83ft9Rx2rUfUefpskbT6gyNOuBXp5CCvHuV4GjY0akanaUH6Bd2PdL0J3PYS5070BiJcPir+TlzFuCbJZHJvmyE1atUfPxslatSxg16cbd1pazyddNSSQkhAQEBAQEBBAnM+9b2b9NfCVvnaCZsC6u/B4Z9So+hUfisc6rRkBElKu6nCYakgO0PrRkMPjag2qAgICAgICDqsQR2YJq0oJisRSQSAEtJjlY6N4DhtaS1x2+8g8B3Vd2eA7oeh8T0F0zPkrWIxEmRlr2MtPDZvyvyWQs5KczS169WEhs1otaGxt0aBrqdSQkRAQEBAQEBAQVm5XQ9u8vy4fWqCxeMF0Y3HjJvikyQo1BkHwaCB93s8fa3wgbBE6feLfEgzkBAQEBAQEBAQEBAQEBAQEBBVLm/d/7JM7/hm+fILLdPtptwOEbj55LVBuIxraNqYl0tmmKcIrTyucA4yTQ7rnE7dSg26AgICAgICAgICAgICAgICAgg7g9+f8S6U+BYgmDDvfJiMVJJSGNkfjaL5McAAMe91aJz6QAAAFVx4f8AdQbFAQEBAQEBAQEBAQEBAQEBAQVI5Z3Q/wDvep/hLnzBBafEsnjxWMjs3GZCyzH0mWL8ZBjvTtrRiW4wjYWWZAXjxOQbBAQEBAQEBAQEBAQEBAQEBAQVz5tmvYZT+Rx/VKCdenzSOBwhxscsOOOIxpx8U4ImipGlCascwdq4Ssg3Q7XbqEG3QEBAQEBAQEBAQEBAQEBAQEFeuTdce2DFfCUv1CCdsW647GY52Rhir5B1Cm69XgOsEFw14zahhI2GKKfea3xBBnoCAgICAgICAgICAgICAgICCn/aO43+AdTfAzfOEFoemrVWXEUqcN43rGMpUaN50z9bjbEVSEF9xhax4lsNHEDi0NkDt5urSCg36AgICAgICAgICAgICAgICDFuXa1GEzWpWRM1DW7x8qR5BLWRtGrnuIBOgB0AJ9wFBDXP+tP9Poz5Hk/yUGB1f6suq/2rH+cUUGuzH797jf2ar5pWQZWJ+3XfF9CO83toPE2fUfiPS2bznKIJHveubpD0Vk+KyCDyGF+znfb9K2f6ZEHVk/sZ3K/SWN84oIPc1fXT1J6LM81xKCL63qQ6m9JX/HU0HuM19se5j6Oi8wcg+cR9pu+76Kt/E5RB4+/6nejPSs+d5JBI9j144b0Tn+LkQeIw32J74fp2X4ysgy8n+4u4r9qo/wCfEoPTY71t94HozH5rRQRsz1EZP0ns+chBKuZ/enTvojW+PCDrQf/Z"},1068:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l);t(1069);var u=t(1020),c=a(u),d=t(236);t(798);var p=(t(170),t(1053)),f=a(p),m=t(1003),h=t(1002),g=a(h);d.moment.locale("zh-cn");var y=(d.Radio.Group,d.Form.Item,d.Select.Option,function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={setuserid:"",selectedIndex:2,mainHeight:document.documentElement.clientHeight-50,tags:["共享","公司","个人"],uploadData:[],imgsData:[],imgsNum:0}}return r(t,e),n(t,[{key:"render",value:function(){var e=this,t=this.props.params.title||"元素库",a={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:this.state.tags,mainHeight:this.state.mainHeight,title:t,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:s.default.createElement("div",{className:"repertorypub-main-ui",style:{height:this.state.mainHeight}},s.default.createElement("div",{className:"pad-10"},s.default.createElement("div",{className:"zmiti-repertorypub-header"},s.default.createElement(d.Row,null,s.default.createElement(d.Col,{span:8,className:"zmiti-repertorypub-header-inner"},"个人"),s.default.createElement(d.Col,{span:8,offset:8,className:"zmiti-repertorypub-button-right"},s.default.createElement("div",{className:"repertoryUpBtn"},s.default.createElement(d.Button,{type:"primary",icon:"upload",size:"default"},"上传"),s.default.createElement("input",{ref:"upload-file",onChange:this.uploadFile.bind(this),type:"file"})),s.default.createElement("div",{className:"clear"})))),s.default.createElement("div",{className:"zmiti-repertorypub-line"}),s.default.createElement("div",{className:"hr20"}),s.default.createElement("div",{className:"repertorypub-column"},s.default.createElement("div",{className:"repertorypub-picList",ref:"acc-scan-C"},s.default.createElement("ul",{className:"repertorypub-imgs"},this.state.imgsData.map(function(t,a){return s.default.createElement("li",{key:a},s.default.createElement("div",{className:"repertorypub-pics"},s.default.createElement("img",{src:t.src})),s.default.createElement(d.Button,{shape:"circle",icon:"delete",onClick:e.delImg.bind(e,t.id)}),s.default.createElement("div",{className:"repertorypub-size"},t.storageSize,"（",t.size,"）"))}))),s.default.createElement("div",{className:"clear"}))))},i=s.default.createElement("div",null,s.default.createElement(c.default,a));return s.default.createElement(f.default,{component:i})}},{key:"componentDidMount",value:function(){var e=this;e.getPersonalImg()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,i=e.loginOut;t(this);var r=a(function(){i(void 0,void 0,!1)},this),n=(r.username,r.userid),o=r.getusersigid;this.userid=n,this.getusersigid=o}},{key:"changeAccount",value:function(e){this.state.selectedIndex=1*e,this.state.keyword="",this.forceUpdate(),0===e?window.location="#/repertorypub/":1===e?window.location="#/repertorycom/":window.location="#/repertoryper/"}},{key:"uploadFile",value:function(){var e=(this.props.params.userid?this.props.params.userid:this.userid,new FormData),t=this;e.append("userid",t.userid),e.append("getusersigid",t.getusersigid),e.append("setuploadtype","0"),e.append("setdatainfoclassid","1465782065"),e.append("setupfile",this.refs["upload-file"].files[0]),g.default.ajax({url:window.baseUrl+"upload/upload_file",type:"POST",data:e,contentType:!1,processData:!1,success:function(e){0===e.getret&&(console.log(e),t.getPersonalImg(),t.forceUpdate())}})}},{key:"getPersonalImg",value:function(){var e=this;g.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"datainfoclass/get_datainfo/",data:{userid:e.userid,getusersigid:e.getusersigid,setdatainfoclassid:1465782065,setdatainfotype:0},success:function(t){console.log(t,"图片列表"),e.state.imgsData=t.allImgs,e.state.imgsNum=t.allImgs.length,e.forceUpdate()}})}},{key:"delImg",value:function(e){var t=this;console.log(e),g.default.ajax({url:window.baseUrl+"datainfoclass/resource_del/",data:{userid:t.userid,getusersigid:t.getusersigid,setdatainfoid:e},success:function(e){0===e.getret&&(console.log(e,"删除成功！"),t.getPersonalImg(),t.forceUpdate())}})}}]),t}(l.Component));exports.default=(0,m.ZmitiValidateUser)(y),e.exports=exports.default}).call(this)}finally{}},1069:function(e,exports,t){var a=t(1070);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1070:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,'.repertoryper-main-ui{overflow:auto}.repertoryper-main-ui .repertoryper-column{margin:20px}.repertoryper-main-ui .zmiti-repertoryper-header-inner{padding-left:8px;margin-top:10px;position:relative}.repertoryper-main-ui .zmiti-repertoryper-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.repertoryper-main-ui .zmiti-repertoryper-button-right button{float:right;margin-top:5px}.repertoryper-main-ui .zmiti-repertoryper-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.repertoryper-main-ui .repertoryper-add{width:145px;height:145px;float:left;background:url('+t(1071)+") no-repeat}.repertoryper-main-ui .repertoryper-add input{width:145px;height:145px;border:none;opacity:0;background:none;cursor:pointer}.repertoryper-main-ui .repertoryUpBtn{width:80px;height:35px;overflow:hidden;float:right;position:relative}.repertoryper-main-ui .repertoryUpBtn button{cursor:pointer}.repertoryper-main-ui .repertoryUpBtn input{width:130px;height:25px;overflow:hidden;position:absolute;left:-40px;top:5px;opacity:0;cursor:pointer}.repertoryper-main-ui .repertoryper-picList li{width:182px;float:left;margin:0 10px 10px 0;position:relative}.repertoryper-main-ui .repertoryper-picList li .repertoryper-pics{border:1px solid #ccc}.repertoryper-main-ui .repertoryper-picList li img{display:block;width:180px;height:180px}.repertoryper-main-ui .repertoryper-picList li .ant-btn{position:absolute;display:none;left:78px;top:78px}.repertoryper-main-ui .repertoryper-picList li:hover .repertoryper-pics{opacity:.3}.repertoryper-main-ui .repertoryper-picList li:hover .ant-btn{display:block}",""])},1071:function(e,exports){e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6RUI3MEU0RUEyMTk0RTUxMUIyMTk4NjNBQkUyREVENzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjYzMEJFQUUyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjYzMEJFQUQyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNDFDNTU2QUU1MjRFNzExODg4QUIxRTY3RTNDMDgxMSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmZiOGE5YTI1LTVjMWYtMTE3YS04NmZlLTkwNmUxMmU2YzA5ZCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv/uAA5BZG9iZQBkwAAAAAH/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAgICAgICAgICAgMDAwMDAwMDAwMBAQEBAQEBAgEBAgICAQICAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA//AABEIAJEAkQMBEQACEQEDEQH/xACHAAEAAgIDAQEBAAAAAAAAAAAABwgEBQEDBgIJCgEBAAAAAAAAAAAAAAAAAAAAABAAAQQBAQUCBwoKCwAAAAAAAQACAwQFESESExUGFAdRYSK0djdXMUGTs5TUddU2CJEy0iOj03Q1VRaxUmKCkrJTJFSVVhEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A/vbwuNrRVqN+TGx0snLjajLDXESz1nmFjpq/EDWsD+IdJXMa3iOaC7XQaB3swODjhvVo8NiWV8o90mTgZjqbYcjI8kvkvRNhDLb3lxJMgcSSg5fgsJJFQhfhsU+HFOY/FxPx9R0WNfGWGN9CMwltNzCxpBjDSNB4EHezGY2O9Nk48fRZkrMQgsZBlSu29PABEBDNbbGLEsQEDPJc4jyG+AIMQdOdPNoPxTcFhhi5ZRPJjRi6QoSTgsImfTEHZ3ygxtIcW6+SPAEGQ/D4mSxStyYvHSWsazhY6y+lWdYoR7u5w6UzojJVZu7NIy0aIOGYbDxvyEkeKxrJMs1zMrIyjVa/JscJGubkHNiDrjXNlcCJN4EOPhKDqf0/gZKVfGyYTEPx1SU2KlB+NpupVZy6Vxmr1XQmCGUuned5rQdXu27SgyTi8Yb7cqcdROUZD2duSNSub7a/lfmG3DH2gQ+UfJ3t3adiDHZgMFHWuU48LiY6mRlM2QqsxtNta9M4hzpbkDYRFZlLmglzw46hB9uwmGeMc1+Ixj24gsOJa6hVcMWYzEYzjgYiKRYYGacLd03G6e4EHYzFYuO5ZyDMbQZfuxCG5eZTrtuW4Q2Ngis2RGJp4gyJo3XuI0aB7wQYv8udPcvOJ5DhuVGXjnGcro8vM2odxjS4HZjLqNd7d11QZL8TipLdS/JjMfJeoRmGjcfTrOt04i1zDFUsOjM1eMse4brCBoSPfQfDMLh4+Y8PE4xnN97m25Qqt5pv8Xf5jpEO27/Hk14u9rvu8JQdb+n8DJVqUZMJiJKVCXj0ab8bTdVpT6vdxqld0JirS70jjvMDTq4+FBk8rxgyBywx1Hmhh7Mcl2SvzA19n5g3OH2gw7Pxd7d8SDXy9NYfsNihSo1cVHYsC452Lq1qZ7c0ANuPZDE2GxLo0B3Ea9sjfJcC3Yghv+f+6/8AiGe/6218zQThhmGPD4qN17mbo8bRY7Jah3MC2rE03tQSD2sjia6n8ZBskBAQEBAQEBAQEBAQEBAQEBBX3mveL7Jun/0H5CCbMA6o7BYV1CtJTouxONdTpygtlqVDThNetI06kSQQ6NIPvhBtkBAQEBAQEBAQEBAQEBAQEBBWzlF327M+VwfWCCwuM7dy3H8zEQyXYanMBBpwBe4EfaxDps4XH3t3xIM5AQEBAQEBAQEBAQEBAQEBAQVN5p3U+zbqL9P9aILOYBtVmCwrKNqS7Sbicc2ndlJdLbqtpwivakc7QuksRAPJO0koNsgICAgICAgICAgICAgICAgIIP3u/TwdK/gZ87QS7hXmTD4mQ0eWGTGUHnGkAcvLqsTuw6AADsmvD0H9VBs0BAQEBAQEBAQEBAQEBAQEBBUzlfdh7Us/8qv/AKpBaTFNssxeNZdtR3bjMfTbbuw6cK3ZbXjE9qLTZw7EoL2+IoM9AQEBAQEBAQEBAQEBAQEBAQVr5o72Eu+QD6rQT70/2HkOE5YJRjeUY3l4sa8cUexQ9kE295XFEG7va7ddUG3QEBAQEBAQcEhoLnENa0EucSAAANSSTsAAQavC5zDdSY2vmen8rj83ibZlFXJYq5Bfo2DBNJXnENqs+SGQwzxOY7Qndc0g7Qg2qAgICAgICAggPlXeZ7UcD+Cr9XoJtxTrb8XjX368dS8+hTddqQ6GGrbdXjNivERs4cMxLW+IIM9AQEBAQEHBIaC5xDWtBLnEgAADUkk7AAEHncxmMQ7EZRoyuNJdjrwH++q7dasvhl00QVZ+47kcbW+7b0TFNkKEEgvdWExyW60bxr1TliN5hkDm6jbt97aguHBZr2mcWtPDYj3i3iQSsmZvD3W78bnN3h4EHcgICAgICAgp9r3Ff8Tqn5NY/VoLXYRgjw2IjbeOTbHjKDG5JxDnZANqxNF4uBIJtgcTX+0g2aAgICAgINTnsJjOpsJlunc1X7ZiM5jrmJydUTTVzYoX68lW1CJ60kNiHiQyuG8xzXDXUEFBUzI/cc+7bWxt+aLom+HwUbckZ/mzqg6OjryOadHZUg6Ee+CEFfvum/dN7jO8LuM6U6p6p6VuX83ft9Rx2rUfUefpskbT6gyNOuBXp5CCvHuV4GjY0akanaUH6Bd2PdL0J3PYS5070BiJcPir+TlzFuCbJZHJvmyE1atUfPxslatSxg16cbd1pazyddNSSQkhAQEBAQEBBAnM+9b2b9NfCVvnaCZsC6u/B4Z9So+hUfisc6rRkBElKu6nCYakgO0PrRkMPjag2qAgICAgICDqsQR2YJq0oJisRSQSAEtJjlY6N4DhtaS1x2+8g8B3Vd2eA7oeh8T0F0zPkrWIxEmRlr2MtPDZvyvyWQs5KczS169WEhs1otaGxt0aBrqdSQkRAQEBAQEBAQVm5XQ9u8vy4fWqCxeMF0Y3HjJvikyQo1BkHwaCB93s8fa3wgbBE6feLfEgzkBAQEBAQEBAQEBAQEBAQEBBVLm/d/7JM7/hm+fILLdPtptwOEbj55LVBuIxraNqYl0tmmKcIrTyucA4yTQ7rnE7dSg26AgICAgICAgICAgICAgICAgg7g9+f8S6U+BYgmDDvfJiMVJJSGNkfjaL5McAAMe91aJz6QAAAFVx4f8AdQbFAQEBAQEBAQEBAQEBAQEBAQVI5Z3Q/wDvep/hLnzBBafEsnjxWMjs3GZCyzH0mWL8ZBjvTtrRiW4wjYWWZAXjxOQbBAQEBAQEBAQEBAQEBAQEBAQVz5tmvYZT+Rx/VKCdenzSOBwhxscsOOOIxpx8U4ImipGlCascwdq4Ssg3Q7XbqEG3QEBAQEBAQEBAQEBAQEBAQEFeuTdce2DFfCUv1CCdsW647GY52Rhir5B1Cm69XgOsEFw14zahhI2GKKfea3xBBnoCAgICAgICAgICAgICAgICCn/aO43+AdTfAzfOEFoemrVWXEUqcN43rGMpUaN50z9bjbEVSEF9xhax4lsNHEDi0NkDt5urSCg36AgICAgICAgICAgICAgICDFuXa1GEzWpWRM1DW7x8qR5BLWRtGrnuIBOgB0AJ9wFBDXP+tP9Poz5Hk/yUGB1f6suq/2rH+cUUGuzH797jf2ar5pWQZWJ+3XfF9CO83toPE2fUfiPS2bznKIJHveubpD0Vk+KyCDyGF+znfb9K2f6ZEHVk/sZ3K/SWN84oIPc1fXT1J6LM81xKCL63qQ6m9JX/HU0HuM19se5j6Oi8wcg+cR9pu+76Kt/E5RB4+/6nejPSs+d5JBI9j144b0Tn+LkQeIw32J74fp2X4ysgy8n+4u4r9qo/wCfEoPTY71t94HozH5rRQRsz1EZP0ns+chBKuZ/enTvojW+PCDrQf/Z";
},1072:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},s=t(1),u=a(s);t(1073);var c=t(1020),d=a(c),p=t(236),f=t(235),m=a(f),h=t(1003),g=t(1002),y=a(g),v=p.Select.Option,b=p.Form.Item,E=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={setuserid:"",selectedIndex:0,mainHeight:document.documentElement.clientHeight-50,dialogHeight:document.documentElement.clientHeight,tags:[],classname:"",classtype:1465782065,datatype:0,voiceurl:"",dataSource:[],workdataid:"",keyword:"",disabled:!1},this.currentId=void 0}return r(t,e),o(t,[{key:"render",value:function(){var e=this,t={labelCol:{span:6},wrapperCol:{span:14}},a={wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:6}}},i=this.props.params.title||"素材云盘",r={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:this.state.tags,mainHeight:this.state.mainHeight,title:i,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:u.default.createElement("div",{className:"categoryrepertory-main-ui",style:{height:this.state.mainHeight}},u.default.createElement("div",{className:"pad-10"},u.default.createElement("div",{className:"zmiti-categoryrepertory-header"},u.default.createElement(p.Row,null,u.default.createElement(p.Col,{span:8,className:"zmiti-categoryrepertory-header-inner"},"素材云盘"),u.default.createElement(p.Col,{span:8,offset:8,className:"zmiti-categoryrepertory-button-right"},u.default.createElement(p.Button,{type:"primary",icon:"left",onClick:this.goback.bind(this)},"返回")))),u.default.createElement("div",{className:"zmiti-categoryrepertory-line"}),u.default.createElement("div",{className:"hr20"})),u.default.createElement(p.Form,null,u.default.createElement(b,n({},t,{label:"父级分类",hasFeedback:!0}),u.default.createElement(p.Select,{placeholder:"父级分类",onChange:function(t){e.state.classtype=t,e.forceUpdate()},value:this.state.classtype},this.state.dataSource.map(function(e,t){return u.default.createElement(v,{key:t,value:1*e.datainfoclassid},e.classname)}))),u.default.createElement(b,n({},t,{label:"分类名称",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"分类名称",value:this.state.classname,onChange:function(t){e.state.classname=t.target.value,e.forceUpdate()}})),u.default.createElement(b,n({},t,{label:"类型",hasFeedback:!0}),u.default.createElement(p.Select,{placeholder:"类型",onChange:function(t){e.state.datatype=t,e.forceUpdate()},value:this.state.datatype},u.default.createElement(v,{value:0},"图片"),u.default.createElement(v,{value:1},"音频"),u.default.createElement(v,{value:2},"视频"),u.default.createElement(v,{value:3},"VR视频"))),u.default.createElement(b,a,u.default.createElement(p.Button,{type:"primary",icon:"save",htmlType:"submit",size:"large",onClick:this.saveinformation.bind(this)},"提交"))))},o=u.default.createElement("div",null,u.default.createElement(d.default,r));return u.default.createElement(m.default,{component:o})}},{key:"componentDidMount",value:function(){var e=this;e.getinformation(),e.getcategory()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,i=e.loginOut;t(this);var r=a(function(){i(void 0,void 0,!1)},this),n=(r.username,r.userid),o=r.getusersigid;this.userid=n,this.getusersigid=o}},{key:"changeAccount",value:function(e){window.location="#/datum/",this.forceUpdate()}},{key:"goback",value:function(){window.history.go(-1)}},{key:"getinformation",value:function(){var e=this;this.currentId=e.props.params.id,void 0!=this.currentId?y.default.ajax({type:"POST",url:window.baseUrl+"document/get_documendetial/",data:{userid:e.userid,getusersigid:e.getusersigid,documentid:e.props.params.id},success:function(t){0===t.getret&&(e.setState({disabled:!0,datainfoclassid:t.detial.datainfoclassid,classname:t.detial.classname,datatype:t.detial.datatype}),e.forceUpdate())}}):(this.setState({disabled:!1,classname:"",datainfoclassid:1465782065,datatype:0}),e.forceUpdate())}},{key:"saveinformation",value:function(){var e=this;this.currentId=e.props.params.id;var t={userid:e.userid,getusersigid:e.getusersigid,setparentid:e.state.datainfoclassid,setclassname:e.state.classname,setdataclasstype:e.state.datatype};void 0!=this.currentId||y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"datainfoclass/add_class_info/",data:t,success:function(t){p.message[0===t.getret?"success":"error"](t.getmsg),e.forceUpdate(),console.log(this.url)}})}},{key:"getcategory",value:function(){var e=this;y.default.ajax({type:"POST",url:window.baseUrl+"datainfoclass/get_datainfoclass/",data:{userid:e.userid,getusersigid:e.getusersigid},success:function(t){if(0===t.getret){console.log(t,"get_documentclasslist");var a=new Array;y.default.each(t.getdatainfoclass,function(e,t){null===t.parentid&&a.push(t.classname)}),e.state.tags=a,e.state.dataSource=t.getdatainfoclass,console.log(e.state.dataSource,"s.state.dataSource"),e.forceUpdate()}else console.log(this.url,"error:get_documentclasslist")}})}}]),t}(s.Component);exports.default=(0,h.ZmitiValidateUser)(E),e.exports=exports.default}).call(this)}finally{}},1073:function(e,exports,t){var a=t(1074);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1074:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,'.categoryrepertory-main-ui{overflow:auto}.categoryrepertory-main-ui .categoryrepertory-column{margin:20px}.categoryrepertory-main-ui .zmiti-categoryrepertory-header-inner{padding-left:8px;margin-top:10px;position:relative}.categoryrepertory-main-ui .zmiti-categoryrepertory-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.categoryrepertory-main-ui .zmiti-categoryrepertory-button-right button{float:right;margin-top:5px}.categoryrepertory-main-ui .zmiti-categoryrepertory-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.categoryrepertory-main-ui .categoryrepertory-add{width:145px;height:145px;float:left;background:url('+t(1075)+") no-repeat}.categoryrepertory-main-ui .categoryrepertory-add input{width:145px;height:145px;border:none;opacity:0;background:none;cursor:pointer}.categoryrepertory-main-ui .repertoryUpBtn{width:80px;height:35px;overflow:hidden;float:right;position:relative}.categoryrepertory-main-ui .repertoryUpBtn button{cursor:pointer}.categoryrepertory-main-ui .repertoryUpBtn input{width:130px;height:25px;overflow:hidden;position:absolute;left:-40px;top:5px;opacity:0;cursor:pointer}.categoryrepertory-main-ui .categoryrepertory-picList li{width:182px;float:left;margin:0 10px 10px 0;position:relative}.categoryrepertory-main-ui .categoryrepertory-picList li .categoryrepertory-pics{border:1px solid #ccc}.categoryrepertory-main-ui .categoryrepertory-picList li img{display:block;width:180px;height:180px}.categoryrepertory-main-ui .categoryrepertory-picList li .ant-btn{position:absolute;display:none;left:78px;top:78px}.categoryrepertory-main-ui .categoryrepertory-picList li:hover .categoryrepertory-pics{opacity:.3}.categoryrepertory-main-ui .categoryrepertory-picList li:hover .ant-btn{display:block}",""])},1075:function(e,exports){e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6RUI3MEU0RUEyMTk0RTUxMUIyMTk4NjNBQkUyREVENzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjYzMEJFQUUyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjYzMEJFQUQyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNDFDNTU2QUU1MjRFNzExODg4QUIxRTY3RTNDMDgxMSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmZiOGE5YTI1LTVjMWYtMTE3YS04NmZlLTkwNmUxMmU2YzA5ZCIvPiA8L3JkZjpEZXNjcmlwdGlv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"},1076:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l);t(1077);var u=t(1020),c=(a(u),t(236)),d=t(1026),p=(a(d),t(235)),f=a(p),m=t(1003),h=t(1002),g=a(h),y=(c.Select.Option,c.DatePicker.MonthPicker,c.DatePicker.RangePicker,c.Button.Group,function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,userList:[{key:"64c319ec-0dfc-0644-4b5f-58e48401031f",isover:1,username:"wenmingzg",email:"wenmingzg@wenming.cn",mobile:"15810753578",departmentname:"",departmentid:"",departmentfatherid:""},{key:"b44fb05b-ec84-b823-d2d4-58e5f5b47d05",isover:0,username:"wmw_yangf",email:"yangf@linten.cn",mobile:"13141313322",departmentname:"美编",departmentid:"38b4a40a-e9f4-1c0b-ff38-58e5f505cdac",departmentfatherid:"5eba6734-509a-85aa-a48f-58e484e95471"}]},this.condition=0,this.changeAccount=this.changeAccount.bind(this)}return r(t,e),n(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx",render:function(e,t,a){return s.default.createElement("div",null,a+1)}},{title:"用户名",dataIndex:"username",key:"username"},{title:"邮箱",dataIndex:"email",key:"email"},{title:"手机",dataIndex:"mobile",key:"mobile"},{title:"部门",dataIndex:"departmentname",key:"departmentname"},{title:"状态",dataIndex:"isover",key:"isover"},{title:"操作",dataIndex:"",key:"x",render:function(t,a){return s.default.createElement("div",{className:"zmiti-companyuserinfo-action"},s.default.createElement("span",null,s.default.createElement("a",{href:"javascript:void(0)",onClick:e.deluserinfo.bind(e,a.key)},"设置权限")),s.default.createElement("span",null,s.default.createElement("a",{href:"javascript:void(0)",onClick:e.deluserinfo.bind(e,a.key)},"删除")))}}],a=(this.props.params.title||"公司账户管理",this.props.params.id,s.default.createElement("div",{className:"zmiti-companyuserinfo-main-ui pad-10",style:{height:this.state.mainHeight}},s.default.createElement("div",{className:"hr5"}),s.default.createElement(c.Row,{className:"zmiti-companyuserinfo-header"},s.default.createElement(c.Col,{span:8,className:"zmiti-companyuserinfo-header-inner"},"公司账户管理"),s.default.createElement(c.Col,{span:8,offset:8,className:"zmiti-companyuserinfo-button-right textright"},s.default.createElement(c.Button,{onClick:this.goback.bind(this)},"返回"))),s.default.createElement("div",{className:"zmiti-companyuserinfo-line"}),s.default.createElement("div",{className:"hr20"}),s.default.createElement(c.Table,{dataSource:this.state.userList,columns:t,bordered:!0})));return s.default.createElement(f.default,{component:a})}},{key:"deluserinfo",value:function(e){console.log(e,"del")}},{key:"getmangeruserlist",value:function(){var e=this.props.params.id;console.log(e,"uid");({getusersigid:this.getusersigid,userid:this.userid,setuserid:this.state.setuserid,setcompanyid:e})}},{key:"goback",value:function(){window.location="./index.html#/company/"+this.props.params.title}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,i=e.loginOut,r=e.getProductList;t(this),a(function(){i(void 0,void 0,!1)},this),this.getProductList=r}},{key:"componentDidMount",value:function(){var e=this;window.$=g.default,this.baseUrl=window.baseUrl;var t=this.props,a=t.validateUser,i=t.loginOut,r=a(function(){i(void 0,void 0,!1)},this),n=r.userid,o=r.getusersigid,l=r.companyid,s=(r.username,r.isover),u=r.usertypesign;this.userid=n,this.getusersigid=o,this.companyid=l,this.isover=s,this.usertypesign=u,this.loginOut=i;var c=({getusersigid:this.getusersigid,userid:this.userid,setusertypesign:2},this);this.getProductList({s:this,fn:function(e){c.setState({productList:e.productlist})}}),window.obserable.off("modifyProductList"),window.obserable.on("modifyProductList",function(t){e.setState({productList:t})}),this.getmangeruserlist()}},{key:"changeAccount",value:function(e){}}]),t}(l.Component));exports.default=(0,m.ZmitiValidateUser)(y),e.exports=exports.default}).call(this)}finally{}},1077:function(e,exports,t){var a=t(1078);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1078:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,'.zmiti-companyuserinfo-main-ui{font-size:12px}.zmiti-companyuserinfo-main-ui .hr20{height:20px}.zmiti-companyuserinfo-main-ui .hr10{height:10px}.zmiti-companyuserinfo-main-ui .hr5{height:5px}.zmiti-companyuserinfo-main-ui .textright{text-align:right}.zmiti-companyuserinfo-main-ui .zmiti-companyuserinfo-header-inner{padding-left:8px;position:relative;line-height:28px}.zmiti-companyuserinfo-main-ui .zmiti-companyuserinfo-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.zmiti-companyuserinfo-main-ui .companyuserinfo-search{margin:15px 0}.zmiti-companyuserinfo-main-ui .companyuserinfo-search .zmiti-companyuserinfo-with130{width:130px}.zmiti-companyuserinfo-main-ui .companyuserinfo-search .zmiti-companyuserinfo-with70{width:70px}.zmiti-companyuserinfo-main-ui .companyuserinfo-search .zmiti-companyuserinfo-with60{width:60px}.zmiti-companyuserinfo-main-ui .companyuserinfo-search .companyuserinfo-heigth30{height:30px;line-height:30px;overflow:hidden}.zmiti-companyuserinfo-main-ui .zmiti-companyuserinfo-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}',""])},1079:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},l=t(1),s=a(l);t(1080);var u=t(1020),c=(a(u),t(236)),d=(t(170),t(1053)),p=a(d),f=t(1003),m=t(1002),h=(a(m),c.Select.Option,c.Select.OptGroup,c.Steps.Step,c.Form.Item,c.Layout.Header,c.Layout.Content,function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={mainHeight:document.documentElement.clientHeight-50,projectlist:[],isError:!1,ModalText:"",companyData:{companyadmin:"wenmingzg",companyadminid:"",useremail:"",companyadminphone:"15810753578",companyid:"",appid:"123",appsecret:"456",companyname:"",companyaddress:"北京市西城区宣武门西大街97号甲新华社发行楼",businesslicensenumber:"",newbusinessLicensenumber:"",enddate:"2018-12-31",capacity:"1",capacitied:"0.1",capacityratio:"",companynum:"10",usernumber:"5",companynumratio:"",worksNumber:"120",departmentCount:"3",companylogourl:"./static/images/header.png",contract:"",companydocumetn:"",companytotalprice:100,departmentData:[]},showfooter:null,wxdisable:!0,visible:!1,modalTitles:["上传营业执照","查看扫描件","查看合同"],uploadData:[],currentDialog:-1}}return r(t,e),n(t,[{key:"render",value:function(){var e=this,t=s.default.createElement("div",{className:"viewuserinfor-main",style:{height:this.state.mainHeight}},s.default.createElement("div",{className:"viewuserinfor-persion"},s.default.createElement(c.Row,{gutter:16},s.default.createElement(c.Col,{span:14},s.default.createElement("div",{className:"viewuserinfor-all"},s.default.createElement("div",{className:"userFace"},s.default.createElement("img",{src:this.state.companyData.companylogourl})),s.default.createElement("div",{className:"companyName"},this.state.companyData.companyname),s.default.createElement("div",{className:"hr10"}),s.default.createElement("div",{className:"information"},s.default.createElement("ul",null,s.default.createElement("li",{className:"companyupdatestyle"},s.default.createElement("span",null),s.default.createElement("label",null,"公司管理员："),this.state.companyData.companyadmin,"         ",s.default.createElement("label",null,"管理员电话："),this.state.companyData.companyadminphone),s.default.createElement("li",null,s.default.createElement("label",null,"营业注册号："),"    ",s.default.createElement(c.Button,{className:"btn-c1"},"查看扫描件")," ",s.default.createElement(c.Button,{className:"btn-c1"},"查看合同")),s.default.createElement("li",{className:"companyupdatestyle"},s.default.createElement("label",null,"公司地址："),this.state.companyData.companyaddress,"    "))))),s.default.createElement(c.Col,{span:10},s.default.createElement("div",null,s.default.createElement("span",{className:"viewuserinfor-dates"},"将于 ",s.default.createElement("span",{className:"c1"},this.state.companyData.enddate)," 到期"),s.default.createElement(c.Button,{className:"btn-c2"},"消费记录")),s.default.createElement("div",{className:"hr10"}),s.default.createElement("div",{className:"viewuserinfor-place icoA"},s.default.createElement("div",{className:"placeIco "},s.default.createElement(c.Icon,{type:"hdd"})),s.default.createElement("div",{className:"placeNum"},s.default.createElement("div",{className:"placeTip"},"总空间 "),s.default.createElement(c.Progress,{percent:1*e.state.companyData.capacityratio,showInfo:!1}),s.default.createElement("span",null,e.state.companyData.capacitied,"/",e.state.companyData.capacity))),s.default.createElement("div",{className:"hr20"}),s.default.createElement("div",{className:"viewuserinfor-place icoB"},s.default.createElement("div",{className:"placeIco "},s.default.createElement(c.Icon,{type:"user"})),s.default.createElement("div",{className:"placeNum"},s.default.createElement("div",{className:"placeTip"},"用户数 "),s.default.createElement(c.Progress,{percent:1*e.state.companyData.companynumratio,showInfo:!1}),s.default.createElement("span",null,this.state.companyData.usernumber,"/",this.state.companyData.companynum))),s.default.createElement("div",{className:"hr20"}),s.default.createElement("div",{className:"size18"},"微信公众号设置",s.default.createElement("span",null)),s.default.createElement("div",{className:"viewuserinfor-weixin"},s.default.createElement("ul",null,s.default.createElement("li",null,s.default.createElement(c.Input,{addonBefore:"AppId",type:"text",value:this.state.companyData.appid,placeholder:"appid",disabled:this.state.wxdisable})),s.default.createElement("li",null,s.default.createElement(c.Input,{addonBefore:"appsecret",type:"text",placeholder:"appsecret",value:this.state.companyData.appsecret,disabled:this.state.wxdisable}))))))),s.default.createElement("div",{className:"hr50"}),s.default.createElement("div",{className:"viewuserinfor-nums"},s.default.createElement("ul",null,s.default.createElement("li",null,s.default.createElement("div",{className:"viewuserinfor-col"},s.default.createElement("h5",null,s.default.createElement("div",null,s.default.createElement("span",null,"总计作品"))),s.default.createElement("div",{className:"viewnums"},s.default.createElement("span",{className:"a1"},e.state.companyData.worksNumber),"个"))),s.default.createElement("li",null,s.default.createElement("div",{className:"viewuserinfor-col"},s.default.createElement("h5",null,s.default.createElement("div",null,s.default.createElement("span",null,"总部门数"))),s.default.createElement("div",{className:"viewnums"},s.default.createElement("span",{className:"a2"},this.state.companyData.departmentCount),"个"))),s.default.createElement("li",null,s.default.createElement("div",{className:"viewuserinfor-col"},s.default.createElement("h5",null,s.default.createElement("div",null,s.default.createElement("span",null,"总人数"))),s.default.createElement("div",{className:"viewnums"},s.default.createElement("span",{className:"a3"},this.state.companyData.usernumber),"人"))),s.default.createElement("li",null,s.default.createElement("div",{className:"viewuserinfor-col"},s.default.createElement("h5",null,s.default.createElement("div",null,s.default.createElement("span",null,"空间使用量"))),s.default.createElement("div",{className:"viewnums"},s.default.createElement("span",{className:"a4"},this.state.companyData.capacitied.replace(/mb|m|MB|M|GB/gi,"")),"G"))),s.default.createElement("li",null,s.default.createElement("div",{className:"viewuserinfor-col"},s.default.createElement("h5",null,s.default.createElement("div",null,s.default.createElement("span",null,"总消费"))),s.default.createElement("div",{className:"viewnums"},s.default.createElement("span",{className:"a5"},this.state.companyData.companytotalprice),"元")))),s.default.createElement("div",{className:"clear"})));return s.default.createElement(p.default,{component:t})}},{key:"inputAddress",value:function(e){this.state.companyData.companyaddress=e.target.value,this.forceUpdate()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,i=(e.loginOut,e.getUserDetail);t(this);var r=a(function(){},this),n=(r.username,r.userid),o=r.getusersigid;this.getUserDetail=i,this.userid=n,this.getusersigid=o}},{key:"updatecompanyadmin",value:function(){var e=this;e.setState({modifyAdmin:!0}),e.getcompanyuserlist()}},{key:"componentDidMount",value:function(){}}]),t}(l.Component));exports.default=(0,f.ZmitiValidateUser)(h),e.exports=exports.default}).call(this)}finally{}},1080:function(e,exports,t){var a=t(1081);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1081:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,".zmiti-companyuserinfo-action span{padding:0 15px 0 0}.viewuserinfor-main{padding:50px;min-width:1130px;overflow:auto;background-color:#f1f1f1}.viewuserinfor-main .hr20{height:20px}.viewuserinfor-main .hr50{height:50px}.viewuserinfor-main .companyupdatestyle{position:relative}.viewuserinfor-main .companyupdatestyle-inner{position:absolute;left:105px;width:1px;opacity:0}.viewuserinfor-main .companyupdatestyle-inner.active{width:150px;opacity:1}.viewuserinfor-main .companyupdatestyle-inner.withAdress{width:400px;opacity:1;left:90px}.rowlinght{height:25px;line-height:25px;margin:10px 0}.rowlinght .error-table{border-color:red!important;color:red!important}.viewuserinfor-nums{color:#6e7a90;width:100%}.viewuserinfor-nums ul{width:100%;-webkit-column-count:5;column-count:5;-webkit-column-gap:30px;column-gap:30px}.viewuserinfor-nums .viewuserinfor-col{padding:20px;box-sizing:border-box;background-color:#fff;-webkit-border-radius:5px;-moz-webkit-border-radius:5px;border-radius:5px}.viewuserinfor-nums h5{font-size:18px;text-align:center;border-bottom:1px solid #e4e6ea;padding:0 0 15px;position:relative;margin-bottom:20px}.viewuserinfor-nums h5 div{position:absolute;left:0;top:0;width:100%;height:30px;line-height:30px;overflow:hidden;text-align:center}.viewuserinfor-nums h5 span{background-color:#fff;padding:0 8px}.viewuserinfor-nums .viewnums{font-size:14px;text-align:center}.viewuserinfor-nums .viewnums span{font-size:36px;margin-right:5px;font-family:Hiragino Sans GB,Arial}.viewuserinfor-nums .viewnums span.a1{color:#b888e8}.viewuserinfor-nums .viewnums span.a2{color:#5dc7a9}.viewuserinfor-nums .viewnums span.a3{color:#f57665}.viewuserinfor-nums .viewnums span.a4{color:#5bb4d8}.viewuserinfor-nums .viewnums span.a5{color:#d9990e}.userFace{width:130px;height:120px;position:relative;float:left;margin-right:20px}.userFace img{width:120px;height:120px;-webkit-border-radius:50%;-moz-webkit-border-radius:50%;border-radius:50%}.userFace .editUserIco{position:absolute;bottom:0;right:0;font-size:18px}.companyName{font-size:36px;line-height:1.6;color:#333}.information li{margin:12px 0 0;font-size:18px}.information label{color:#6e7a90;font-size:18px}.size18{font-size:18px}.size18 span{font-size:12px}.viewuserinfor-all{margin:0 5% 0 0;border-right:1px solid #fff}.viewuserinfor-dates{display:inline-block;margin-right:20px}.c1{color:#1eb6f8}.btn-c1{color:#01b282;margin-right:10px}.btn-c2{color:#c60}.viewuserinfor-place{position:relative;padding:0 0 0 40px;height:32px}.placeIco{position:absolute;left:0;top:0;color:#fff;width:32px;height:32px;line-height:32px;font-size:18px;text-align:center;-webkit-border-radius:50%;-moz-webkit-border-radius:50%;border-radius:50%}.placeNum{position:relative;padding:0 80px 0 0}.placeNum .placeTip{color:#6e7a90;font-size:14px;line-height:1}.placeNum .placeTip a{color:#999;font-size:12px}.placeNum span{position:absolute;right:0;bottom:0;display:inline-block;width:70px;font-size:12px;color:#94a1bb}.placeNum .ant-progress-inner{background-color:#fff}.icoA .ant-progress-bg,.icoA .placeIco{background-color:#5bb4d8}.icoB .ant-progress-bg,.icoB .placeIco{background-color:#f57665}.viewuserinfor-weixin ul li{margin:10px 0 0}.viewuserinfor-weixin ul li input.ipt-w1{border-color:#d9d9d9;height:32px}.viewuserinfo-works{background-color:#fff;padding:15px 15px 20px 20px;-webkit-border-radius:5px;-moz-webkit-border-radius:5px;border-radius:5px}.viewuserinfo-works ul{-webkit-column-count:4;column-count:4;-webkit-column-gap:30px;column-gap:30px}.viewuserinfo-works ul li{padding:15px 0 15px 20px;line-height:20px;font-size:16px}.viewuserinfo-works ul li a{color:#000}.viewuserinfo-works ul li .fontC3,.viewuserinfo-works ul li .fontC3 a{color:#37bd9c}.viewuserinfo-works ul li .tit-c1{color:#b8b8b8}.viewuserinfo-works ul li .tit-c2{visibility:hidden;margin-left:5px;color:#37bd9c;font-size:12px}.viewuserinfo-works ul li .tit-c2 a{color:#37bd9c}.viewuserinfo-works ul li .rad{width:10px;height:10px;display:inline-block;margin-right:5px;border-width:1px;border-style:solid;border-radius:50%}.viewuserinfo-works ul li:hover{background-color:#f1f4f7}.viewuserinfo-works ul li:hover .tit-c1{color:#e9573e}.viewuserinfo-works ul li:hover .tit-c2{visibility:visible}.viewuserinfo-works ul li.stateA .tit-c1{color:#000}.viewuserinfo-works ul li.stateA .tit-c2{font-size:12px;font-style:normal}.viewuserinfo-works ul li.stateA:hover .tit-c2{color:#557cad;font-style:italic}.viewuserinfo-works ul li.stateA:hover .tit-c2 a{color:#557cad}.viewuserinfo-works ul li:first-child .rad{border-color:#e9573e}.viewuserinfo-works ul li:nth-child(2) .rad{border-color:#24b498}.viewuserinfo-works ul li:nth-child(3) .rad{border-color:#00a1cb}.viewuserinfo-works ul li:nth-child(4) .rad{border-color:#5bd5d6}.viewuserinfo-works ul li:nth-child(5) .rad{border-color:#89dd5b}.viewuserinfo-works ul li:nth-child(6) .rad{border-color:#9a6bbf}.viewuserinfo-works ul li:nth-child(7) .rad{border-color:#f2c26d}.viewuserinfo-works ul li:nth-child(8) .rad{border-color:#333d79}.viewuserinfo-works ul li:nth-child(9) .rad{border-color:#ee709f}.viewuserinfo-works ul li:nth-child(10) .rad{border-color:#7a70ca}.viewuserinfo-works ul li:nth-child(11) .rad{border-color:#e48b72}.viewuserinfo-works ul li:nth-child(12) .rad{border-color:#64b0cb}.tit-a1{font-size:20px;color:#99071f}",""]);
},1082:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},s=t(1),u=a(s);t(1083);var c=t(1020),d=a(c),p=t(236),f=(t(170),t(235)),m=a(f),h=t(1003),g=t(1002),y=a(g),v=p.Select.Option,b=p.Form.Item,E=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,e),this.state={mainHeight:document.documentElement.clientHeight-50,loading:!1,tip:"数据拉取中...",visible:!1,currentActionId:"",pageSize:10,pageNum:1,pageCount:40,dataSource:[],currentParentActionName:""},this.currentId=-1}return r(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.validateUser,i=t.loginOut,r=t.resizeMainHeight;a(function(){i()},this),r(this);var o=[{title:"权限编号",dataIndex:"actionnumber",key:"actionnumber",width:100},{title:"权限名称",dataIndex:"actionname",key:"actionname",width:300},{title:"权限地址",dataIndex:"actionurl",key:"actionurl",width:300},{title:"操作",key:"action",width:150,render:function(t,a){return u.default.createElement("span",null,u.default.createElement("a",{href:"javascript:void(0)",onClick:e.editAction.bind(e,a)},"编辑"),u.default.createElement("span",{className:"ant-divider"}),u.default.createElement(p.Popconfirm,{placement:"top",title:"确定要删除该门店吗？",onConfirm:e.deleteAction.bind(e,a),okText:"确定",cancelText:"取消"},u.default.createElement("a",{href:"javascript:void(0)"},"删除")))}}],l={labelCol:{span:6},wrapperCol:{span:14}},s=this.props.params.title||"权限管理",c={userList:this.state.userList,userid:this.userid,changeAccount:this.changeAccount.bind(this),type:"custom-1",tags:["权限管理","角色管理"],mainHeight:this.state.mainHeight,title:s,selectedIndex:0,rightType:"custom",customRightComponent:u.default.createElement("div",{className:"jinrongxb-main-ui",style:{height:this.state.mainHeight}},u.default.createElement("div",{className:"pad-10"},u.default.createElement("div",{className:"zmiti-jinrongxb-header"},u.default.createElement(p.Row,null,u.default.createElement(p.Col,{span:8,className:"zmiti-jinrongxb-header-inner"},"权限管理"),u.default.createElement(p.Col,{span:2,offset:14,className:"zmiti-jinrongxb-button-right"},u.default.createElement(p.Button,{type:"primary",onClick:this.showRoleModal.bind(this,"")},"添加")))),u.default.createElement("div",{className:"zmiti-jinrongxb-line"}),u.default.createElement(p.Row,{gutter:10,type:"flex",className:"jinrongxb-search "},u.default.createElement(p.Col,{className:"jinrongxb-heigth45"},"名称："),u.default.createElement(p.Col,{className:"jinrongxb-heigth45"},u.default.createElement(p.Input,{value:this.state.keyword,placeholder:"名称"}))),u.default.createElement(p.Table,{columns:o,pagination:{pageSize:30},dataSource:this.state.dataSource})),u.default.createElement(p.Modal,{title:"添加权限",width:800,okText:this.state.currentActionId?"更新":"添加",visible:this.state.visible,onOk:this.addAction.bind(this),onCancel:function(){e.setState({visible:!1})}},u.default.createElement(p.Form,null,u.default.createElement(b,n({},l,{label:"权限编号",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"权限编号",value:this.state.actionnumber,onChange:function(t){e.state.actionnumber=t.target.value,e.forceUpdate()}})),u.default.createElement(b,n({},l,{label:"权限中文名称",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"权限中文名称",value:this.state.actionname,onChange:function(t){e.state.actionname=t.target.value,e.forceUpdate()}})),u.default.createElement(b,n({},l,{label:"权限英文名称",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"权限英文名称",value:this.state.englishname,onChange:function(t){e.state.englishname=t.target.value,e.forceUpdate()}})),u.default.createElement(b,n({},l,{label:"父级权限",hasFeedback:!0}),u.default.createElement(p.Select,{value:this.state.currentParentActionName,onChange:function(t){e.setState({parentactionid:t})}},u.default.createElement(v,{value:""},"无"),this.state.dataSource.filter(function(e,t){return""===e.parentactionid}).map(function(e,t){return u.default.createElement(v,{key:t,value:e.actionid},e.actionname)}))),u.default.createElement(b,n({},l,{label:"权限url地址",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"权限url地址",value:this.state.actionurl,onChange:function(t){e.setState({actionurl:t.target.value})}})),u.default.createElement(b,n({},l,{label:"所属作品/订制",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"所属作品/订制",value:this.state.worksid,onChange:function(t){e.state.worksid=t.target.value,e.forceUpdate()}})),u.default.createElement(b,n({},l,{label:"权限等级",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"权限等级",value:this.state.urllevel,onChange:function(t){e.state.urllevel=t.target.value,e.forceUpdate()}})),u.default.createElement(b,n({},l,{label:"排序",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"排序",value:this.state.sort,onChange:function(t){e.state.sort=t.target.value,e.forceUpdate()}})),u.default.createElement(b,n({},l,{label:"是否一级权限",hasFeedback:!0}),u.default.createElement(p.Switch,{onChange:function(){e.setState({isparent:!e.state.isparent})},checkedChildren:"是",unCheckedChildren:"否",checked:!!this.state.isparent})),u.default.createElement(b,n({},l,{label:"关键词",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"关键词",value:this.state.keyword,onChange:function(t){e.state.keyword=t.target.value,e.forceUpdate()}})),u.default.createElement(b,n({},l,{label:"备注",hasFeedback:!0}),u.default.createElement(p.Input,{type:"textarea",placeholder:"备注",value:this.state.comment,onChange:function(t){e.state.comment=t.target.value,e.forceUpdate()}})))))},f=u.default.createElement("div",null,u.default.createElement(d.default,c));return u.default.createElement(m.default,{component:f})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.popNotice,i=e.validateUser,r=e.loginOut,n=e.validateUserRole,o=e.isSuperAdmin,l=e.isNormalAdmin,s=e.getUserDetail,u=e.listen,c=e.send,d=i(function(){r("登录失效，请重新登录",window.loginUrl,!1)},this);d.userid,d.getusersigid,d.companyid,d.username,d.isover,d.usertypesign;this.loginOut=r,this.listen=u,this.send=c,this.popNotice=a,this.isSuperAdmin=o,this.isNormalAdmin=l,this.validateUserRole=n,this.getUserDetail=s,this.resizeMainHeight=t}},{key:"componentDidMount",value:function(){this.resizeMainHeight(this),this.loadAuthList()}},{key:"showRoleModal",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];this.setState({visible:!0,currentActionId:e,actionname:"",actionurl:""}),this.initState()}},{key:"initState",value:function(){this.setState({actionname:"",actionurl:"",actionnumber:"",comment:"",isparent:!1,sort:"",keyword:"",urllevel:"",worksid:"",englishname:""})}},{key:"deleteAction",value:function(e){var t=this;y.default.ajax({type:"post",url:window.baseUrl+"admin/deluserauthurl",data:{userid:this.userid,getusersigid:this.getusersigid,actionid:e.actionid}}).done(function(a){0===a.getret?(p.message.success(a.getmsg),t.state.dataSource.forEach(function(a,i){a.actionid===e.actionid&&(t.state.dataSource.splice(i,1),t.forceUpdate())})):console.log(a)})}},{key:"editAction",value:function(e){this.showRoleModal(e.actionid);var t=this.getParentNameById(e);this.setState(t)}},{key:"getParentNameById",value:function(e){var t=e;return this.state.dataSource.map(function(a){a.actionid===e.parentactionid&&(t.currentParentActionName=a.actionname)}),t}},{key:"addAction",value:function(){var e=this,t={userid:this.userid,getusersigid:this.getusersigid,actionname:this.state.actionname,englishname:this.state.englishname,parentactionid:this.state.parentactionid,actionurl:this.state.actionurl,worksid:this.state.worksid,actionnumber:this.state.actionnumber,urllevel:this.state.urllevel,sort:this.state.sort,isparent:0|this.state.isparent,keyword:this.state.keyword,comment:this.state.comment};this.state.currentActionId?(t.actionid=this.state.currentActionId,y.default.ajax({type:"post",url:window.baseUrl+"admin/edituserauthurl/",data:t}).done(function(t){p.message[0===t.getret?"success":"error"](t.getmsg),0===t.getret&&e.setState({visible:!1})})):y.default.ajax({type:"post",url:window.baseUrl+"admin/adduserauthurl/",data:t}).done(function(t){p.message.info(t.getmsg),console.log(t),0===t.getret&&(e.setState({}),e.initState(),e.loadAuthList())})}},{key:"loadAuth",value:function(e){var t=this;this.setState({pageNum:e},function(){t.loadAuthList()})}},{key:"loadAuthList",value:function(){var e=this,t=this;y.default.ajax({url:window.baseUrl+"admin/getalluserauthurllist",data:{userid:t.userid,getusersigid:t.getusersigid},type:"post"}).done(function(t){console.log(t),0===t.getret&&(t.list.forEach(function(e,t){e.key=t}),e.setState({dataSource:t.list}))})}},{key:"changeAccount",value:function(e){1*e===0?window.location.hash="/sysauth/":1*e===1?window.location.hash="/sysrole/":1*e===2?window.location.hash="jinrongxiaobaonotice/":1*e===3&&(window.location.hash="jinrongxiaobaosetup/")}}]),t}(s.Component);exports.default=(0,h.ZmitiValidateUser)(E),e.exports=exports.default}).call(this)}finally{}},1083:function(e,exports,t){var a=t(1084);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1084:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,".system-operator{margin:0 20px}",""])},1085:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),s=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},u=t(1),c=a(u);t(1083);var d=t(1020),p=a(d),f=t(236),m=(t(170),t(235)),h=a(m),g=t(1003),y=t(1002),v=a(y),b=f.Select.Option,E=f.Form.Item,w=function(e){function t(e){r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,e),this.state={mainHeight:document.documentElement.clientHeight-50,loading:!1,tip:"数据拉取中...",visible:!0,currentRoleId:"",pageSize:10,pageNum:1,pageCount:40,authList:[],dataSource:[]},this.currentId=-1}return n(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.validateUser,r=t.loginOut,n=t.resizeMainHeight;a(function(){r()},this),n(this);var l=[{title:"角色名称",dataIndex:"rolename",key:"rolename",width:100},{title:"是否系统默认角色",key:"isdefault",width:300,render:function(e,t){return c.default.createElement("span",null,t.isdefault?"是":"否")}},{title:"备注",dataIndex:"comment",key:"comment",width:300},{title:"操作",key:"action",width:150,render:function(t,a){return c.default.createElement("span",null,c.default.createElement("a",{href:"javascript:void(0)",onClick:e.editAction.bind(e,a)},"编辑"),c.default.createElement("span",{className:"ant-divider"}),c.default.createElement(f.Popconfirm,{placement:"top",title:"确定要删除该门店吗？",onConfirm:e.deleteRole.bind(e,a),okText:"确定",cancelText:"取消"},c.default.createElement("a",{href:"javascript:void(0)"},"删除")))}}],s={labelCol:{span:6},wrapperCol:{span:14}},u=[];this.state.authList.map(function(e,t){u.push(c.default.createElement(b,{key:t,value:e.actionid},e.actionname))});var d=[];this.state.authList.map(function(t,a){return d.push(i({},t.actionid,c.default.createElement("h2",{"data-id":t.actionid,key:t.actionid},c.default.createElement(f.Checkbox,{onChange:e.toggleAuthAllItem.bind(e,t)}," ",t.actionname)))),e.state.defaultAuthList.map(function(a,r){a.parentactionid===t.actionid&&d.push(i({},t.actionid,c.default.createElement("div",{key:a.actionid+r},c.default.createElement(f.Checkbox,{onChange:e.toggleAuthItem.bind(e,r),checked:a.checked}," ",a.actionname))))})});var m=[];this.state.authList.map(function(e,t){var a=[];d.map(function(t,i){t[e.actionid]&&a.push(t[e.actionid])}),m.push(a)}),this.authItemsArr=m;var g=this.props.params.title||"角色管理",y={userList:this.state.userList,userid:this.userid,changeAccount:this.changeAccount.bind(this),type:"custom-1",tags:["权限管理",g],mainHeight:this.state.mainHeight,title:g,selectedIndex:1,rightType:"custom",customRightComponent:c.default.createElement("div",{className:"jinrongxb-main-ui",style:{height:this.state.mainHeight}},c.default.createElement("div",{className:"pad-10"},c.default.createElement("div",{className:"zmiti-jinrongxb-header"},c.default.createElement(f.Row,null,c.default.createElement(f.Col,{span:8,className:"zmiti-jinrongxb-header-inner"},g),c.default.createElement(f.Col,{span:2,offset:14,className:"zmiti-jinrongxb-button-right"},c.default.createElement(f.Button,{type:"primary",onClick:this.showRoleModal.bind(this,"")},"添加")))),c.default.createElement("div",{className:"zmiti-jinrongxb-line"}),c.default.createElement(f.Row,{gutter:10,type:"flex",className:"jinrongxb-search "},c.default.createElement(f.Col,{className:"jinrongxb-heigth45"},"名称："),c.default.createElement(f.Col,{className:"jinrongxb-heigth45"},c.default.createElement(f.Input,{value:this.state.keyword,placeholder:"名称"}))),c.default.createElement(f.Table,{columns:l,pagination:{total:this.state.pageCount},dataSource:this.state.dataSource})),c.default.createElement(f.Modal,{title:"添加角色",width:800,okText:this.state.currentRoleId?"更新":"添加",visible:this.state.visible,onOk:this.addRole.bind(this),onCancel:function(){e.setState({visible:!1})}},c.default.createElement(f.Form,null,c.default.createElement(E,o({},s,{label:"角色名称",hasFeedback:!0}),c.default.createElement(f.Input,{placeholder:"角色名称",value:this.state.rolename,onChange:function(t){e.state.rolename=t.target.value,e.forceUpdate()}})),c.default.createElement(E,o({},s,{label:"权限",hasFeedback:!0}),m.map(function(e,t){return c.default.createElement("div",{className:"zmiti-auth-cate-C",key:t},e)})),c.default.createElement(E,o({},s,{label:"排序",hasFeedback:!0}),c.default.createElement(f.Input,{placeholder:"排序",value:this.state.sort,onChange:function(t){e.state.sort=t.target.value,e.forceUpdate()}})),c.default.createElement(E,o({},s,{label:"是否系统默认角色",hasFeedback:!0}),c.default.createElement(f.Switch,{onChange:function(){e.setState({isdefault:!e.state.isdefault})},checkedChildren:"是",unCheckedChildren:"否",checked:this.state.isdefault})),c.default.createElement(E,o({},s,{label:"备注",hasFeedback:!0}),c.default.createElement(f.Input,{type:"textarea",placeholder:"备注",value:this.state.comment,onChange:function(t){e.state.comment=t.target.value,e.forceUpdate()}})))))},v=c.default.createElement("div",null,c.default.createElement(p.default,y));return c.default.createElement(h.default,{component:v})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.popNotice,i=e.validateUser,r=e.loginOut,n=e.validateUserRole,o=e.isSuperAdmin,l=e.isNormalAdmin,s=e.getUserDetail,u=e.listen,c=e.send,d=i(function(){r("登录失效，请重新登录",window.loginUrl,!1)},this);d.userid,d.getusersigid,d.companyid,d.username,d.isover,d.usertypesign;this.loginOut=r,this.listen=u,this.send=c,this.popNotice=a,this.isSuperAdmin=o,this.isNormalAdmin=l,this.validateUserRole=n,this.getUserDetail=s,this.resizeMainHeight=t}},{key:"componentDidMount",value:function(){this.resizeMainHeight(this),this.loadRoleList(),this.loadAuthList()}},{key:"showRoleModal",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];this.setState({visible:!0,currentRoleId:e}),this.initState()}},{key:"initState",value:function(){this.setState({actionname:"",actionurl:"",actionnumber:"",comment:"",isparent:!1,sort:"",keyword:"",urllevel:"",worksid:"",englishname:""})}},{key:"toggleAuthAllItem",value:function(e,t){this.state.defaultAuthList.map(function(a,i){a.parentactionid===e.actionid&&(a.checked=t.target.checked)}),this.forceUpdate()}},{key:"toggleAuthItem",value:function(e,t){this.state.defaultAuthList[e].checked=t.target.checked,this.forceUpdate()}},{key:"deleteRole",value:function(e){var t=this;v.default.ajax({type:"post",url:window.baseUrl+"admin/delrole",data:{userid:this.userid,getusersigid:this.getusersigid,roleids:e.roleid}}).done(function(a){0===a.getret?(f.message.success(a.getmsg),t.state.dataSource.forEach(function(a,i){a.roleid===e.roleid&&(t.state.dataSource.splice(i,1),t.forceUpdate())})):console.log(a)})}},{key:"editAction",value:function(e){this.showRoleModal(e.roleid),console.log(e),e.isdefault=!!e.isdefault,this.setState(e)}},{key:"addRole",value:function(){var e=this,t=[];this.state.defaultAuthList.map(function(e,a){""!==e.parentactionid&&e.checked&&t.push(e.actionid)});var a={userid:this.userid,getusersigid:this.getusersigid,rolename:this.state.rolename,actionids:t.join(","),sort:this.state.sort,isdefault:0|this.state.isdefault,comment:this.state.comment};console.log(a),this.state.currentRoleId?(a.actionid=this.state.currentRoleId,v.default.ajax({type:"post",url:window.baseUrl+"admin/editrole/",data:a}).done(function(t){f.message[0===t.getret?"success":"error"](t.getmsg),0===t.getret&&e.setState({visible:!1})})):v.default.ajax({type:"post",url:window.baseUrl+"admin/addrole/",data:a}).done(function(t){f.message.info(t.getmsg),console.log(t),0===t.getret&&(e.setState({}),e.initState(),e.loadRoleList())})}},{key:"loadAuth",value:function(e){var t=this;this.setState({pageNum:e},function(){t.loadRoleList()})}},{key:"loadAuthList",value:function(){var e=this,t=this;v.default.ajax({url:window.baseUrl+"admin/getalluserauthurllist",data:{userid:t.userid,getusersigid:t.getusersigid},type:"post"}).done(function(t){0===t.getret&&(t.list.forEach(function(e,t){e.key=t}),e.setState({defaultAuthList:t.list.concat([]),authList:t.list.filter(function(e){return""===e.parentactionid})}))})}},{key:"loadRoleList",value:function(){var e=this,t=this;v.default.ajax({url:window.baseUrl+"admin/getrolelist",data:{userid:t.userid,getusersigid:t.getusersigid,page:this.state.pageNum,pagenum:this.state.pageSize},type:"post"}).done(function(t){console.log(t),0===t.getret&&(t.list.forEach(function(e,t){e.key=t}),t.list.filter(function(e,t){return""===e.parentactionid}).forEach(function(e,a){t.list.forEach(function(t,a){t.parentactionid===e.actionid&&(t.pareantaction=c.default.createElement("div",{style:{color:"green",fontWeight:"bold"}},e.actionname))})}),e.setState({dataSource:t.list}))})}},{key:"changeAccount",value:function(e){1*e===0?window.location.hash="/sysauth/":1*e===1?window.location.hash="/sysrole/":1*e===2?window.location.hash="jinrongxiaobaonotice/":1*e===3&&(window.location.hash="jinrongxiaobaosetup/")}}]),t}(u.Component);exports.default=(0,g.ZmitiValidateUser)(w),e.exports=exports.default}).call(this)}finally{}},1086:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function(e,t,a){for(var i=!0;i;){var r=e,n=t,o=a;i=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=n,a=o,i=!0,l=u=void 0}},s=t(1),u=a(s);t(1087);var c=t(1020),d=(a(c),t(236)),p=t(235),f=a(p),m=t(1003),h=t(1002),g=(a(h),d.Select.Option,d.Tree.TreeNode),y=function(e){function t(e){var a=this;r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,selectedIndex:3,mainHeight:document.documentElement.clientHeight-50,dataSource:[{key:"1",name:"文件名称",filelong:"1000kb",filetype:"0",creatime:"2017-10-01"},{key:"2",name:"文件名称2",filelong:"1024kb",filetype:"0",creatime:"2017-10-02"}],treeListData:[{title:"我的空间",key:"AA",children:[{title:"公司培训",key:"AA-1",children:[{title:"设计",key:"AA-1-1"},{title:"制作",key:"AA-1-2"}]},{title:"公司文件",key:"AA-2"}]}]},this.onLoadData=function(e){return new Promise(function(t){return e.props.children?void t():void setTimeout(function(){a.setState({treeListData:[].concat(i(a.state.treeListData))}),t()},1e3)})},this.renderTreeNodes=function(e){return e.map(function(e){return e.children?u.default.createElement(g,{title:e.title,key:e.key,dataRef:e},a.renderTreeNodes(e.children)):u.default.createElement(g,e)})}}return n(t,e),o(t,[{key:"onSelect",value:function(e,t){console.log("selected",e[0])}},{key:"render",value:function(){var e=this.props,t=(e.validateUser,e.loginOut,e.resizeMainHeight,[{title:"名称",dataIndex:"name",key:"name"},{title:"大小",dataIndex:"filelong",key:"filelong"},{title:"类型",dataIndex:"filetype",key:"filetype"},{title:"修改日期",dataIndex:"creatime",key:"creatime"}]),a=u.default.createElement("div",{className:"zmiti-folder-main-ui",style:{height:this.state.mainHeight}},u.default.createElement("div",{className:"pad-10-a"},u.default.createElement(d.Row,{className:"zmiti-folder-header"},u.default.createElement(d.Col,{span:8,className:"zmiti-folder-header-inner"},"素材管理"),u.default.createElement(d.Col,{span:8,offset:8,className:"zmiti-folder-button-right"})),u.default.createElement("div",{className:"zmiti-folder-line"})),u.default.createElement("div",{className:"pad-10-b zmiti-folder-container"},u.default.createElement("div",{className:"zmiti-folder-mainpane"},u.default.createElement("div",{className:"zmiti-folder-leftpane"},u.default.createElement("div",{className:"zmiti-folder-treelist"},u.default.createElement(d.Tree,{loadData:this.onLoadData,defaultExpandAll:!0,showIcon:!0,prefixCls:"ant-tree",onSelect:this.onSelect.bind(this)},this.renderTreeNodes(this.state.treeListData)))),u.default.createElement("div",{className:"zmiti-folder-rightpane"},u.default.createElement("div",{className:"zmiti-folder-rightpane-inner"},u.default.createElement(d.Table,{dataSource:this.state.dataSource,columns:t}))))));return u.default.createElement(f.default,{component:a})}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),a=e.loginOut;e.resizeLeftMenu;t(function(){a(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){}}]),t}(s.Component);exports.default=(0,m.ZmitiValidateUser)(y),e.exports=exports.default}).call(this)}finally{}},1087:function(e,exports,t){var a=t(1088);"string"==typeof a&&(a=[[e.id,a,""]]);t(1e3)(a,{});a.locals&&(e.exports=a.locals)},1088:function(e,exports,t){exports=e.exports=t(999)(),exports.push([e.id,'body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}.zmiti-folder-main-ui{overflow:auto;display:flex;flex-direction:column}.zmiti-folder-main-ui .pad-10-a{padding:10px 10px 0}.zmiti-folder-main-ui .pad-10-b{padding:0 10px}.zmiti-folder-main-ui .zmiti-folder-header-inner{padding-left:8px;margin-top:10px;position:relative}.zmiti-folder-main-ui .zmiti-folder-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.zmiti-folder-main-ui .zmiti-folder-button-right button{float:right;margin-top:5px;margin-left:10px}.zmiti-folder-main-ui .zmiti-folder-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.zmiti-folder-main-ui .folder-heigth45{height:45px;line-height:45px;overflow:hidden}.zmiti-folder-main-ui .folder-heigth20{height:20px;line-height:20px;overflow:hidden}.zmiti-folder-main-ui .folder-search{margin:15px 0}.zmiti-folder-main-ui .zmiti-folder-container{box-sizing:border-box;-webkit-box-sizing:border-box;-ms-box-sizing:border-box;position:relative;flex:1}.zmiti-folder-main-ui .zmiti-folder-treelist .ant-tree li span.ant-tree-iconEle{background-repeat:no-repeat;background-size:cover}.zmiti-folder-main-ui .zmiti-folder-treelist .ant-tree li span.ant-tree-iconEle.ant-tree-icon__close:before{font-family:anticon!important;content:"\\E662";-webkit-transform:rotate(0deg) scale(1);transform:rotate(0deg) scale(1)}.zmiti-folder-main-ui .zmiti-folder-treelist .ant-tree li span.ant-tree-iconEle.ant-tree-icon__open:before{font-family:anticon!important;content:"\\E699";-webkit-transform:rotate(0deg) scale(1);transform:rotate(0deg) scale(1)}.zmiti-folder-main-ui .zmiti-folder-mainpane{display:flex;display:-webkit-flex;height:100%}.zmiti-folder-main-ui .zmiti-folder-mainpane .zmiti-folder-leftpane{border-right:1px solid #ddd;width:200px;height:100%;flex:0 0 200px;-ms-flex:0 0 200px;-webkit-flex:0 0 200px;order:-1}.zmiti-folder-main-ui .zmiti-folder-mainpane .zmiti-folder-rightpane{flex:1;-webkit-box-flex:1;-moz-box-flex:1;-ms-flex:1}.zmiti-folder-main-ui .zmiti-folder-mainpane .zmiti-folder-rightpane .zmiti-folder-rightpane-inner{padding:5px;box-sizing:border-box;-webkit-box-sizing:border-box;-ms-box-sizing:border-box}',""])}});