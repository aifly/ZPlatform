webpackJsonp([0],{0:function(e,exports,t){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),n=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},o=t(1),s=e(o),l=t(28),u=e(l),c=t(166),d=t(229),p=e(d),f=t(230),m=e(f),g=t(885),h=e(g),y=t(894),v=e(y),E=t(897),A=e(E),b=t(900),w=e(b),k=t(906),x=e(k),I=t(909),Q=e(I),B=t(912),C=e(B),N=t(915),M=e(N),j=t(919),O=e(j),D=t(922),S=e(D),T=t(925),U=e(T),z=t(929),P=e(z),Y=t(933),L=e(Y),R=t(937),G=e(R),H=function(e){function t(e){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,e)}return r(t,e),i(t,[{key:"render",value:function(){var e=[{path:"/",app:m.default},{path:"/user/:title",app:h.default},{path:"/company/:title",app:v.default},{path:"/system/:title",app:A.default},{path:"/product/",app:w.default},{path:"/workorder/:title",app:x.default},{path:"/editorder/(:id)",app:Q.default},{path:"/vieworder/(:id)",app:C.default},{path:"/listorder/:title",app:M.default},{path:"/datum/(:id)",app:O.default},{path:"/editorinfo/(:id)",app:S.default},{path:"/repertorypub/(:id)",app:U.default},{path:"/repertorycom/",app:P.default},{path:"/repertoryper/",app:L.default},{path:"/categoryrepertory/(:id)",app:G.default}];return s.default.createElement(c.Router,{history:c.hashHistory},e.map(function(e,t){return s.default.createElement(c.Route,{key:t,path:e.path,component:e.app})}))}},{key:"componentWillMount",value:function(){window.obserable=new p.default,window.mainLeftSize=180,window.getCookie=function(e){for(var t=e+"=",a=document.cookie.split(";"),r=0;r<a.length;r++){for(var i=a[r];" "==i.charAt(0);)i=i.substring(1);if(i.indexOf(t)!=-1)return i.substring(t.length,i.length)}return""}}},{key:"componentDidMount",value:function(){window.addEventListener("resize",function(){window.obserable.trigger({type:"setAdminMenu"}),window.obserable.trigger({type:"setAdminHeight"})})}}]),t}(s.default.Component);u.default.render(s.default.createElement(H,{isAdmin:!0}),document.getElementById("fly-main"))}).call(this)}finally{}},230:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},l=t(1),u=a(l),c=t(231),d=a(c),p=t(873),f=a(p),m=function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={mainHeight:document.documentElement.clientHeight-50}}return i(t,e),n(t,[{key:"render",value:function(){var e={onChange:function(e){s.setState({html:e.el.innerHTML})},height:this.state.mainHeight/2,html:this.state.html,$:$,isAdmin:!0},t=u.default.createElement("div",null,u.default.createElement(f.default,e));return u.default.createElement(d.default,{component:t})}}]),t}(l.Component);exports.default=m,e.exports=exports.default}).call(this)}finally{}},231:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},s=t(1),l=a(s),u=t(232);t(866);var c=t(166),d=t(870),p=a(d),f=t(872),m=u.Menu.SubMenu,g=function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={defaultClass:"fly-left-aside",isOpen:!0,current:"3",currentAcc:"iLinten@qq.com",rightWidth:0,userid:"",getusersigid:""}}return i(t,e),n(t,[{key:"menuClickHandler",value:function(e){}},{key:"handleClick",value:function(e){}},{key:"toggleMenu",value:function(){var e=this;"fly-left-aside"===this.state.defaultClass?(window.mainLeftSize=60,this.setState({defaultClass:"fly-left-aside unfold",isOpen:!1,rightWidth:document.documentElement.clientWidth-window.mainLeftSize})):(this.setState({defaultClass:"fly-left-aside"}),window.mainLeftSize=180,setTimeout(function(){e.setState({isOpen:!0,rightWidth:document.documentElement.clientWidth-window.mainLeftSize})},200))}},{key:"render",value:function(){this.userManagerMenuConfig=[{linkTo:"/user/个人账户管理",key:"user",title:"个人账户管理",isIcon:!0,type:"user",isShow:!0},{linkTo:"/company/公司账户管理",key:"company",title:"公司账户管理",isIcon:!0,type:"customerservice",isShow:!0}],this.productServiceMenuConfig=[{linkTo:"/product/",key:"product",title:"新增产品",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/listorder/工单管理",key:"workorder",title:"工单管理",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/datum/",key:"datum",title:"资料管理",isIcon:!0,type:"edit",isShow:!0}],4===this.usertypesign&&this.userManagerMenuConfig.push({linkTo:"/system/系统账户管理",key:"system",title:"系统账户管理",isIcon:!0,type:"edit",isShow:!0});var e=window.location.hash,t="sub5";this.productServiceMenuConfig.forEach(function(a,r){e.indexOf(a.key)>-1&&(t="sub6")});var a={usertypesign:this.usertypesign,currentAcc:this.state.currentAcc,userid:this.userid,type:"admin",getusersigid:this.getusersigid,logo:"../static/images/logo.png"};return l.default.createElement("section",{className:"main"},l.default.createElement(p.default,a),l.default.createElement("article",{className:"fly-content"},l.default.createElement("section",{className:this.state.defaultClass},l.default.createElement("div",{className:"fly-toggle-menu",onClick:this.toggleMenu.bind(this)},l.default.createElement(u.Icon,{type:"menu-fold",style:{display:this.state.isOpen?"inline-block":"none"}}),l.default.createElement(u.Icon,{type:"menu-unfold",style:{display:this.state.isOpen?"none":"inline-block"}})),l.default.createElement("div",{className:"fly-menu-c"},l.default.createElement(u.Menu,{style:{width:182},defaultOpenKeys:[t],selectedKeys:[this.state.current],mode:"inline"},l.default.createElement(m,{key:"sub5",title:l.default.createElement("span",null,l.default.createElement(u.Icon,{type:"setting",style:{marginRight:"22px"}}),l.default.createElement("span",null,"用户管理"))},this.userManagerMenuConfig.map(function(e){return l.default.createElement(u.Menu.Item,{key:e.key},l.default.createElement(u.Icon,{type:e.type,style:{marginRight:"32px"}}),l.default.createElement(c.Link,{to:e.linkTo},e.title))})),l.default.createElement(m,{key:"sub6",title:l.default.createElement("span",null,l.default.createElement(u.Icon,{type:"setting",style:{marginRight:"22px"}}),l.default.createElement("span",null,"操作管理"))},this.productServiceMenuConfig.map(function(e){return l.default.createElement(u.Menu.Item,{key:e.key},l.default.createElement(u.Icon,{type:e.type,style:{marginRight:"32px"}}),l.default.createElement(c.Link,{to:e.linkTo},e.title))}))))),l.default.createElement("section",{className:"fly-right-aside",style:{width:this.state.rightWidth}},this.props.component)))}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,r=e.loginOut,i=e.resizeLeftMenu;t(this,"setAdminHeight"),i(this,"setAdminMenu");var n=a(function(){r(void 0,void 0,!1)}),o=n.userid,s=n.getusersigid,l=n.companyid,u=(n.username,n.isover),c=n.usertypesign;this.userid=o,this.getusersigid=s,this.companyid=l,this.isover=u,this.usertypesign=c,this.loginOut=r,this.usertypesign!==window.Role.NORMALADMINUSER&&this.usertypesign!==window.Role.SUPERADMINUSER&&r("您没有访问的权限",window.mainUrl,!1)}},{key:"componentDidMount",value:function(){var e=window.location.hash,t=this.userManagerMenuConfig.concat(this.productServiceMenuConfig),a="";t.forEach(function(t){e.indexOf("#"+t.linkTo)>-1&&(a=t.key)}),this.setState({current:a,rightWidth:document.documentElement.clientWidth-180,userid:this.userid,isover:this.isover,getusersigid:this.getusersigid})}}]),t}(s.Component);exports.default=(0,f.ZmitiValidateUser)(g),e.exports=exports.default}).call(this)}finally{}},885:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},s=t(1),l=a(s);t(886);var u=t(888),c=a(u),d=t(232),p=t(231),f=a(p),m=t(872),g=d.Select.Option,h=function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,selectedIndex:0,userList:[]},this.transFormal=this.transFormal.bind(this),this.disableUser=this.disableUser.bind(this)}return i(t,e),n(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx"},{title:"用户名",dataIndex:"username",key:"username"},{title:"手机",dataIndex:"mobile",key:"mobile"},{title:"邮箱",dataIndex:"email",key:"email"},{title:"注册日期",dataIndex:"regDate",key:"regDate",sorter:function(e,t){return e.key-t.key}},{title:"剩余天数",dataIndex:"surplusDays",key:"surplusDays",sorter:function(e,t){return e.surplusDays-t.surplusDays}},{title:"空间使用量",dataIndex:"userSpace",key:"userSpace"}],a=t.concat({title:"操作",dataIndex:"",key:"x",width:"30%",render:function(t,a){return l.default.createElement("div",{"data-userid":a.userid},l.default.createElement("a",{href:"javascript:void(0)","data-index":"0",style:{color:2===a.isover?"":"red"},onClick:e.disableUser},2===a.isover?"启用":"禁用"),"    ",l.default.createElement("a",{href:"javascript:void(0)"},"延长试用"),"    ",l.default.createElement("a",{href:"javascript:void(0)"},"提升空间"),"    ",l.default.createElement("a",{href:"javascript:void(0)",onClick:e.transFormal},"转为正式用户"))}}),r=t.concat({title:"操作",width:"30%",dataIndex:"",key:"x",render:function(t,a){return l.default.createElement("div",{"data-userid":a.userid},l.default.createElement("a",{href:"javascript:void(0)","data-index":"0",style:{color:2===a.isover?"":"red"},onClick:e.disableUser},2===a.isover?"启用":"禁用"),"    ",l.default.createElement("a",{href:"javascript:void(0)"},"删除"),"    ",l.default.createElement("a",{href:"javascript:void(0)"},"设置权限"))}}),i=this.props.params.title,n={userList:this.state.userList,columns:[a,r],mainHeight:this.state.mainHeight,title:i,changeAccount:this.changeAccount.bind(this),keyDown:function(t){clearTimeout(e.keyupTimer),void 0===e.defautlUserList&&(e.defautlUserList=e.state.userList.concat([])),e.keyupTimer=setTimeout(function(){var a=e.defautlUserList,r="username";e.state.userList=a.filter(function(a){switch(1*e.condition){case 0:r="username";break;case 1:r="username"}return a[r].indexOf(t)>-1}),e.forceUpdate(function(){})},350)},selectComponent:l.default.createElement(d.Select,{placeholder:"用户名",onChange:function(){},style:{width:120},size:"small"},l.default.createElement(g,{value:"0"},"用户名"))};return l.default.createElement(f.default,{component:l.default.createElement(c.default,n)})}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),a=e.loginOut;e.resizeLeftMenu;t(function(){a(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=(e.validateUser,e.loginOut);e.resizeLeftMenu;t(this,"setAdminHeight");var r={getusersigid:this.getusersigid,userid:this.userid,setusertypesign:1},i=this;$.ajax({type:"POST",url:window.baseUrl+"/user/get_userlist/",data:r,success:function(e){console.log(e),0===e.getret?i.setState({userList:e.userlist}):e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):a(e.getmsg,window.loginUrl,!1)}})}},{key:"disableUser",value:function(e){e.preventDefault();var t=e.target.parentNode.getAttribute("data-userid"),a=-1;if(this.state.userList.forEach(function(e,r){e.userid===t&&(a=e.isover)}),a!==-1){var r={getusersigid:this.getusersigid,userid:this.userid,setuserid:t,setisover:2===a?0:2},i=this.props.baseUrl||"http://api.zmiti.com/v2",n=this;$.ajax({type:"post",url:i+"user/disable_user/",data:r,success:function(e){0===e.getret?(d.message.success("操作成功"),n.state.userList.forEach(function(e){e.userid===t&&(e.isover=2===a?0:2)}),n.forceUpdate()):d.message.error("操作失败")}})}}},{key:"transFormal",value:function(e){var t=e.target.parentNode.getAttribute("data-userid"),a={getusersigid:this.getusersigid,userid:this.userid,setuserid:t,setisover:0},r=window.baseUrl||"http://api.zmiti.com/v2",i=this;$.ajax({type:"post",url:r+"user/disable_user/",data:a,success:function(e){console.log(e),0===e.getret?(d.message.success("操作成功"),i.state.userList.forEach(function(e){e.userid===t&&(e.isover=0)}),i.forceUpdate()):d.message.error("操作失败")}})}},{key:"changeAccount",value:function(e){this.setState({selectedIndex:e})}}]),t}(s.Component);exports.default=(0,m.ZmitiValidateUser)(h),h.defaultProps={baseUrl:window.baseUrl||"http://api.zmiti.com/v2/"},e.exports=exports.default}).call(this)}finally{}},886:function(e,exports,t){var a=t(887);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},887:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,"body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}",""])},894:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},s=t(1),l=a(s);t(895);var u=t(888),c=a(u),d=t(232),p=t(231),f=a(p),m=t(872),g=d.Select.Option,h=function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,userList:[]},this.condition=0,this.changeAccount=this.changeAccount.bind(this)}return i(t,e),n(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx"},{title:"公司名称",dataIndex:"companyName",key:"companyName"},{title:"负责人账号",dataIndex:"username",key:"username"},{title:"用户总数",dataIndex:"totalUserNum",key:"totalUserNum"},{title:"到期时间",dataIndex:"expirDate",key:"expirDate"},{title:"空间使用量",dataIndex:"userSpace",key:"userSpace"},{title:"负责客服",dataIndex:"serviceName",key:"serviceName"}],a=t.concat({title:"操作",dataIndex:"",key:"x",render:function(t,a){return l.default.createElement("div",{"data-userid":a.userid},l.default.createElement("a",{href:"javascrit:void(0)"},"延长时间"),"    ",l.default.createElement("a",{href:"javascrit:void(0)"},"用户"),"    ",l.default.createElement("a",{href:"javascrit:void(0)"},"提升空间"),"    ",l.default.createElement("a",{href:"javascrit:void(0)",onClick:e.regular.bind(e)}," 转正"))}}),r=t.concat({title:"操作",dataIndex:"",key:"x",render:function(e,t){return l.default.createElement("div",{"data-userid":t.userid},l.default.createElement("a",{href:"javascrit:void(0)"},"延长时间"),"    ",l.default.createElement("a",{href:"javascrit:void(0)"},"用户"),"    ",l.default.createElement("a",{href:"javascrit:void(0)"},"提升空间"),"    ",l.default.createElement("a",{href:"javascrit:void(0)"}," 设置权限"))}}),i=this.props.params.title,n={userList:this.state.userList,columns:[a,r],changeAccount:this.changeAccount,tags:["试用公司账户","正式公司账户"],mainHeight:this.state.mainHeight,title:i,keyDown:function(t){clearTimeout(e.keyupTimer),void 0===e.defautlUserList&&(e.defautlUserList=e.state.userList.concat([])),e.keyupTimer=setTimeout(function(){var a=e.defautlUserList,r="companyName";e.state.userList=a.filter(function(a){switch(1*e.condition){case 0:r="companyName";break;case 1:r="username"}return a[r].indexOf(t)>-1}),e.forceUpdate(function(){})},350)},selectComponent:l.default.createElement(d.Select,{placeholder:"公司名称",onChange:function(t){e.condition=t},style:{width:120},size:"small"},l.default.createElement(g,{value:"0"},"公司名称"),l.default.createElement(g,{value:"1"},"负责人账号"))};return l.default.createElement(f.default,{component:l.default.createElement(c.default,n)})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,r=e.loginOut;t(this),a(function(){r(void 0,void 0,!1)},this)}},{key:"regular",value:function(e){var t=e.target.parentNode.getAttribute("data-userid"),a={getusersigid:this.getusersigid,userid:this.userid,setuserid:t,setisover:0},r=window.baseUrl||"http://api.zmiti.com/v2",i=this;$.ajax({type:"post",url:r+"user/disable_user/",data:a,success:function(e){0===e.getret?(d.message.success("操作成功"),i.state.userList.forEach(function(e){e.userid===t&&(e.isover=0)}),i.forceUpdate()):d.message.error("操作失败")}})}},{key:"componentDidMount",value:function(){this.baseUrl=window.baseUrl;var e=this.props,t=e.validateUser,a=e.loginOut,r=t(function(){a(void 0,void 0,!1)},this),i=r.userid,n=r.getusersigid,o=r.companyid,s=(r.username,r.isover),l=r.usertypesign;this.userid=i,this.getusersigid=n,this.companyid=o,this.isover=s,this.usertypesign=l,this.loginOut=a;var u={getusersigid:this.getusersigid,userid:this.userid,setusertypesign:2},c=this;$.ajax({type:"POST",url:window.baseUrl+"/user/get_userlist/",data:u,success:function(e){0===e.getret?c.setState({userList:e.userlist}):e.getret===-3&&(d.message.error("您没有访问的权限,请重新登录"),window.location.href="/")}})}},{key:"changeAccount",value:function(e){}}]),t}(s.Component);exports.default=(0,m.ZmitiValidateUser)(h),e.exports=exports.default}).call(this)}finally{}},895:function(e,exports,t){var a=t(896);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},896:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,"body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}",""])},897:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},s=t(1),l=a(s);t(898);var u=t(888),c=a(u),d=t(232),p=t(231),f=a(p),m=t(872),g=d.Select.Option,h=function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,userList:[{key:1,username:"bmyuan",mobile:"13455422525",email:"1345542525@163.com",sigleUserTotalNum:"13|30",companyUserTotalNum:"13|30"},{key:2,username:"bmyuan",mobile:"13455422525",email:"1345542525@163.com",sigleUserTotalNum:"13|30",companyUserTotalNum:"13|30"},{key:3,username:"bmyuan",mobile:"13455422525",email:"1345542525@163.com",sigleUserTotalNum:"13|30",companyUserTotalNum:"13|30"},{key:4,username:"bmyuan",mobile:"13455422525",email:"1345542525@163.com",sigleUserTotalNum:"13|30",companyUserTotalNum:"13|30"},{key:5,username:"bmyuan",mobile:"13455422525",email:"1345542525@163.com",sigleUserTotalNum:"13|30",companyUserTotalNum:"13|30"},{key:6,username:"bmyuan",mobile:"13455422525",email:"1345542525@163.com",sigleUserTotalNum:"13|30",companyUserTotalNum:"13|30"}]},this.changeAccount=this.changeAccount.bind(this)}return i(t,e),n(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx"},{title:"用户名",dataIndex:"username",key:"username"},{title:"手机",dataIndex:"mobile",key:"mobile"},{title:"邮箱",dataIndex:"email",key:"email"},{title:"个人用户数",dataIndex:"sigleUserTotalNum",key:"sigleUserTotalNum"},{title:"公司用户数",dataIndex:"companyUserTotalNum",key:"companyUserTotalNum"},{title:"操作",dataIndex:"",key:"x",render:function(){return l.default.createElement("div",null,l.default.createElement("a",{href:"#"},"转用户"),"    ",l.default.createElement("a",{href:"#"},"删除"))}}],a=this.props.params.title,r={userList:this.state.userList,columns:[t,t],changeAccount:this.changeAccount,tags:["账户管理","分配用户"],mainHeight:this.state.mainHeight,title:a,keyDown:function(t){clearTimeout(e.keyupTimer),void 0===e.defautlUserList&&(e.defautlUserList=e.state.userList.concat([])),e.keyupTimer=setTimeout(function(){var a=e.defautlUserList,r="username";e.state.userList=a.filter(function(a){switch(1*e.condition){case 0:r="username";break;case 1:r="username"}return a[r].indexOf(t)>-1}),e.forceUpdate(function(){})},350)},selectComponent:l.default.createElement(d.Select,{placeholder:"用户名",onChange:function(t){e.condition=t},style:{width:120},size:"small"},l.default.createElement(g,{value:"0"},"用户名"))};return l.default.createElement(f.default,{component:l.default.createElement(c.default,r)})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,r=e.loginOut;t(this),a(function(){r(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){}},{key:"changeAccount",value:function(e){}}]),t}(s.Component);exports.default=(0,m.ZmitiValidateUser)(h),e.exports=exports.default}).call(this)}finally{}},898:function(e,exports,t){var a=t(899);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},899:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,"body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}",""])},900:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}};t(901);var l=t(1),u=a(l),c=t(872),d=t(232);t(863);var p=t(903),f=a(p),m=t(231),g=a(m);d.moment.locale("zh-cn");var h=d.Form.Item,y=d.Radio.Group,v=function(e){function t(e){r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,e),this.state={visible:!1,productlist:[],loading:!1,tip:"数据拉取中...",productName:"",productShortName:"",productPrice:"0",productLink:"",productType:0,productRemark:"",defaultZmitiIcon:"../public/images/lt-company-ico.png",defaultAntdIcon:"picture",expireDate:"2099-12-31",currentIconType:"",iconModalVisible:!1,currentIcon:""},this.currentId=-1}return i(t,e),o(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,r=e.loginOut,i=e.listen,n=e.send,o=e.getProductList;t(this);var s=a(function(){r(void 0,void 0,!1)},this),l=(s.username,s.userid),u=s.getusersigid;this.userid=l,this.listen=i,this.send=n,this.getProductList=o,this.getusersigid=u}},{key:"componentDidMount",value:function(){this.setState({mainHeight:document.documentElement.clientHeight-50})}},{key:"render",value:function(){var e=this,t=this.props,a=t.validateUser,r=t.loginOut,i=(t.resizeMainHeight,0);if(a(function(){i++,r()},this),1===i)return u.default.createElement("div",null);var o={labelCol:{span:6},wrapperCol:{span:14}},s=[{title:"序号",dataIndex:"key",key:"xx"},{title:"产品名称",dataIndex:"productname",key:"productname"},{title:"产品简称",dataIndex:"outline",key:"outline"},{title:"产品类型",dataIndex:"producttypeName",key:"producttypeName"},{title:"到期时间",dataIndex:"endtime",key:"endtime"},{title:"产品费用",dataIndex:"price",key:"price"},{title:"产品地址",dataIndex:"producturl",key:"producturl"},{title:"操作",dataIndex:"",key:"x",width:"10%",render:function(t,a){return u.default.createElement("div",null,u.default.createElement(d.Popconfirm,{placement:"left",title:"确定要删除吗?",onConfirm:e.delProduct.bind(e,a.productid),okText:"确定",cancelText:"取消"},u.default.createElement(d.Button,{className:"lt-del",type:"primary"},"删除")))}}],l={orderList:this.state.productlist,columns:[s],getProductDetail:function(t,a,r){if(e.currentId=t.productid,"SPAN"!==r.target.nodeName&&"BUTTON"!==r.target.nodeName)return e.setState({visible:!0,productName:t.productname,productShortName:t.outline,productPrice:t.price,productLink:t.producturl,productType:t.producttype,productRemark:t.description,expireDate:"2099-12-31",currentIconType:t.isicon?"zmiti":"antd",currentIcon:t.producticon}),!1}},c="YYYY-MM-DD",p=u.default.createElement(d.Spin,{tip:this.state.tip,spinning:this.state.loading},u.default.createElement("div",{className:"product-main-ui",style:{height:this.state.mainHeight}},u.default.createElement("header",{className:"product-header"},u.default.createElement(d.Button,{onClick:function(){e.setState({visible:!0}),e.productId=-1},type:"primary"},"新增产品服务")),u.default.createElement(f.default,l),u.default.createElement(d.Modal,{title:"新增产品服务",visible:this.state.visible,onOk:this.addProduct.bind(this),onCancel:function(){e.setState({visible:!1})},width:600},u.default.createElement(d.Form,null,u.default.createElement(h,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品名称"),hasFeedback:!0}),u.default.createElement(d.Input,{ref:"product-name",value:this.state.productName,placeholder:"要显示的菜单名",onChange:function(t){e.setState({productName:t.target.value})}})),u.default.createElement(h,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品简称"),hasFeedback:!0}),u.default.createElement(d.Input,{ref:"product-sort-name",value:this.state.productShortName,placeholder:"产品简称",onChange:function(t){e.setState({productShortName:t.target.value})}})),u.default.createElement(h,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"到期时间"),hasFeedback:!0}),u.default.createElement(d.DatePicker,{format:"YYYY-MM-DD",onChange:this.changeExpireDate.bind(this),
value:(0,d.moment)(this.state.expireDate,c),size:"default"})),u.default.createElement(h,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品类型"),hasFeedback:!0}),u.default.createElement(y,{onChange:function(t){e.setState({productType:t.target.value})},value:this.state.productType},u.default.createElement(d.Radio,{value:0},"基础产品"),u.default.createElement(d.Radio,{value:1},"付费产品"),u.default.createElement(d.Radio,{value:2},"默认产品(不需要申请)"))),u.default.createElement(h,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品图标"),hasFeedback:!0}),this.state.currentIcon&&"zmiti"===this.state.currentIconType&&u.default.createElement("div",{className:"product-menu-ico"},u.default.createElement("img",{src:this.state.currentIcon})),this.state.currentIcon&&"antd"===this.state.currentIconType&&u.default.createElement("div",{className:"product-menu-ico product-antd-ico"},u.default.createElement(d.Icon,{type:this.state.currentIcon})),u.default.createElement(y,{onChange:this.onChangeIcon.bind(this),value:this.state.currentIconType},u.default.createElement(d.Radio,{value:"zmiti"},"智媒体图标"),u.default.createElement(d.Radio,{value:"antd"},"组件库图标")),u.default.createElement("section",{className:"product-ico-C",style:{display:this.state.iconModalVisible?"block":"none"}},u.default.createElement("section",{className:"product-ico-header"},u.default.createElement("div",null,"添加产品图标"),u.default.createElement("div",{onClick:function(){e.setState({iconModalVisible:!1})}},u.default.createElement("span",null,"×"))),u.default.createElement("section",{className:"product-ico-list"},"zmiti"===this.state.currentIconType&&u.default.createElement("div",null,u.default.createElement("ul",{onClick:this.changeIcon.bind(this)},u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-money-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-msg-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-usergroup-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-user-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})),u.default.createElement("li",null,u.default.createElement("img",{draggable:"false",src:"../public/images/lt-company-ico.png"})))),"antd"===this.state.currentIconType&&u.default.createElement("div",null,u.default.createElement("ul",{onClick:this.changeIcon.bind(this)},u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"lock"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"unlock"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"android"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"apple"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"apple-o"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"area-chart"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"pie-chart"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"bar-chart"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"dot-chart"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"bars"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"book"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"calendar"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"cloud"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"cloud-download"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"code"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"code-o"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"copy"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"credit-card"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"desktop"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"edit"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"ellipsis"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"file"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"appstore-o"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"picture"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"shopping-cart"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"star-o"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"star"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"hearr-o"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"camera"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"camera-o"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"team"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"solution"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"customer-service"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"switcher"})),u.default.createElement("li",null,u.default.createElement(d.Icon,{type:"rocket"}))))))),u.default.createElement(h,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品费用"),hasFeedback:!0}),u.default.createElement(d.Input,{ref:"product-cost",addonAfter:"￥/月",value:this.state.productPrice,onChange:function(t){e.setState({productPrice:t.target.value})}})),u.default.createElement(h,n({},o,{label:u.default.createElement("span",null,u.default.createElement("span",{style:{color:"red",marginRight:4}},"*"),"产品地址"),hasFeedback:!0}),u.default.createElement(d.Input,{ref:"product-path",value:this.state.productLink,onChange:function(t){e.setState({productLink:t.target.value})},placeholder:"产品存放的项目地址，由超级管理员填写"})),u.default.createElement(h,n({},o,{label:u.default.createElement("span",null,"产品说明"),hasFeedback:!0}),u.default.createElement("textarea",{ref:"product-remark",value:this.state.productRemark,style:{width:"100%"},onChange:function(t){e.setState({productRemark:t.target.value})},placeholder:"产品说明"}))))));return u.default.createElement(g.default,{component:p})}},{key:"delProduct",value:function(e){var t=this;this.setState({loading:!0,tip:"正在删除数据..."}),$.ajax({type:window.ajaxType||"get",url:window.baseUrl+"product/del_product/",data:{userid:t.userid,getusersigid:t.getusersigid,productids:e},success:function(e){d.message[0===e.getret?"success":"error"](e.getmsg),0===e.getret&&t.loadData(),t.setState({loading:!1})}})}},{key:"loadData",value:function(){var e=this;this.getProductList({s:this,fn:function(t){e.state.productlist=t.productlist,e.state.productlist.forEach(function(e,t){e.key=t+1}),e.state.loading=!1,e.forceUpdate()}})}},{key:"componentDidMount",value:function(){this.loadData()}},{key:"changeExpireDate",value:function(e){this.setState({expireDate:e.format("YYYY-MM-DD")})}},{key:"changeIcon",value:function(e){switch(this.state.currentIconType){case"zmiti":var t=e.target.src||e.target.children[0].src;if(!t)return;this.setState({currentIcon:t});break;case"antd":if("I"===e.target.nodeName)var a=e.target.className.split(" ")[1].substring(8);else var a=e.target.children[0].className.split(" ")[1].substring(8);console.log(a),this.setState({currentIcon:a})}}},{key:"addProduct",value:function(){var e="";"zmiti"===this.state.currentIconType?(e=this.state.currentIcon.split("//").length>1?this.state.currentIcon.split("//")[1]:this.state.currentIcon.split("//")[0],e=e.split("/"),e.shift(),e=e.indexOf("/main/")<=-1?"/main/"+e.join("/"):e.join("/")):e=this.state.currentIcon;var t=this,a={producturl:this.state.productLink,productname:this.state.productName,outline:this.state.productShortName,icontype:"antd"===this.state.currentIconType,producticon:e,producttype:this.state.productType,endtime:this.state.expireDate,price:this.state.productPrice,bookingmonthnum:1,description:this.state.productRemark,userid:this.userid,getusersigid:this.getusersigid};this.currentId!==-1?(this.setState({loading:!0,tip:"正在修改数据..."}),a.productid=this.currentId,$.ajax({type:"POST",url:window.baseUrl+"/product/edit_product/",data:a,success:function(e){d.message[0===e.getret?"success":"error"](e.getmsg),t.setState({visible:!1,loading:!1}),t.loadData()}})):(t.setState({loading:!0,tip:"正在添加数据..."}),$.ajax({type:"POST",url:window.baseUrl+"/product/add_product/",data:a,success:function(e){d.message[0===e.getret?"success":"error"](e.getmsg),t.setState({visible:!1,loading:!1}),t.loadData()}}))}},{key:"onChangeIcon",value:function(e){switch(e.target.value){case"zmiti":this.setState({currentIcon:this.state.defaultZmitiIcon});break;case"antd":this.setState({currentIcon:this.state.defaultAntdIcon})}this.setState({currentIconType:e.target.value,iconModalVisible:!0})}}]),t}(u.default.Component);exports.default=(0,c.ZmitiValidateUser)(v),e.exports=exports.default}).call(this)}finally{}},901:function(e,exports,t){var a=t(902);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},902:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,".product-header{width:100%;height:40px;line-height:40px;position:relative}.product-header .ant-btn{position:absolute;right:4vw;bottom:0}.product-ico-C{position:absolute;width:300px;height:300px;background:#fff;z-index:102;border:1px solid #818181;box-sizing:border-box;border-radius:6px}.product-ico-C .product-ico-header{width:100%;height:30px;line-height:30px;display:-webkit-box;display:-ms-flexbox;display:flex;display:-webkit-flex;-ms-flex-flow:row;flex-flow:row;background:#818181;border-top-left-radius:5px;border-top-right-radius:5px}.product-ico-C .product-ico-header div{width:50%;color:#fff;margin-left:10px}.product-ico-C .product-ico-header div:nth-of-type(2){text-align:right;margin-right:10px;font-size:20px}.product-ico-C .product-ico-header div:nth-of-type(2) span{cursor:pointer;padding:0 5px}.product-ico-C .product-ico-list{width:100%}.product-ico-C .product-ico-list ul{display:-webkit-box;display:-ms-flexbox;display:flex;display:-webkit-flex;-ms-flex-flow:row;flex-flow:row;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:10px auto}.product-ico-C .product-ico-list ul li{width:30px;margin:0 3px 0 4px;text-align:center;cursor:pointer;box-sizing:border-box}.product-ico-C .product-ico-list ul li img{width:20px}.product-menu-ico{position:absolute;left:200px;top:8px}.product-antd-ico{top:0}.product-main-ui .lt-del{background:#f81828;border-color:#f81828}",""])},903:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},s=t(1),l=a(s);t(904);var u=t(232),c=(u.Select.Option,function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={orderList:[],columns:[]}}return i(t,e),n(t,[{key:"render",value:function(){var e=this;return l.default.createElement("section",{className:"order-main-ui",style:{height:this.props.mainHeight}},this.props.columns.map(function(t,a){if(0===a)return l.default.createElement("section",{key:a,className:"user-list-section"},l.default.createElement(u.Table,{bordered:!0,onRowClick:function(t,a,r){e.props.getProductDetail(t,a,r)},dataSource:e.props.orderList,columns:t}),"}")}))}},{key:"componentDidMount",value:function(){}}]),t}(s.Component));exports.default=c,c.defaultProps={},e.exports=exports.default}).call(this)}finally{}},904:function(e,exports,t){var a=t(905);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},905:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,".order-main-ui table{margin-top:20px}.order-main-ui table td,.order-main-ui table th{text-align:center!important}.order-main-ui table a{color:#06c}",""])},906:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},s=t(1),l=a(s);t(907);var u=t(888),c=a(u),d=t(232),p=t(231),f=a(p),m=t(872),g=d.Select.Option,h=function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,userList:[]},this.condition=0}return i(t,e),n(t,[{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"key",key:"xx"},{title:"工单号",dataIndex:"workorderid",key:"workorderid"},{title:"用户名",dataIndex:"username",key:"username"},{title:"工单标题",dataIndex:"title",key:"title"},{title:"工单内容",dataIndex:"content",key:"content"},{title:"处理人",dataIndex:"adminname",key:"adminname"},{title:"工单类型",dataIndex:"workordertype",key:"workordertype"},{title:"工单状态",dataIndex:"status",key:"status"},{title:"创建时间",dataIndex:"createtime",key:"createtime",sorter:function(e,t){return e.key-t.key}},{title:"修改时间",dataIndex:"operatime",key:"operatime"}],a=t.concat({title:"操作",width:"20%",dataIndex:"",key:"x",render:function(e,t){return l.default.createElement("div",{"data-userid":t.userid},l.default.createElement("a",{href:"javascript:void(0)"},"审核通过"),"    ",l.default.createElement("a",{href:"javascript:void(0)"},"审核不通过"))}}),r=t.concat({title:"状态",dataIndex:"",key:"x",render:function(e,t){return l.default.createElement("div",{"data-userid":t.userid},l.default.createElement("a",{href:"javascript:void(0)"},"审核已通过"))}}),i=t.concat({title:"状态",dataIndex:"",key:"x",render:function(e,t){return l.default.createElement("div",{"data-userid":t.userid},l.default.createElement("a",{href:"javascript:void(0)"},"审核未通过"))}}),n=this.props.params.title,o={userList:this.state.userList,columns:[a,r,i],changeAccount:this.changeAccount,mainHeight:this.state.mainHeight,tags:["待处理","已反馈","已处理","已关闭"],type:"workorder",title:n,keyDown:function(t){clearTimeout(e.keyupTimer),void 0===e.defautlUserList&&(e.defautlUserList=e.state.userList.concat([])),e.keyupTimer=setTimeout(function(){var a=e.defautlUserList,r="workorderid";e.state.userList=a.filter(function(a){switch(1*e.condition){case 0:r="workorderid";break;case 1:r="username"}return a[r].indexOf(t)>-1}),e.forceUpdate(function(){})},350)},selectComponent:l.default.createElement(d.Select,{placeholder:"工单号",onChange:function(t){e.condition=t},style:{width:120},size:"small"},l.default.createElement(g,{value:"0"},"工单号"),l.default.createElement(g,{value:"1"},"用户名"))};return console.log(o.userList),l.default.createElement(f.default,{component:l.default.createElement(c.default,o)})}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),a=e.loginOut;e.resizeLeftMenu;t(function(){a(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=(e.validateUser,e.loginOut);e.resizeLeftMenu;t(this,"setAdminHeight");var r={getusersigid:this.getusersigid,userid:this.userid,setisadmin:1},i=this;$.ajax({type:"POST",url:window.baseUrl+"/user/get_workorder/",data:r,success:function(e){console.log(e),0===e.getret?i.setState({userList:e.workorderinfo}):e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):a(e.getmsg,window.loginUrl,!1)}})}}]),t}(s.Component);exports.default=(0,m.ZmitiValidateUser)(h),e.exports=exports.default}).call(this)}finally{}},907:function(e,exports,t){var a=t(908);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},908:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,"body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}",""])},909:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},s=t(1),l=a(s);t(910);var u=t(888),c=a(u),d=t(232),p=t(231),f=a(p),m=t(872),g=(d.Select.Option,d.Steps.Step),h=d.Layout.Header,y=d.Layout.Content,v=function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,uploadData:[],workorderid:"",content:"",createtime:"",status:"",workordertype:"",workordername:"",totalminu:"",statusName:"",getTimestr:"",usericon:"",questionContent:"",isHidden:!1,orderoperation:"",workeorderinfo:[],setuserid:"",customername:""},this.condition=0}return i(t,e),n(t,[{key:"render",value:function(){var e=this,t="工单管理",a={userid:this.userid,changeAccount:this.changeAccount,mainHeight:this.state.mainHeight,tags:["处理中","已处理"],type:"vieworder",title:t,selectedIndex:0,rightType:"custom",customRightComponent:l.default.createElement("div",{className:"zmiti-vieworder-main-ui"},l.default.createElement("div",{className:"pad-10"},l.default.createElement(d.Row,{className:"zmiti-vieworder-header"},l.default.createElement(d.Col,{span:8,className:"zmiti-vieworder-header-inner"},"工单详情"),l.default.createElement(d.Col,{span:8,offset:8,className:"zmiti-workorder-button-right"},l.default.createElement(d.Button,{type:"primary",onClick:this.changeAccount.bind(this,0)},"返回列表"))),l.default.createElement("div",{className:"zmiti-workorder-line"}),l.default.createElement("div",{className:"hr10"}),l.default.createElement("div",{className:"hr10"}),l.default.createElement(d.Steps,{current:1*this.state.status},l.default.createElement(g,{title:"已受理",icon:l.default.createElement(d.Icon,{type:"user"})}),l.default.createElement(g,{title:"已处理",icon:l.default.createElement(d.Icon,{type:"solution"})}),l.default.createElement(g,{title:"已确认",icon:l.default.createElement(d.Icon,{type:"save"})}),l.default.createElement(g,{title:"已评价",icon:l.default.createElement(d.Icon,{type:"smile-o"})})),l.default.createElement("div",{className:"hr10"}),l.default.createElement("div",{className:"view-questionInfo"},l.default.createElement("div",{className:"gutter-example"},l.default.createElement(d.Row,null,l.default.createElement(d.Col,{span:24},l.default.createElement("span",{className:"questionTitle"},"问题标题："),this.state.content)),l.default.createElement(d.Row,null,l.default.createElement(d.Col,{span:6},l.default.createElement("span",{className:"questionTitle"},"工单编号："),this.state.workorderid),l.default.createElement(d.Col,{span:6},l.default.createElement("span",{className:"questionTitle"},"提交时间："),this.state.createtime),l.default.createElement(d.Col,{span:6},l.default.createElement("span",{className:"questionTitle"}," 状态："),this.state.statusName),l.default.createElement(d.Col,{span:6},l.default.createElement("div",{className:"text-right"},l.default.createElement("a",{href:"javasctip:void(0);",onClick:this.getorderoperation.bind(this)},this.state.orderoperation)))))),l.default.createElement("div",{className:"hr10"}),l.default.createElement(d.Layout,{className:"workorder-table"},l.default.createElement(h,null,this.state.getworkordername),l.default.createElement(y,null,l.default.createElement("div",{className:"view-questionPane"},l.default.createElement("div",{className:"view-questionLists"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("div",{className:"view-faceIco"},l.default.createElement("img",{src:this.state.usericon})),l.default.createElement("div",{className:"view-Infor"},l.default.createElement("div",null,this.state.customername),l.default.createElement("div",null,"问题描述：",this.state.content),l.default.createElement("div",null),l.default.createElement("div",null,this.state.createtime))),this.state.workeorderinfo.map(function(t,a){return l.default.createElement("li",{key:a,className:0===t.workordertype&&"messageDiv"},l.default.createElement("div",{className:"view-faceIco"},0===t.workordertype&&l.default.createElement("img",{src:"./static/images/notify.jpg"}),1===t.workordertype&&l.default.createElement("img",{src:e.state.usericon})),l.default.createElement("div",{className:"view-Infor"},0===t.workordertype&&"管理员回复：",1===t.workordertype&&e.state.customername,l.default.createElement("p",null,t.content),l.default.createElement("p",null,"时间：",t.operatime),l.default.createElement("p",null,t.attachment&&t.attachment.split(",").map(function(e,t){return l.default.createElement("a",{key:t,href:e,title:e}," ","点击下载")}))))})))))),l.default.createElement("div",{className:"hr10"}),l.default.createElement(d.Layout,{className:"workorder-table "},l.default.createElement(h,null,"回复"),l.default.createElement(y,null,l.default.createElement("div",{className:"view-questionPane"},l.default.createElement("div",{className:"view-questionForm"},l.default.createElement(d.Form,null,l.default.createElement(d.Input,{type:"textarea",placeholder:"此处限定5000字符",onFocus:function(){e.setState({questionError:!1})},className:"workorderquestion-inputContent "+(this.state.submitWorkorder?"error-table":""),value:this.state.questionContent,onChange:function(t){e.setState({questionContent:t.target.value})}}),l.default.createElement("div",{className:"hr10"}),l.default.createElement("p",null,l.default.createElement(d.Button,{type:"primary",htmlType:"submit",onClick:this.submitWorkorder.bind(this)},"提交")))))))))},r=l.default.createElement(c.default,a);return l.default.createElement(f.default,{component:r})}},{key:"changeAccount",value:function(e){window.location.hash="#/listorder/工单管理"}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),a=e.loginOut;e.resizeLeftMenu;t(function(){a(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props.params.id,t=this;$.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/view_workorder",data:{userid:t.userid,getusersigid:t.getusersigid,setworkorderid:e},success:function(e){0===e.getret&&(t.state.workorderid=e.workinfo.workorderid,t.state.content=e.workinfo.content,t.state.createtime=e.workinfo.createtime,t.state.status=e.workinfo.status,t.state.totalminu=e.workinfo.totalminu,t.filterStatus(),t.state.workordertype=e.workinfo.workordertype,t.state.operauser=e.workinfo.userid,t.getuserinfo(e.workinfo.userid),t.getworkordername(),t.forceUpdate())}}),t.getworkorderlist()}},{key:"getuserinfo",value:function(e){var t=this;return $.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/get_userdetails/",data:{userid:t.userid,getusersigid:t.getusersigid,isonly:1,setuserid:e},success:function(e){0===e.getret?(t.state.customername=e.getuserinfo.customername,t.state.usericon=e.getuserinfo.usericon,t.forceUpdate()):e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):loginOut(e.getmsg,window.loginUrl,!1)}}),e}},{key:"getworkorderlist",value:function(){var e=this;$.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/view_workorder",data:{userid:e.userid,userusername:e.userusername,getusersigid:e.getusersigid,setworkorderid:e.props.params.id},success:function(t){0===t.getret&&(e.state.workeorderinfo=t.workinfo.operainfo,console.log(e.state.workeorderinfo,"工单列表"),e.forceUpdate())}})}},{key:"getworkordername",value:function(){var e=this;switch(e.state.workordertype){case 0:e.state.getworkordername="财务类工单问题";break;case 1:e.state.getworkordername="会员帐号类工单问题";break;case 2:e.state.getworkordername="定制服务类工单帐号问题";break;case 3:e.state.getworkordername="产品技术类工单问题";break;case 4:e.state.getworkordername="其它类工单问题"}}},{key:"filterStatus",value:function(){var e=this;switch(e.state.status){case 0:e.state.statusName="已受理",e.state.orderoperation="关闭工单";break;case 1:e.state.statusName="已处理",e.state.orderoperation="关闭工单";break;case 2:e.state.statusName="已确认",e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="删除工单";break;case 3:e.state.statusName="已评价",e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="删除工单";break;case 4:e.state.statusName=l.default.createElement("span",{className:"red"},"请您反馈"),e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="关闭工单"}}},{key:"getorderoperation",value:function(){var e=this;"关闭工单"==e.state.orderoperation&&$.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/close_workorder/",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid},success:function(t){0===t.getret?(d.message.success("关闭工单成功"),e.state.orderoperation="删除工单",e.setState({isHidden:!0}),e.forceUpdate()):t.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(t.getmsg)}}),"删除工单"==e.state.orderoperation&&$.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/del_workorder/",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid},success:function(e){0===e.getret?(d.message.success("删除工单成功"),setTimeout(function(){window.location.hash="listorder/"},2e3)):e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(e.getmsg)}})}},{key:"submitWorkorder",value:function(){var e=this,t=0;if(""==e.state.questionContent&&(e.setState({questionError:!0}),t=1),0==t){var a;if(e.state.uploadData.length>0){a=e.state.uploadData[0].datainfourl;for(var r=1;r<e.state.uploadData.length;r++)a=a+","+e.state.uploadData[r].datainfourl}$.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/opera_workorder",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid,setcontent:e.state.questionContent,setattachment:a,setoperatype:0},success:function(t){0===t.getret?(d.message.success("您已成功回复工单，我们会尽快处理"),setTimeout(function(){location.hash="listorder/工单管理"+e.state.workorderid},2e3)):t.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(t.getmsg)}})}}}]),t}(s.Component);exports.default=(0,m.ZmitiValidateUser)(v),e.exports=exports.default}).call(this)}finally{}},910:function(e,exports,t){var a=t(911);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},911:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,'body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}li,ol,ul{list-style:none;margin:0;padding:0}.hr10,.hr15{clear:both;line-height:0;font-size:0}.hr10{height:10px}.hr15{height:15px}.pad-5{padding:5px}.pad-10{padding:10px}.pad-15{padding:15px}.pad-20{padding:20px}.zmiti-vieworder-main-ui{font-size:12px;overflow:auto}.zmiti-vieworder-main-ui .zmiti-vieworder-header-inner{padding-left:8px;margin-top:10px;position:relative}.zmiti-vieworder-main-ui .zmiti-vieworder-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.zmiti-vieworder-main-ui .zmiti-workorder-button-right button{float:right;margin-top:5px}.zmiti-vieworder-main-ui .zmiti-workorder-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.zmiti-vieworder-main-ui .workorder-table{border:1px solid #e1e6eb;margin-top:15px;background:#fff}.zmiti-vieworder-main-ui .workorder-table .ant-layout-header{background:#f5f6fa;border-left:4px solid #6d7781;padding-left:16px;height:38px;line-height:38px;overflow:hidden;border-bottom:1px solid #e1e6eb}.zmiti-vieworder-main-ui .questionTitle{color:#999}.zmiti-vieworder-main-ui .red{color:red}.zmiti-vieworder-main-ui .error-table{border:1px solid red;color:red}.zmiti-vieworder-main-ui .workorderquestion-inputContent{height:100px}.text-right{text-align:right}.view-questionInfo{background-color:#efefef;padding:10px}.gutter-example{color:#000;line-height:2}.gutter-example span{color:#666}.view-titPane{background-color:#efefef;border-left:5px solid #999;border-top:1px solid #ccc;line-height:2;padding-left:10px;color:#333}.view-questionLists,.view-titPane{border-right:1px solid #ccc;border-bottom:1px solid #ccc}.view-questionLists{border-left:1px solid #ccc;padding:0 15px 15px;margin:0}.view-questionLists ul{width:100%;overflow:hidden}.view-questionLists li{padding:10px 0 10px 70px;min-height:70px;position:relative;margin:0;border-bottom:1px dashed #ccc;color:#666;width:100%}.view-questionLists li:last-child{border-bottom:none}.view-questionLists li.messageDiv{color:#000;padding-left:10px}.view-questionLists li.messageDiv .view-faceIco{display:none}.view-questionLists li.questionFinish{background-color:#eafbff}.view-faceIco{position:absolute;left:10px;top:10px}.view-faceIco img{width:50px;height:50px;border-radius:50%}.view-questionForm{border-left:1px solid #ccc;border-right:1px solid #ccc;border-bottom:1px solid #ccc;padding:10px 15px;margin:0}.view-questionForm form{width:100%}.view-questionForm .view-tit-label{line-height:24px}.view-questionForm textarea{outline:none;resize:none;border-color:#d9d9d9}.view-questionForm p{margin:10px 0}',""]);
},912:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},s=t(1),l=a(s);t(913);var u=t(888),c=a(u),d=t(232),p=t(231),f=a(p),m=t(872),g=(d.Select.Option,d.Steps.Step),h=d.Layout.Header,y=d.Layout.Content,v=function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,mainHeight:document.documentElement.clientHeight-50,uploadData:[],workorderid:"",content:"",createtime:"",status:"",workordertype:"",workordername:"",totalminu:"",statusName:"",getTimestr:"",usericon:"",questionContent:"",isHidden:!1,orderoperation:"",workeorderinfo:[],setuserid:"",customername:""},this.condition=0}return i(t,e),n(t,[{key:"render",value:function(){var e=this,t="工单管理",a={userid:this.userid,changeAccount:this.changeAccount,mainHeight:this.state.mainHeight,tags:["处理中","已处理"],type:"vieworder",title:t,selectedIndex:1,rightType:"custom",customRightComponent:l.default.createElement("div",{className:"zmiti-vieworder-main-ui"},l.default.createElement("div",{className:"pad-10"},l.default.createElement(d.Row,{className:"zmiti-vieworder-header"},l.default.createElement(d.Col,{span:8,className:"zmiti-vieworder-header-inner"},"工单详情"),l.default.createElement(d.Col,{span:8,offset:8,className:"zmiti-workorder-button-right"},l.default.createElement(d.Button,{type:"primary",onClick:this.changeAccount.bind(this,1)},"返回列表"))),l.default.createElement("div",{className:"zmiti-workorder-line"}),l.default.createElement("div",{className:"hr10"}),l.default.createElement("div",{className:"hr10"}),l.default.createElement(d.Steps,{current:1*this.state.status},l.default.createElement(g,{title:"已受理",icon:l.default.createElement(d.Icon,{type:"user"})}),l.default.createElement(g,{title:"已处理",icon:l.default.createElement(d.Icon,{type:"solution"})}),l.default.createElement(g,{title:"已确认",icon:l.default.createElement(d.Icon,{type:"save"})}),l.default.createElement(g,{title:"已评价",icon:l.default.createElement(d.Icon,{type:"smile-o"})})),l.default.createElement("div",{className:"hr10"}),l.default.createElement("div",{className:"view-questionInfo"},l.default.createElement("div",{className:"gutter-example"},l.default.createElement(d.Row,null,l.default.createElement(d.Col,{span:24},l.default.createElement("span",{className:"questionTitle"},"问题描述："),this.state.content)),l.default.createElement(d.Row,null,l.default.createElement(d.Col,{span:6},l.default.createElement("span",{className:"questionTitle"},"工单编号："),this.state.workorderid),l.default.createElement(d.Col,{span:6},l.default.createElement("span",{className:"questionTitle"},"提交时间："),this.state.createtime),l.default.createElement(d.Col,{span:6},l.default.createElement("span",{className:"questionTitle"}," 状态："),this.state.statusName),l.default.createElement(d.Col,{span:6},l.default.createElement("div",{className:"text-right"},l.default.createElement("a",{href:"javasctip:void(0);",onClick:this.getorderoperation.bind(this)},this.state.orderoperation)))))),l.default.createElement("div",{className:"hr10"}),l.default.createElement(d.Layout,{className:"workorder-table"},l.default.createElement(h,null,this.state.getworkordername),l.default.createElement(y,null,l.default.createElement("div",{className:"view-questionPane"},l.default.createElement("div",{className:"view-questionLists"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("div",{className:"view-faceIco"},l.default.createElement("img",{src:this.state.usericon})),l.default.createElement("div",{className:"view-Infor"},l.default.createElement("div",null,this.state.customername),l.default.createElement("div",null,"问题描述：",this.state.content),l.default.createElement("div",null),l.default.createElement("div",null,this.state.createtime))),this.state.workeorderinfo.map(function(t,a){return l.default.createElement("li",{key:a,className:0===t.workordertype&&"messageDiv"},l.default.createElement("div",{className:"view-faceIco"},0===t.workordertype&&l.default.createElement("img",{src:"./static/images/notify.jpg"}),1===t.workordertype&&l.default.createElement("img",{src:e.state.usericon})),l.default.createElement("div",{className:"view-Infor"},0===t.workordertype&&"管理员回复：",1===t.workordertype&&e.state.customername,l.default.createElement("p",null,"问题描述：",t.content),l.default.createElement("p",null,t.operatime),l.default.createElement("p",null,t.attachment&&t.attachment.split(",").map(function(e,t){return l.default.createElement("a",{key:t,href:e,title:e}," ","点击下载")}))))}))))))))},r=l.default.createElement(c.default,a);return l.default.createElement(f.default,{component:r})}},{key:"changeAccount",value:function(e){1*e===0?window.location.hash="#/listorder/工单管理":1*e===1&&(window.location.hash="#/listorder/工单管理")}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),a=e.loginOut;e.resizeLeftMenu;t(function(){a(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props.params.id,t=this;$.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/view_workorder",data:{userid:t.userid,getusersigid:t.getusersigid,setworkorderid:e},success:function(e){0===e.getret&&(t.state.workorderid=e.workinfo.workorderid,t.state.content=e.workinfo.content,t.state.createtime=e.workinfo.createtime,t.state.status=e.workinfo.status,t.state.totalminu=e.workinfo.totalminu,t.state.operauser=e.workinfo.userid,t.filterStatus(),t.state.workordertype=e.workinfo.workordertype,t.getuserinfo(e.workinfo.userid),t.getworkordername(),t.forceUpdate())}}),t.getworkorderlist()}},{key:"getuserinfo",value:function(e){var t=this;return $.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/get_userdetails/",data:{userid:t.userid,getusersigid:t.getusersigid,isonly:1,setuserid:e},success:function(e){0===e.getret?(t.state.customername=e.getuserinfo.customername,t.state.usericon=e.getuserinfo.usericon,t.forceUpdate()):e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):loginOut(e.getmsg,window.loginUrl,!1)}}),e}},{key:"getworkorderlist",value:function(){var e=this;$.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/view_workorder",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.props.params.id},success:function(t){console.log(t),0===t.getret&&(e.state.workeorderinfo=t.workinfo.operainfo,e.state.setuserid=t.workinfo.operainfo[0].operauser,e.forceUpdate())}})}},{key:"getworkordername",value:function(){var e=this;switch(e.state.workordertype){case 0:e.state.getworkordername="财务类工单问题";break;case 1:e.state.getworkordername="会员帐号类工单问题";break;case 2:e.state.getworkordername="定制服务类工单帐号问题";break;case 3:e.state.getworkordername="产品技术类工单问题";break;case 4:e.state.getworkordername="其它类工单问题"}}},{key:"filterStatus",value:function(){var e=this;switch(e.state.status){case 0:e.state.statusName="已受理",e.state.orderoperation="关闭工单";break;case 1:e.state.statusName="已处理",e.state.orderoperation="关闭工单";break;case 2:e.state.statusName="已确认",e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="删除工单";break;case 3:e.state.statusName="已评价",e.state.getTimestr="总计花时："+e.state.totalminu+"分钟!",e.setState({isHidden:!0}),e.state.orderoperation="删除工单"}}},{key:"getorderoperation",value:function(){var e=this;"关闭工单"==e.state.orderoperation&&$.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/close_workorder/",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid},success:function(t){0===t.getret?(d.message.success("关闭工单成功"),e.state.orderoperation="删除工单",e.setState({isHidden:!0}),e.forceUpdate()):t.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(t.getmsg)}}),"删除工单"==e.state.orderoperation&&$.ajax({url:window.baseUrl+"user/del_workorder/",data:{userid:e.userid,getusersigid:e.getusersigid,setworkorderid:e.state.workorderid},success:function(e){0===e.getret?(d.message.success("删除工单成功"),setTimeout(function(){window.location.hash="workorder/"},2e3)):e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(e.getmsg)}})}}]),t}(s.Component);exports.default=(0,m.ZmitiValidateUser)(v),e.exports=exports.default}).call(this)}finally{}},913:function(e,exports,t){var a=t(914);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},914:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,'body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}li,ol,ul{list-style:none;margin:0;padding:0}.hr10,.hr15{clear:both;line-height:0;font-size:0}.hr10{height:10px}.hr15{height:15px}.pad-5{padding:5px}.pad-10{padding:10px}.pad-15{padding:15px}.pad-20{padding:20px}.zmiti-vieworder-main-ui{font-size:12px;overflow:auto}.zmiti-vieworder-main-ui .zmiti-vieworder-header-inner{padding-left:8px;margin-top:10px;position:relative}.zmiti-vieworder-main-ui .zmiti-vieworder-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.zmiti-vieworder-main-ui .zmiti-workorder-button-right button{float:right;margin-top:5px}.zmiti-vieworder-main-ui .zmiti-workorder-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.zmiti-vieworder-main-ui .workorder-table{border:1px solid #e1e6eb;margin-top:15px;background:#fff}.zmiti-vieworder-main-ui .workorder-table .ant-layout-header{background:#f5f6fa;border-left:4px solid #6d7781;padding-left:16px;height:38px;line-height:38px;overflow:hidden;border-bottom:1px solid #e1e6eb}.zmiti-vieworder-main-ui .questionTitle{color:#999}.zmiti-vieworder-main-ui .red{color:red}.zmiti-vieworder-main-ui .error-table{border:1px solid red;color:red}.zmiti-vieworder-main-ui .workorderquestion-inputContent{height:100px}.text-right{text-align:right}.view-questionInfo{background-color:#efefef;padding:10px}.gutter-example{color:#000;line-height:2}.gutter-example span{color:#666}.view-titPane{background-color:#efefef;border-left:5px solid #999;border-top:1px solid #ccc;line-height:2;padding-left:10px;color:#333}.view-questionLists,.view-titPane{border-right:1px solid #ccc;border-bottom:1px solid #ccc}.view-questionLists{border-left:1px solid #ccc;padding:0 15px 15px;margin:0}.view-questionLists ul{width:100%;overflow:hidden}.view-questionLists li{padding:10px 0 10px 70px;min-height:70px;position:relative;margin:0;border-bottom:1px dashed #ccc;color:#666;width:100%}.view-questionLists li:last-child{border-bottom:none}.view-questionLists li.messageDiv{color:#000;padding-left:10px}.view-questionLists li.questionFinish{background-color:#eafbff}.view-faceIco{position:absolute;left:10px;top:10px}.view-faceIco img{width:50px;height:50px;border-radius:50%}.view-questionForm{border-left:1px solid #ccc;border-right:1px solid #ccc;border-bottom:1px solid #ccc;padding:10px 15px;margin:0}.view-questionForm form{width:100%}.view-questionForm .view-tit-label{line-height:24px}.view-questionForm textarea{outline:none;resize:none;border-color:#d9d9d9}.view-questionForm p{margin:10px 0}',""])},915:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},s=t(1),l=a(s);t(916);var u=t(888),c=a(u),d=t(232);t(863);var p=(t(166),t(918)),f=a(p),m=t(872),g=t(871),h=a(g);d.moment.locale("zh-cn");var y=(d.Radio.Group,d.Form.Item,d.Select.Option,function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={mainHeight:document.documentElement.clientHeight-50,dataSource:[],workorderid:"",keyword:"",startDate:null,selectedIndex:0,endDate:(0,d.moment)(new Date,"YYYY-MM-DD")}}return i(t,e),n(t,[{key:"render",value:function(){var e=this,t=[{title:"工单编号",dataIndex:"workorderid",key:"workorderid",width:100},{title:"用户名",dataIndex:"username",key:"username"},{title:"问题内容",dataIndex:"content",key:"content",render:function(e,t){var a=e.length;return a>=40?e.substring(0,40):e}},{title:"工单类型",dataIndex:"workordertype",key:"workordertypeName",width:100,filters:[{text:"财务类",value:"0"},{text:"会员帐号类",value:"1"},{text:"定制服务类",value:"2"},{text:"产品技术类",value:"3"},{text:"其它类",value:"4"}],onFilter:function(e,t){return 1*e===t.workordertype},sorter:function(e,t){return e.workordertype-t.workordertype},render:function(e,t){switch(e){case 0:return"财务类";case 1:return"会员帐号类";case 2:return"定制服务类";case 3:return"产品技术类";case 4:return"其它类"}}},{title:"创建时间",dataIndex:"createtime",key:"createtime",width:150},{title:"工单状态",dataIndex:"status",key:"status",width:100,filters:[{text:"已受理",value:"0"},{text:"已处理",value:"1"},{text:"已确认",value:"2"},{text:"已评价",value:"3"},{text:"已关闭",value:"4"}],onFilter:function(e,t){return 1*e===t.status},sorter:function(e,t){return e.status-t.status},render:function(e,t){switch(e){case 0:return l.default.createElement("div",{className:"red"},"已受理");case 1:return l.default.createElement("div",{className:"green"},"已处理");case 2:return l.default.createElement("div",{className:"green"},"已确认");case 3:return l.default.createElement("div",{className:"green"},"已评价");case 4:return l.default.createElement("div",{className:"green"},"已关闭")}}},{title:"操作",dataIndex:"operation",key:"operation",width:100,render:function(t,a,r){return 0===e.state.selectedIndex?l.default.createElement("span",null,l.default.createElement("a",{href:"#/editorder/"+a.workorderid},"处理工单")):l.default.createElement("span",null,l.default.createElement("a",{href:"#/vieworder/"+a.workorderid},"查看"))}}],a=this.props.params.title||"工单管理2",r={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:["处理中","已处理"],mainHeight:this.state.mainHeight,title:a,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:l.default.createElement("div",{className:"zmiti-listorder-main-ui pad-10"},l.default.createElement(d.Row,{className:"zmiti-listorder-header"},l.default.createElement(d.Col,{span:8,className:"zmiti-listorder-header-inner"},"工单管理"),l.default.createElement(d.Col,{span:8,offset:8,className:"zmiti-listorder-button-right"})),l.default.createElement("div",{className:"zmiti-listorder-line"}),l.default.createElement(d.Row,{gutter:10,type:"flex",className:"listorder-search "},l.default.createElement(d.Col,{className:"zmiti-listorder-with70 listorder-heigth30"},"工单编号："),l.default.createElement(d.Col,{className:"listorder-heigth30"},l.default.createElement(d.Input,{value:this.state.workorderid,onChange:this.searchByWorkorderid.bind(this),placeholder:"工单编号录入"})),l.default.createElement(d.Col,{className:"zmiti-listorder-with60 listorder-heigth30 rig"},"时间:"),l.default.createElement(d.Col,{className:"listorder-heigth30 zmiti-listorder-with130 "},l.default.createElement(d.DatePicker,{value:this.state.startDate,onChange:function(t){e.setState({startDate:t})}})),l.default.createElement(d.Col,{className:"zmiti-listorder-with30 listorder-heigth30 cen",value:this.state.endDate},"至:"),l.default.createElement(d.Col,{className:"listorder-heigth30 zmiti-listorder-with130 "},l.default.createElement(d.DatePicker,{value:this.state.endDate,onChange:function(t){e.setState({endDate:t})}})),l.default.createElement(d.Col,{className:"zmiti-listorder-with60 listorder-heigth30 rig"},"关键词:"),l.default.createElement(d.Col,{className:"listorder-heigth30"},l.default.createElement(d.Input,{value:this.state.keyword,placeholder:"关键词",onChange:this.searchByKeyword.bind(this)})),l.default.createElement(d.Col,{className:"listorder-heigth30 lef"},l.default.createElement(d.Button,{onClick:this.searchBybutton.bind(this)},"查询"))),l.default.createElement(d.Table,{dataSource:this.state.dataSource,columns:t,bordered:!0}))},i=l.default.createElement("div",null,l.default.createElement(c.default,r));return l.default.createElement(f.default,{component:i})}},{key:"gotoView",value:function(e){location.href="#/editorder/"+e}},{key:"searchBybutton",value:function(){var e=this.state.workorderid,t=this.state.startDate.format("YYYY-MM-DD"),a=this.state.endDate.format("YYYY-MM-DD"),r=this.state.keyword,i=this;h.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/get_workorder",data:{userid:i.userid,getusersigid:i.getusersigid,setworkorderid:e,setstarttime:t,setendtime:a,setkeyword:r,setisadmin:1},success:function(e){if(0===e.getret){i.state.dataSource=e.workorderinfo;var t=i.state.dataSource.filter(function(e,t){return e.status===i.state.selectedIndex});i.setState({dataSource:t})}else e.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(e)}})}},{key:"searchByWorkorderid",value:function(e){var t=this;this.setState({workorderid:e.target.value},function(){t.dataSource=t.dataSource||t.state.dataSource.concat([]),t.state.dataSource=t.dataSource.filter(function(e){return e.workorderid.indexOf(t.state.workorderid)>-1}),t.forceUpdate()})}},{key:"searchByKeyword",value:function(e){var t=this;this.setState({keyword:e.target.value},function(){t.dataSource=t.dataSource||t.state.dataSource.concat([]),t.state.dataSource=t.state.dataSource.filter(function(e){return e.content.indexOf(t.state.keyword)>-1}),t.state.keyword.length<=0&&(t.state.dataSource=t.dataSource.concat([])),t.forceUpdate()})}},{key:"bindNewdata",value:function(){var e=this;h.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"user/get_workorder",data:{userid:e.userid,getusersigid:e.getusersigid,setisadmin:1},success:function(t){if(0===t.getret){t.workorderinfo.map(function(t,a){0===t.status?t.status=0:1===t.status?t.status=1:2===t.status?t.status=2:3===t.status?t.status=3:4===t.status&&(t.status=4),e.state.dataSource.push(t)}),e.defaultWorkorderInfo=t.workorderinfo,e.state.dataSource.forEach(function(e,t){switch(e.status){case 0:e.statusName="已受理";break;case 1:e.statusName="已处理";break;case 2:e.statusName="已确认";break;case 3:e.statusName="已评价";break;case 4:e.statusName="已关闭"}switch(e.workordertype){case 0:e.workordertypeName="财务类";break;case 1:e.workordertypeName="会员帐号类";break;case 2:e.workordertypeName="定制服务类";break;case 3:e.workordertypeName="产品技术类";break;case 4:e.workordertypeName="其它类"}});var a=e.state.dataSource.filter(function(t,a){return t.status===e.state.selectedIndex});e.setState({dataSource:a})}else t.getret===-3?(d.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):d.message.error(t)}})}},{key:"changeAccount",value:function(e){this.state.selectedIndex=1*e,this.orderList=this.orderList||this.defaultWorkorderInfo.concat([]),this.state.dataSource=this.orderList.filter(function(t){return 1*e===0?0===t.status:0!==t.status}),this.state.keyword="",this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this;e.bindNewdata()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser;e.loginOut;t(this);var r=a(function(){},this),i=(r.username,r.userid),n=r.getusersigid;this.userid=i,this.getusersigid=n}}]),t}(s.Component));exports.default=(0,m.ZmitiValidateUser)(y),e.exports=exports.default}).call(this)}finally{}},916:function(e,exports,t){var a=t(917);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},917:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,'body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}body{font-family:Microsoft Yahei,Tahoma,Helvetica,Arial,sans-serif;font-size:14px;height:100%;overflow:hidden}.zmiti-listorder-main-ui{font-size:12px}.zmiti-listorder-main-ui .zmiti-listorder-header-inner{padding-left:8px;margin-top:10px;position:relative}.zmiti-listorder-main-ui .zmiti-listorder-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.zmiti-listorder-main-ui .listorder-search{margin:15px 0}.zmiti-listorder-main-ui .listorder-search .rig{text-align:right}.zmiti-listorder-main-ui .listorder-search .zmiti-listorder-with130{width:130px}.zmiti-listorder-main-ui .listorder-search .zmiti-listorder-with70{width:70px}.zmiti-listorder-main-ui .listorder-search .zmiti-listorder-with60{width:60px}.zmiti-listorder-main-ui .listorder-search .listorder-heigth30{height:30px;line-height:30px;overflow:hidden}.zmiti-listorder-main-ui .zmiti-listorder-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}',""])},918:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},s=t(1),l=a(s),u=t(232);t(866);var c=t(166),d=t(870),p=a(d),f=t(872),m=u.Menu.SubMenu,g=function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={defaultClass:"fly-left-aside",isOpen:!0,current:"3",currentAcc:"iLinten@qq.com",rightWidth:0,userid:"",getusersigid:""}}return i(t,e),n(t,[{key:"menuClickHandler",value:function(e){}},{key:"handleClick",value:function(e){}},{key:"toggleMenu",value:function(){var e=this;"fly-left-aside"===this.state.defaultClass?(window.mainLeftSize=60,this.setState({defaultClass:"fly-left-aside unfold",isOpen:!1,rightWidth:document.documentElement.clientWidth-window.mainLeftSize})):(this.setState({defaultClass:"fly-left-aside"}),window.mainLeftSize=180,setTimeout(function(){e.setState({isOpen:!0,rightWidth:document.documentElement.clientWidth-window.mainLeftSize})},200))}},{key:"render",value:function(){this.userManagerMenuConfig=[{linkTo:"/user/个人账户管理",key:"user",title:"个人账户管理",isIcon:!0,type:"user",isShow:!0},{linkTo:"/company/公司账户管理",key:"company",title:"公司账户管理",isIcon:!0,type:"customerservice",isShow:!0}],this.productServiceMenuConfig=[{linkTo:"/product/",key:"product",title:"新增产品",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/listorder/工单管理",key:"workorder",title:"工单管理",isIcon:!0,type:"edit",isShow:!0},{linkTo:"/datum/",key:"datum",title:"资料管理",isIcon:!0,type:"edit",isShow:!0}],4===this.usertypesign&&this.userManagerMenuConfig.push({linkTo:"/system/系统账户管理",key:"system",title:"系统账户管理",isIcon:!0,type:"edit",isShow:!0});var e=window.location.hash,t="sub5";this.productServiceMenuConfig.forEach(function(a,r){e.indexOf(a.key)>-1&&(t="sub6")});var a={usertypesign:this.usertypesign,currentAcc:this.state.currentAcc,userid:this.userid,type:"admin",getusersigid:this.getusersigid,logo:"../static/images/logo.png"};return l.default.createElement("section",{className:"main"},l.default.createElement(p.default,a),l.default.createElement("article",{className:"fly-content"},l.default.createElement("section",{className:this.state.defaultClass},l.default.createElement("div",{className:"fly-toggle-menu",onClick:this.toggleMenu.bind(this)},l.default.createElement(u.Icon,{type:"menu-fold",style:{display:this.state.isOpen?"inline-block":"none"}}),l.default.createElement(u.Icon,{type:"menu-unfold",style:{display:this.state.isOpen?"none":"inline-block"}})),l.default.createElement("div",{className:"fly-menu-c"},l.default.createElement(u.Menu,{style:{width:182},defaultOpenKeys:[t],selectedKeys:[this.state.current],mode:"inline"},l.default.createElement(m,{key:"sub5",title:l.default.createElement("span",null,l.default.createElement(u.Icon,{type:"setting",style:{marginRight:"22px"}}),l.default.createElement("span",null,"用户管理"))},this.userManagerMenuConfig.map(function(e){return l.default.createElement(u.Menu.Item,{key:e.key},l.default.createElement(u.Icon,{type:e.type,style:{marginRight:"32px"}}),l.default.createElement(c.Link,{to:e.linkTo},e.title))})),l.default.createElement(m,{key:"sub6",title:l.default.createElement("span",null,l.default.createElement(u.Icon,{type:"setting",style:{marginRight:"22px"}}),l.default.createElement("span",null,"操作管理"))},this.productServiceMenuConfig.map(function(e){return l.default.createElement(u.Menu.Item,{key:e.key},l.default.createElement(u.Icon,{type:e.type,style:{marginRight:"32px"}}),l.default.createElement(c.Link,{to:e.linkTo},e.title))}))))),l.default.createElement("section",{className:"fly-right-aside",style:{width:this.state.rightWidth}},this.props.component)))}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,r=e.loginOut,i=e.resizeLeftMenu;t(this,"setAdminHeight"),i(this,"setAdminMenu");var n=a(function(){r(void 0,void 0,!1)}),o=n.userid,s=n.getusersigid,l=n.companyid,u=(n.username,n.isover),c=n.usertypesign;this.userid=o,this.getusersigid=s,this.companyid=l,this.isover=u,this.usertypesign=c,this.loginOut=r,this.usertypesign!==window.Role.NORMALADMINUSER&&this.usertypesign!==window.Role.SUPERADMINUSER&&r("您没有访问的权限",window.mainUrl,!1)}},{key:"componentDidMount",value:function(){var e=window.location.hash,t=this.userManagerMenuConfig.concat(this.productServiceMenuConfig),a="";t.forEach(function(t){e.indexOf("#"+t.linkTo)>-1&&(a=t.key)}),this.setState({current:a,rightWidth:document.documentElement.clientWidth-180,userid:this.userid,isover:this.isover,getusersigid:this.getusersigid})}}]),t}(s.Component);exports.default=(0,f.ZmitiValidateUser)(g),e.exports=exports.default}).call(this)}finally{}},919:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},l=t(1),u=a(l);t(920);var c=t(888),d=a(c),p=t(232),f=t(231),m=a(f),g=t(872),h=t(871),y=a(h),v=(p.Select.Option,function(e){function t(e){var a=this;i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current:0,selectedIndex:0,mainHeight:document.documentElement.clientHeight-50,dialogHeight:document.documentElement.clientHeight,modpostDialogVisible:!1,categoryname:"",categorydata:[],tags:[],title:"",author:"",kindid:"五言绝句",originaltext:"",changetext:"",datatype:0,voiceurl:"",dataList:[],dataSource:[],workdatatype:"",workdataid:"",keyword:"",disabled:!1,editable:!1,value:this.props.value,inputVisible:!1,inputValue:"",typeid:""},this.showInput=function(){a.setState({inputVisible:!0},function(){return a.input.focus()})},this.editInputRef=function(e){return a.input=e},this.saveInputRef=function(e){return a.input=e}}return n(t,e),o(t,[{key:"handleInputChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"editInput",value:function(e){var t=this,a=e.target.value,r=(e.target.alt,this.state),i=r.tags;t.setState({value:a}),t.setState({tags:i}),t.forceUpdate()}},{key:"render",value:function(){var e=this,t=[{title:"标题",dataIndex:"title",key:"title"},{title:"作者",dataIndex:"author",key:"author",width:120},{title:"资料类型",dataIndex:"datatype",key:"datatype",width:100,render:function(t,a,r){return e.state.tags[e.state.selectedIndex]}},{title:"创建时间",dataIndex:"createtime",key:"createtime",width:150},{title:"操作",dataIndex:"operation",key:"operation",width:150,render:function(t,a,r){return u.default.createElement("span",null,u.default.createElement("a",{href:"#/editorinfo/"+a.workdataid}," 修改"),u.default.createElement("a",{href:"javascript:void(0);",onClick:e.delData.bind(e,a.workdataid)}," 删除"))}}],a=this.state,r=a.tags,i=a.inputVisible,n=a.inputValue,o=this.state,s=(o.value,o.editable,this.props.params.title||"资料库"),l={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:this.state.tags,mainHeight:this.state.mainHeight,title:s,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:u.default.createElement("div",{className:"inforlist-main-ui",style:{height:this.state.mainHeight}},u.default.createElement("div",{className:"pad-10"},u.default.createElement("div",{className:"zmiti-inforlist-header"},u.default.createElement(p.Row,null,u.default.createElement(p.Col,{
span:8,className:"zmiti-inforlist-header-inner"},"诗词资料"),u.default.createElement(p.Col,{span:8,offset:8,className:"zmiti-inforlist-button-right"},u.default.createElement(p.Button,{icon:"file-add",onClick:this.postform.bind(this)},"添加资料"),u.default.createElement(p.Button,{icon:"folder-add",onClick:this.dialogform.bind(this)},"分类管理")))),u.default.createElement("div",{className:"zmiti-inforlist-line"}),u.default.createElement(p.Row,{gutter:10,type:"flex",className:"inforlist-search "},u.default.createElement(p.Col,{className:"inforlist-heigth45"},"标题："),u.default.createElement(p.Col,{className:"inforlist-heigth45"},u.default.createElement(p.Input,{value:this.state.keyword,placeholder:"名称",onChange:function(t){e.state.keyword=t.target.value,e.forceUpdate()}})),u.default.createElement(p.Col,{className:"inforlist-heigth45"},u.default.createElement(p.Button,{onClick:this.searchBybutton.bind(this)},"查询"))),u.default.createElement(p.Table,{bordered:!0,dataSource:this.state.dataList,columns:t})),u.default.createElement(p.Modal,{title:"诗词分类",visible:this.state.modpostDialogVisible,onOk:this.addProduct.bind(this),onCancel:function(){e.setState({modpostDialogVisible:!1})}},u.default.createElement("div",{className:"inforListModal"},r.map(function(t,a){var r=t.length>20,i=u.default.createElement(p.Tag,{key:t,closable:0!==a,afterClose:function(){return e.handleClose(t)}},u.default.createElement(p.Input,{type:"text",ref:e.editInputRef,className:"inforlistCategoryIpt",defaultValue:r?t.slice(0,20)+"...":t,onChange:e.editInput.bind(e),onBlur:e.saveinput.bind(e),alt:a}));return r?u.default.createElement(p.Tooltip,{title:t},i):i}),i&&u.default.createElement(p.Input,{ref:this.saveInputRef,type:"text",size:"small",style:{width:110},value:n,onChange:this.handleInputChange.bind(this),onBlur:this.handleInputConfirm.bind(this),onPressEnter:this.handleInputConfirm.bind(this)}),!i&&u.default.createElement(p.Button,{size:"small",type:"dashed",onClick:this.showInput},"+ 添加分类"))))},c=u.default.createElement("div",null,u.default.createElement(d.default,l));return u.default.createElement(m.default,{component:c})}},{key:"componentWillMount",value:function(){var e=this.props,t=(e.resizeMainHeight,e.validateUser),a=e.loginOut;e.resizeLeftMenu;t(function(){a(void 0,void 0,!1)},this)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.resizeMainHeight;e.validateUser,e.loginOut,e.resizeLeftMenu;t(this,"setAdminHeight"),this.bindNewdata(),this.getcategory()}},{key:"bindNewdata",value:function(){var e=this,t=(this.props.params.userid?this.props.params.userid:this.userid,e.state.selectedIndex),a=e.state.dataSource;this.props.params.id;y.default.each(a,function(a,r){a==t&&(e.state.typeid=r.workdatatype,console.log(r.workdatatype,r.typename))}),y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"document/get_documentlist",data:{userid:e.userid,getusersigid:e.getusersigid,datatype:e.state.typeid,type:1,searchword:""},success:function(t){0===t.getret?e.state.dataList=t.list:1002===t.getret&&(e.state.dataList=[]),console.log(this.url,"this.url"),e.forceUpdate()}})}},{key:"searchBybutton",value:function(){var e=this.state.selectedIndex,t=this.state.keyword,a=this;y.default.ajax({url:window.baseUrl+"document/get_documentlist",data:{userid:a.userid,getusersigid:a.getusersigid,datatype:e,type:1,searchword:t},success:function(e){0===e.getret?a.state.dataList=e.list:1002===e.getret?a.state.dataList=[]:e.getret===-3?(p.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):p.message.error(e),a.forceUpdate()}})}},{key:"postform",value:function(){window.location="#/editorinfo/"}},{key:"getcategory",value:function(){var e=this;y.default.ajax({type:"POST",url:window.baseUrl+"document/get_documentclasslist/",data:{userid:e.userid,getusersigid:e.getusersigid},success:function(t){if(0===t.getret){console.log(t,"get_documentclasslist");var a=new Array;y.default.each(t.list,function(e,t){a.push(t.typename)}),e.state.tags=a,e.state.dataSource=t.list,e.forceUpdate()}else console.log(this.url,"error:get_documentclasslist")}})}},{key:"addProduct",value:function(){var e=this;this.setState({modpostDialogVisible:!1}),e.forceUpdate()}},{key:"dialogform",value:function(){var e=this;this.setState({modpostDialogVisible:!0}),e.forceUpdate()}},{key:"handleInputConfirm",value:function(){var e=this,t=this.state,a=t.inputValue,i=t.tags;a&&i.indexOf(a)===-1&&(i=[].concat(r(i),[a])),y.default.ajax({type:"POST",url:window.baseUrl+"document/add_documentclass",data:{userid:e.userid,getusersigid:e.getusersigid,typename:a},success:function(t){0===t.getret&&(e.setState({tags:i,inputVisible:!1,inputValue:""}),e.getcategory(),e.forceUpdate())}})}},{key:"saveinput",value:function(e){var t=this,a=e.target.value,r=e.target.alt,i=this.state;i.tags;t.setState({value:a});t.state.selectedIndex;y.default.each(this.state.dataSource,function(e,i){e===parseInt(r)&&(t.state.workdatatype=i.workdatatype,t.state.tags[e]=a,y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"document/edit_documentclass",data:{userid:t.userid,getusersigid:t.getusersigid,workdatatype:t.state.workdatatype,typename:a},success:function(e){0===e.getret&&(t.getcategory(),t.forceUpdate())}}))})}},{key:"delData",value:function(e){var t=this;this.props.params.userid?this.props.params.userid:this.userid;y.default.ajax({url:window.baseUrl+"document/del_document/",data:{userid:t.userid,getusersigid:t.getusersigid,documentid:e},success:function(e){0===e.getret?(p.message.success("删除成功！"),setTimeout(function(){t.bindNewdata()},2e3)):e.getret===-3?(p.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):p.message.error(e.getmsg)}})}},{key:"changeAccount",value:function(e){this.state.selectedIndex=1*e,this.setState({selectedIndex:1*e}),this.state.keyword="",this.forceUpdate(),this.bindNewdata(),window.location="#datum/"+e,console.log(this.props.params.id)}}]),t}(l.Component));exports.default=(0,g.ZmitiValidateUser)(v),e.exports=exports.default}).call(this)}finally{}},920:function(e,exports,t){var a=t(921);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},921:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,'body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%}img{border:none;vertical-align:top;width:100%;height:auto}input,textarea{outline:none}.inforlist-main-ui{overflow:auto}.inforlist-main-ui .zmiti-inforlist-header-inner{padding-left:8px;margin-top:10px;position:relative}.inforlist-main-ui .zmiti-inforlist-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.inforlist-main-ui .zmiti-inforlist-button-right button{float:right;margin-top:5px;margin-left:10px}.inforlist-main-ui .zmiti-inforlist-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.inforlist-main-ui .inforlist-heigth45{height:45px;line-height:45px;overflow:hidden}.inforlist-main-ui .inforlist-search{margin:15px 0}.inforlistTextarea{resize:none}.dialogInformation .ant-modal{padding-bottom:0;top:70px}.dialogInformation .ant-modal-content{height:100%}.inforListModal .ant-tag{padding-left:0}.inforListModal .ant-btn-dashed,.inforListModal .ant-tag{width:110px;margin-bottom:10px}.inforListModal .inforlistCategoryIpt{width:83px;height:18px;border:none;background-color:#f7f7f7}.inforListModal .ant-tag:hover{border-color:#108ee9!important}.inforListModal .ant-tag:hover .inforlistCategoryIpt{color:#000;border:none}',""])},922:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},l=t(1),u=a(l);t(923);var c=t(888),d=a(c),p=t(232),f=t(231),m=a(f),g=t(872),h=t(871),y=a(h),v=p.Select.Option,E=p.Form.Item,A=function(e){function t(e){r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={setuserid:"",selectedIndex:0,mainHeight:document.documentElement.clientHeight-50,dialogHeight:document.documentElement.clientHeight,tags:["唐诗","宋词","童谣"],title:"",author:"",kindid:"五言绝句",originaltext:"",changetext:"",datatype:0,voiceurl:"",dataSource:[],workdataid:"",keyword:"",disabled:!1},this.currentId=void 0}return i(t,e),o(t,[{key:"render",value:function(){var e=this,t={labelCol:{span:6},wrapperCol:{span:14}},a={wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:6}}},r=this.props.params.title||"资料库",i={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:this.state.tags,mainHeight:this.state.mainHeight,title:r,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:u.default.createElement("div",{className:"inforlist-main-ui",style:{height:this.state.mainHeight}},u.default.createElement("div",{className:"pad-10"},u.default.createElement("div",{className:"zmiti-inforlist-header"},u.default.createElement(p.Row,null,u.default.createElement(p.Col,{span:8,className:"zmiti-inforlist-header-inner"},"诗词资料"),u.default.createElement(p.Col,{span:8,offset:8,className:"zmiti-inforlist-button-right"},u.default.createElement(p.Button,{type:"primary",icon:"left",onClick:this.goback.bind(this)},"返回")))),u.default.createElement("div",{className:"zmiti-inforlist-line"}),u.default.createElement("div",{className:"hr20"})),u.default.createElement(p.Form,null,u.default.createElement(E,n({},t,{label:"资料标题",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"资料标题",value:this.state.title,onChange:function(t){e.state.title=t.target.value,e.forceUpdate()}})),u.default.createElement(E,n({},t,{label:"资料作者",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"资料作者",value:this.state.author,onChange:function(t){e.state.author=t.target.value,e.forceUpdate()}})),u.default.createElement(E,n({},t,{label:"资料原文",hasFeedback:!0}),u.default.createElement(p.Input,{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"资料原文",value:this.state.originaltext,className:"inforlistTextarea",onChange:function(t){e.state.originaltext=t.target.value,e.forceUpdate()}})),u.default.createElement(E,n({},t,{label:"译文",hasFeedback:!0}),u.default.createElement(p.Input,{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"译文",value:this.state.changetext,className:"inforlistTextarea",onChange:function(t){e.state.changetext=t.target.value,e.forceUpdate()}})),u.default.createElement(E,n({},t,{label:"资料类型",hasFeedback:!0}),u.default.createElement(p.Select,{placeholder:"资料类型",onChange:function(t){e.state.datatype=t,e.forceUpdate()},value:this.state.datatype},this.state.dataSource.map(function(e,t){return u.default.createElement(v,{key:t,value:e.workdatatype},e.typename)}))),u.default.createElement(E,n({},t,{label:"标准录音地址",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"标准录音地址",value:this.state.voiceurl,onChange:function(t){e.state.voiceurl=t.target.value,e.forceUpdate()}})),u.default.createElement(E,a,u.default.createElement(p.Button,{type:"primary",icon:"save",htmlType:"submit",size:"large",onClick:this.saveinformation.bind(this)},"提交"))))},o=u.default.createElement("div",null,u.default.createElement(d.default,i));return u.default.createElement(m.default,{component:o})}},{key:"componentDidMount",value:function(){var e=this;e.getinformation(),e.getcategory()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,r=e.loginOut;t(this);var i=a(function(){r(void 0,void 0,!1)},this),n=(i.username,i.userid),o=i.getusersigid;this.userid=n,this.getusersigid=o}},{key:"changeAccount",value:function(e){window.location="#/datum/",this.forceUpdate()}},{key:"goback",value:function(){window.location="#/datum/"}},{key:"getinformation",value:function(){var e=this;this.currentId=e.props.params.id,void 0!=this.currentId?y.default.ajax({type:"POST",url:window.baseUrl+"document/get_documendetial/",data:{userid:e.userid,getusersigid:e.getusersigid,documentid:e.props.params.id},success:function(t){0===t.getret&&(e.setState({disabled:!0,title:t.detial.title,author:t.detial.author,kindid:t.detial.kindid,originaltext:t.detial.originaltext,changetext:t.detial.changetext,datatype:t.detial.datatype,voiceurl:t.detial.voiceurl}),e.state.selectedIndex=e.state.datatype,e.forceUpdate())}}):(this.setState({disabled:!1,title:"",author:"",kindid:"五言绝句",originaltext:"",changetext:"",datatype:0,voiceurl:""}),e.forceUpdate())}},{key:"saveinformation",value:function(){var e=this;this.currentId=e.props.params.id;var t={userid:e.userid,getusersigid:e.getusersigid,title:e.state.title,author:e.state.author,kindid:e.state.kindid,originaltext:e.state.originaltext,changetext:e.state.changetext,datatype:e.state.datatype,voiceurl:e.state.voiceurl};void 0!=this.currentId?(t.workdataid=this.currentId,y.default.ajax({type:"POST",url:window.baseUrl+"document/edit_document/",data:t,success:function(t){p.message[0===t.getret?"success":"error"](t.getmsg),e.forceUpdate(),window.location="#/datum/"}})):y.default.ajax({type:"POST",url:window.baseUrl+"document/add_document/",data:t,success:function(t){p.message[0===t.getret?"success":"error"](t.getmsg),e.forceUpdate(),window.location="#/datum/"}})}},{key:"getcategory",value:function(){var e=this;y.default.ajax({type:"POST",url:window.baseUrl+"document/get_documentclasslist/",data:{userid:e.userid,getusersigid:e.getusersigid},success:function(t){if(0===t.getret){console.log(t,"get_documentclasslist");var a=new Array;y.default.each(t.list,function(e,t){a.push(t.typename)}),e.state.tags=a,e.state.dataSource=t.list,console.log(e.state.dataSource,"s.state.dataSource"),e.forceUpdate()}else console.log(this.url,"error:get_documentclasslist")}})}}]),t}(l.Component);exports.default=(0,g.ZmitiValidateUser)(A),e.exports=exports.default}).call(this)}finally{}},923:function(e,exports,t){var a=t(924);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},924:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,'.inforlist-main-ui{overflow:auto}.inforlist-main-ui .zmiti-inforlist-header-inner{padding-left:8px;margin-top:10px;position:relative}.inforlist-main-ui .zmiti-inforlist-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.inforlist-main-ui .zmiti-inforlist-button-right button{float:right;margin-top:5px}.inforlist-main-ui .zmiti-inforlist-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.inforlist-main-ui .inforlist-heigth45{height:45px;line-height:45px;overflow:hidden}.inforlist-main-ui .inforlist-search{margin:15px 0}.inforlistTextarea{resize:none}.dialogInformation .ant-modal{padding-bottom:0;top:70px}.dialogInformation .ant-modal-content{height:100%}',""])},925:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},l=t(1),u=a(l);t(926);var c=t(888),d=a(c),p=t(232);t(863);var f=(t(166),t(918)),m=a(f),g=t(872),h=t(871),y=a(h);p.moment.locale("zh-cn");var v=(p.Radio.Group,p.Form.Item,p.Select.Option,function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={setuserid:"",selectedIndex:0,mainHeight:document.documentElement.clientHeight-50,tags:[],modpostDialogVisible:!1,uploadData:[],imgsData:[],imgsNum:0,datatype:0,voiceurl:"",dataList:[],dataSource:[],workdatatype:"",workdataid:"",keyword:"",disabled:!1,editable:!1,value:this.props.value,inputVisible:!1,inputValue:"",typeid:""}}return n(t,e),o(t,[{key:"handleInputChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"editInput",value:function(e){var t=this,a=e.target.value,r=(e.target.alt,this.state),i=r.tags;t.setState({value:a}),t.setState({tags:i}),t.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.state,a=t.tags,r=t.inputVisible,i=t.inputValue,n=this.state,o=(n.value,n.editable,this.props.params.title||"素材云盘"),s={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:this.state.tags,mainHeight:this.state.mainHeight,title:o,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:u.default.createElement("div",{className:"repertorypub-main-ui",style:{height:this.state.mainHeight}},u.default.createElement("div",{className:"pad-10"},u.default.createElement("div",{className:"zmiti-repertorypub-header"},u.default.createElement(p.Row,null,u.default.createElement(p.Col,{span:8,className:"zmiti-repertorypub-header-inner"},"公共资料库"),u.default.createElement(p.Col,{span:8,offset:8,className:"zmiti-repertorypub-button-right"},u.default.createElement("div",{className:"repertoryUpBtn"},u.default.createElement(p.Button,{type:"primary",icon:"upload",size:"default"},"上传"),u.default.createElement("input",{ref:"upload-file",onChange:this.uploadFile.bind(this),type:"file"})),u.default.createElement(p.Button,{icon:"folder-add",onClick:this.dialogform.bind(this)},"分类管理"),u.default.createElement("div",{className:"clear"})))),u.default.createElement("div",{className:"zmiti-repertorypub-line"}),u.default.createElement("div",{className:"hr20"}),u.default.createElement("div",{className:"repertorypub-column"},u.default.createElement("div",{className:"repertorypub-picList",ref:"acc-scan-C"},u.default.createElement("ul",{className:"repertorypub-imgs"},this.state.imgsData.map(function(t,a){return u.default.createElement("li",{key:a},u.default.createElement("div",{className:"repertorypub-pics"},u.default.createElement("img",{src:t.src})),u.default.createElement(p.Button,{shape:"circle",icon:"delete",onClick:e.delImg.bind(e,t.id)}),u.default.createElement("div",{className:"repertorypub-size"},t.storageSize,"（",t.size,"）"))}))),u.default.createElement("div",{className:"clear"}))),u.default.createElement(p.Modal,{title:"素材分类",visible:this.state.modpostDialogVisible,onOk:this.addProduct.bind(this),onCancel:function(){e.setState({modpostDialogVisible:!1})}},u.default.createElement("div",{className:"inforListModal"},a.map(function(t,a){var r=t.length>20,i=u.default.createElement(p.Tag,{key:t,closable:0!==a,afterClose:function(){return e.handleClose(t)}},u.default.createElement(p.Input,{type:"text",ref:e.editInputRef,className:"inforlistCategoryIpt",defaultValue:r?t.slice(0,20)+"...":t,onChange:e.editInput.bind(e),onBlur:e.saveinput.bind(e),alt:a}));return r?u.default.createElement(p.Tooltip,{title:t},i):i}),r&&u.default.createElement(p.Input,{ref:this.saveInputRef,type:"text",size:"small",style:{width:110},value:i,onChange:this.handleInputChange.bind(this),onBlur:this.handleInputConfirm.bind(this),onPressEnter:this.handleInputConfirm.bind(this)}),!r&&u.default.createElement(p.Button,{size:"small",type:"dashed",onClick:this.showInput},"+ 添加分类"))))},l=u.default.createElement("div",null,u.default.createElement(d.default,s));return u.default.createElement(m.default,{component:l})}},{key:"componentDidMount",value:function(){var e=this;e.getPersonalImg(),e.getcategory()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,r=e.loginOut;t(this);var i=a(function(){r(void 0,void 0,!1)},this),n=(i.username,i.userid),o=i.getusersigid;this.userid=n,this.getusersigid=o}},{key:"changeAccount",value:function(e){this.state.selectedIndex=1*e,this.state.keyword="",this.forceUpdate(),0===e?window.location="#/repertorypub/2093f57c-c147-fea8-993d-593bb1d4df1a":1===e?window.location="#/repertorypub/":window.location="#/repertorypub/"}},{key:"uploadFile",value:function(){var e=(this.props.params.userid?this.props.params.userid:this.userid,this.props.params.id||1465782065),t=new FormData,a=this;t.append("userid",a.userid),t.append("getusersigid",a.getusersigid),t.append("setuploadtype","0"),t.append("setdatainfoclassid",e),t.append("setupfile",this.refs["upload-file"].files[0]),y.default.ajax({url:window.baseUrl+"upload/upload_file",type:"POST",data:t,contentType:!1,processData:!1,success:function(e){0===e.getret&&(console.log(e),a.getPersonalImg(),a.forceUpdate())}})}},{key:"getPersonalImg",value:function(){var e=this,t=this.props.params.id;y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"datainfoclass/get_datainfo/",data:{userid:e.userid,getusersigid:e.getusersigid,setdatainfoclassid:t||1465782065,setdatainfotype:0},success:function(t){console.log(t,"图片列表"),e.state.imgsData=t.allImgs,e.state.imgsNum=t.allImgs.length,e.forceUpdate()}})}},{key:"delImg",value:function(e){var t=this;y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"datainfoclass/resource_del/",data:{userid:t.userid,getusersigid:t.getusersigid,setdatainfoid:e},success:function(e){0===e.getret&&(console.log(e,"删除成功！"),t.getPersonalImg(),t.forceUpdate())}})}},{key:"getcategory",value:function(){var e=this;y.default.ajax({type:"POST",url:window.baseUrl+"datainfoclass/get_datainfoclass/",data:{userid:e.userid,getusersigid:e.getusersigid},success:function(t){if(0===t.getret){console.log(t,"get_documentclasslist");var a=new Array;y.default.each(t.getdatainfoclass,function(e,t){1465782065==t.parentid&&a.push(t.classname)}),e.state.tags=a,e.state.dataSource=t.getdatainfoclass,e.forceUpdate()}else console.log(this.url,"error:get_documentclasslist")}})}},{key:"addProduct",value:function(){var e=this;this.setState({modpostDialogVisible:!1}),e.forceUpdate()}},{key:"dialogform",value:function(){var e=this;this.setState({modpostDialogVisible:!1}),window.location="#/categoryrepertory/",e.forceUpdate()}},{key:"handleInputConfirm",value:function(){var e=this,t=this.state,a=t.inputValue,i=t.tags;a&&i.indexOf(a)===-1&&(i=[].concat(r(i),[a])),y.default.ajax({type:"POST",url:window.baseUrl+"datainfoclass/add_class_info",data:{userid:e.userid,getusersigid:e.getusersigid,typename:a},success:function(t){0===t.getret&&(e.setState({tags:i,inputVisible:!1,inputValue:""}),e.getcategory(),e.forceUpdate())}})}},{key:"saveinput",value:function(e){var t=this,a=e.target.value,r=e.target.alt,i=this.state;i.tags;t.setState({value:a});t.state.selectedIndex;y.default.each(this.state.dataSource,function(e,i){e===parseInt(r)&&(t.state.workdatatype=i.workdatatype,t.state.tags[e]=a,y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"document/edit_documentclass",data:{userid:t.userid,getusersigid:t.getusersigid,workdatatype:t.state.workdatatype,typename:a},success:function(e){0===e.getret&&(t.getcategory(),t.forceUpdate())}}))})}},{key:"delData",value:function(e){var t=this;this.props.params.userid?this.props.params.userid:this.userid;y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"document/del_document/",data:{userid:t.userid,getusersigid:t.getusersigid,documentid:e},success:function(e){0===e.getret?(p.message.success("删除成功！"),setTimeout(function(){t.bindNewdata()},2e3)):e.getret===-3?(p.message.error("您没有访问的权限,2秒后跳转到首页"),setTimeout(function(){location.href="/"},2e3)):p.message.error(e.getmsg)}})}}]),t}(l.Component));exports.default=(0,g.ZmitiValidateUser)(v),e.exports=exports.default}).call(this)}finally{}},926:function(e,exports,t){var a=t(927);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},927:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,'.repertorypub-main-ui{overflow:auto}.repertorypub-main-ui .repertorypub-column{margin:20px}.repertorypub-main-ui .zmiti-repertorypub-header-inner{padding-left:8px;margin-top:10px;position:relative}.repertorypub-main-ui .zmiti-repertorypub-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.repertorypub-main-ui .zmiti-repertorypub-button-right button{float:right;margin-top:5px}.repertorypub-main-ui .zmiti-repertorypub-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.repertorypub-main-ui .repertorypub-add{width:145px;height:145px;float:left;background:url('+t(928)+") no-repeat}.repertorypub-main-ui .repertorypub-add input{width:145px;height:145px;border:none;opacity:0;background:none;cursor:pointer}.repertorypub-main-ui .repertoryUpBtn{width:80px;height:35px;overflow:hidden;float:right;position:relative}.repertorypub-main-ui .repertoryUpBtn button{cursor:pointer}.repertorypub-main-ui .repertoryUpBtn input{width:130px;height:25px;overflow:hidden;position:absolute;left:-40px;top:5px;opacity:0;cursor:pointer}.repertorypub-main-ui .repertorypub-picList li{width:182px;float:left;margin:0 10px 10px 0;position:relative}.repertorypub-main-ui .repertorypub-picList li .repertorypub-pics{border:1px solid #ccc}.repertorypub-main-ui .repertorypub-picList li img{display:block;width:180px;height:180px}.repertorypub-main-ui .repertorypub-picList li .ant-btn{position:absolute;display:none;left:78px;top:78px}.repertorypub-main-ui .repertorypub-picList li:hover .repertorypub-pics{opacity:.3}.repertorypub-main-ui .repertorypub-picList li:hover .ant-btn{display:block}",""])},928:function(e,exports){e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6RUI3MEU0RUEyMTk0RTUxMUIyMTk4NjNBQkUyREVENzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjYzMEJFQUUyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjYzMEJFQUQyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNDFDNTU2QUU1MjRFNzExODg4QUIxRTY3RTNDMDgxMSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmZiOGE5YTI1LTVjMWYtMTE3YS04NmZlLTkwNmUxMmU2YzA5ZCIvPiA8L3JkZjpEZXNjcmlwdGlv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";
},929:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},s=t(1),l=a(s);t(930);var u=t(888),c=a(u),d=t(232);t(863);var p=(t(166),t(918)),f=a(p),m=t(872),g=t(871),h=a(g);d.moment.locale("zh-cn");var y=(d.Radio.Group,d.Form.Item,d.Select.Option,function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={setuserid:"",selectedIndex:1,mainHeight:document.documentElement.clientHeight-50,tags:["共享","公司","个人"],uploadData:[],imgsData:[],imgsNum:0}}return i(t,e),n(t,[{key:"render",value:function(){var e=this,t=this.props.params.title||"素材云盘",a={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:this.state.tags,mainHeight:this.state.mainHeight,title:t,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:l.default.createElement("div",{className:"repertoryper-main-ui",style:{height:this.state.mainHeight}},l.default.createElement("div",{className:"pad-10"},l.default.createElement("div",{className:"zmiti-repertoryper-header"},l.default.createElement(d.Row,null,l.default.createElement(d.Col,{span:8,className:"zmiti-repertoryper-header-inner"},"公司"),l.default.createElement(d.Col,{span:8,offset:8,className:"zmiti-repertoryper-button-right"},l.default.createElement("div",{className:"repertoryUpBtn"},l.default.createElement(d.Button,{type:"primary",icon:"upload",size:"default"},"上传"),l.default.createElement("input",{ref:"upload-file",onChange:this.uploadFile.bind(this),type:"file"})),l.default.createElement("div",{className:"clear"})))),l.default.createElement("div",{className:"zmiti-repertoryper-line"}),l.default.createElement("div",{className:"hr20"}),l.default.createElement("div",{className:"repertoryper-column"},l.default.createElement("div",{className:"repertoryper-picList",ref:"acc-scan-C"},l.default.createElement("ul",{className:"repertoryper-imgs"},this.state.imgsData.map(function(t,a){return l.default.createElement("li",{key:a},l.default.createElement("div",{className:"repertoryper-pics"},l.default.createElement("img",{src:t.src})),l.default.createElement(d.Button,{shape:"circle",icon:"delete",onClick:e.delImg.bind(e,t.id)}),l.default.createElement("div",{className:"repertoryper-size"},t.storageSize,"（",t.size,"）"))}))),l.default.createElement("div",{className:"clear"}))))},r=l.default.createElement("div",null,l.default.createElement(c.default,a));return l.default.createElement(f.default,{component:r})}},{key:"componentDidMount",value:function(){var e=this;e.getPersonalImg()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,r=e.loginOut;t(this);var i=a(function(){r(void 0,void 0,!1)},this),n=(i.username,i.userid),o=i.getusersigid;this.userid=n,this.getusersigid=o}},{key:"changeAccount",value:function(e){this.state.selectedIndex=1*e,this.state.keyword="",this.forceUpdate(),0===e?window.location="#/repertorypub/":1===e?window.location="#/repertorycom/":window.location="#/repertoryper/"}},{key:"uploadFile",value:function(){var e=(this.props.params.userid?this.props.params.userid:this.userid,new FormData),t=this;e.append("userid",t.userid),e.append("getusersigid",t.getusersigid),e.append("setuploadtype","0"),e.append("setdatainfoclassid","1465782285"),e.append("setupfile",this.refs["upload-file"].files[0]),h.default.ajax({url:window.baseUrl+"upload/upload_file",type:"POST",data:e,contentType:!1,processData:!1,success:function(e){0===e.getret&&(console.log(e),t.getPersonalImg(),t.forceUpdate())}})}},{key:"getPersonalImg",value:function(){var e=this;h.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"datainfoclass/get_datainfo/",data:{userid:e.userid,getusersigid:e.getusersigid,setdatainfoclassid:1465782285,setdatainfotype:0},success:function(t){console.log(t,"图片列表"),e.state.imgsData=t.allImgs,e.state.imgsNum=t.allImgs.length,e.forceUpdate()}})}},{key:"delImg",value:function(e){var t=this;console.log(e),h.default.ajax({url:window.baseUrl+"datainfoclass/resource_del/",data:{userid:t.userid,getusersigid:t.getusersigid,setdatainfoid:e},success:function(e){0===e.getret&&(console.log(e,"删除成功！"),t.getPersonalImg(),t.forceUpdate())}})}}]),t}(s.Component));exports.default=(0,m.ZmitiValidateUser)(y),e.exports=exports.default}).call(this)}finally{}},930:function(e,exports,t){var a=t(931);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},931:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,'.repertorycom-main-ui{overflow:auto}.repertorycom-main-ui .repertorycom-column{margin:20px}.repertorycom-main-ui .zmiti-repertorycom-header-inner{padding-left:8px;margin-top:10px;position:relative}.repertorycom-main-ui .zmiti-repertorycom-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.repertorycom-main-ui .zmiti-repertorycom-button-right button{float:right;margin-top:5px}.repertorycom-main-ui .zmiti-repertorycom-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.repertorycom-main-ui .repertorycom-add{width:145px;height:145px;float:left;background:url('+t(932)+") no-repeat}.repertorycom-main-ui .repertorycom-add input{width:145px;height:145px;border:none;opacity:0;background:none;cursor:pointer}.repertorycom-main-ui .repertoryUpBtn{width:80px;height:35px;overflow:hidden;float:right;position:relative}.repertorycom-main-ui .repertoryUpBtn button{cursor:pointer}.repertorycom-main-ui .repertoryUpBtn input{width:130px;height:25px;overflow:hidden;position:absolute;left:-40px;top:5px;opacity:0;cursor:pointer}.repertorycom-main-ui .repertorycom-picList li{width:182px;float:left;margin:0 10px 10px 0;position:relative}.repertorycom-main-ui .repertorycom-picList li .repertorycom-pics{border:1px solid #ccc}.repertorycom-main-ui .repertorycom-picList li img{display:block;width:180px;height:180px}.repertorycom-main-ui .repertorycom-picList li .ant-btn{position:absolute;display:none;left:78px;top:78px}.repertorycom-main-ui .repertorycom-picList li:hover .repertorycom-pics{opacity:.3}.repertorycom-main-ui .repertorycom-picList li:hover .ant-btn{display:block}",""])},932:function(e,exports){e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6RUI3MEU0RUEyMTk0RTUxMUIyMTk4NjNBQkUyREVENzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjYzMEJFQUUyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjYzMEJFQUQyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNDFDNTU2QUU1MjRFNzExODg4QUIxRTY3RTNDMDgxMSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmZiOGE5YTI1LTVjMWYtMTE3YS04NmZlLTkwNmUxMmU2YzA5ZCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv/uAA5BZG9iZQBkwAAAAAH/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAgICAgICAgICAgMDAwMDAwMDAwMBAQEBAQEBAgEBAgICAQICAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA//AABEIAJEAkQMBEQACEQEDEQH/xACHAAEAAgIDAQEBAAAAAAAAAAAABwgEBQEDBgIJCgEBAAAAAAAAAAAAAAAAAAAAABAAAQQBAQUCBwoKCwAAAAAAAQACAwQFESESExUGFAdRYSK0djdXMUGTs5TUddU2CJEy0iOj03Q1VRaxUmKCkrJTJFSVVhEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A/vbwuNrRVqN+TGx0snLjajLDXESz1nmFjpq/EDWsD+IdJXMa3iOaC7XQaB3swODjhvVo8NiWV8o90mTgZjqbYcjI8kvkvRNhDLb3lxJMgcSSg5fgsJJFQhfhsU+HFOY/FxPx9R0WNfGWGN9CMwltNzCxpBjDSNB4EHezGY2O9Nk48fRZkrMQgsZBlSu29PABEBDNbbGLEsQEDPJc4jyG+AIMQdOdPNoPxTcFhhi5ZRPJjRi6QoSTgsImfTEHZ3ygxtIcW6+SPAEGQ/D4mSxStyYvHSWsazhY6y+lWdYoR7u5w6UzojJVZu7NIy0aIOGYbDxvyEkeKxrJMs1zMrIyjVa/JscJGubkHNiDrjXNlcCJN4EOPhKDqf0/gZKVfGyYTEPx1SU2KlB+NpupVZy6Vxmr1XQmCGUuned5rQdXu27SgyTi8Yb7cqcdROUZD2duSNSub7a/lfmG3DH2gQ+UfJ3t3adiDHZgMFHWuU48LiY6mRlM2QqsxtNta9M4hzpbkDYRFZlLmglzw46hB9uwmGeMc1+Ixj24gsOJa6hVcMWYzEYzjgYiKRYYGacLd03G6e4EHYzFYuO5ZyDMbQZfuxCG5eZTrtuW4Q2Ngis2RGJp4gyJo3XuI0aB7wQYv8udPcvOJ5DhuVGXjnGcro8vM2odxjS4HZjLqNd7d11QZL8TipLdS/JjMfJeoRmGjcfTrOt04i1zDFUsOjM1eMse4brCBoSPfQfDMLh4+Y8PE4xnN97m25Qqt5pv8Xf5jpEO27/Hk14u9rvu8JQdb+n8DJVqUZMJiJKVCXj0ab8bTdVpT6vdxqld0JirS70jjvMDTq4+FBk8rxgyBywx1Hmhh7Mcl2SvzA19n5g3OH2gw7Pxd7d8SDXy9NYfsNihSo1cVHYsC452Lq1qZ7c0ANuPZDE2GxLo0B3Ea9sjfJcC3Yghv+f+6/8AiGe/6218zQThhmGPD4qN17mbo8bRY7Jah3MC2rE03tQSD2sjia6n8ZBskBAQEBAQEBAQEBAQEBAQEBBX3mveL7Jun/0H5CCbMA6o7BYV1CtJTouxONdTpygtlqVDThNetI06kSQQ6NIPvhBtkBAQEBAQEBAQEBAQEBAQEBBWzlF327M+VwfWCCwuM7dy3H8zEQyXYanMBBpwBe4EfaxDps4XH3t3xIM5AQEBAQEBAQEBAQEBAQEBAQVN5p3U+zbqL9P9aILOYBtVmCwrKNqS7Sbicc2ndlJdLbqtpwivakc7QuksRAPJO0koNsgICAgICAgICAgICAgICAgIIP3u/TwdK/gZ87QS7hXmTD4mQ0eWGTGUHnGkAcvLqsTuw6AADsmvD0H9VBs0BAQEBAQEBAQEBAQEBAQEBBUzlfdh7Us/8qv/AKpBaTFNssxeNZdtR3bjMfTbbuw6cK3ZbXjE9qLTZw7EoL2+IoM9AQEBAQEBAQEBAQEBAQEBAQVr5o72Eu+QD6rQT70/2HkOE5YJRjeUY3l4sa8cUexQ9kE295XFEG7va7ddUG3QEBAQEBAQcEhoLnENa0EucSAAANSSTsAAQavC5zDdSY2vmen8rj83ibZlFXJYq5Bfo2DBNJXnENqs+SGQwzxOY7Qndc0g7Qg2qAgICAgICAggPlXeZ7UcD+Cr9XoJtxTrb8XjX368dS8+hTddqQ6GGrbdXjNivERs4cMxLW+IIM9AQEBAQEHBIaC5xDWtBLnEgAADUkk7AAEHncxmMQ7EZRoyuNJdjrwH++q7dasvhl00QVZ+47kcbW+7b0TFNkKEEgvdWExyW60bxr1TliN5hkDm6jbt97aguHBZr2mcWtPDYj3i3iQSsmZvD3W78bnN3h4EHcgICAgICAgp9r3Ff8Tqn5NY/VoLXYRgjw2IjbeOTbHjKDG5JxDnZANqxNF4uBIJtgcTX+0g2aAgICAgINTnsJjOpsJlunc1X7ZiM5jrmJydUTTVzYoX68lW1CJ60kNiHiQyuG8xzXDXUEFBUzI/cc+7bWxt+aLom+HwUbckZ/mzqg6OjryOadHZUg6Ee+CEFfvum/dN7jO8LuM6U6p6p6VuX83ft9Rx2rUfUefpskbT6gyNOuBXp5CCvHuV4GjY0akanaUH6Bd2PdL0J3PYS5070BiJcPir+TlzFuCbJZHJvmyE1atUfPxslatSxg16cbd1pazyddNSSQkhAQEBAQEBBAnM+9b2b9NfCVvnaCZsC6u/B4Z9So+hUfisc6rRkBElKu6nCYakgO0PrRkMPjag2qAgICAgICDqsQR2YJq0oJisRSQSAEtJjlY6N4DhtaS1x2+8g8B3Vd2eA7oeh8T0F0zPkrWIxEmRlr2MtPDZvyvyWQs5KczS169WEhs1otaGxt0aBrqdSQkRAQEBAQEBAQVm5XQ9u8vy4fWqCxeMF0Y3HjJvikyQo1BkHwaCB93s8fa3wgbBE6feLfEgzkBAQEBAQEBAQEBAQEBAQEBBVLm/d/7JM7/hm+fILLdPtptwOEbj55LVBuIxraNqYl0tmmKcIrTyucA4yTQ7rnE7dSg26AgICAgICAgICAgICAgICAgg7g9+f8S6U+BYgmDDvfJiMVJJSGNkfjaL5McAAMe91aJz6QAAAFVx4f8AdQbFAQEBAQEBAQEBAQEBAQEBAQVI5Z3Q/wDvep/hLnzBBafEsnjxWMjs3GZCyzH0mWL8ZBjvTtrRiW4wjYWWZAXjxOQbBAQEBAQEBAQEBAQEBAQEBAQVz5tmvYZT+Rx/VKCdenzSOBwhxscsOOOIxpx8U4ImipGlCascwdq4Ssg3Q7XbqEG3QEBAQEBAQEBAQEBAQEBAQEFeuTdce2DFfCUv1CCdsW647GY52Rhir5B1Cm69XgOsEFw14zahhI2GKKfea3xBBnoCAgICAgICAgICAgICAgICCn/aO43+AdTfAzfOEFoemrVWXEUqcN43rGMpUaN50z9bjbEVSEF9xhax4lsNHEDi0NkDt5urSCg36AgICAgICAgICAgICAgICDFuXa1GEzWpWRM1DW7x8qR5BLWRtGrnuIBOgB0AJ9wFBDXP+tP9Poz5Hk/yUGB1f6suq/2rH+cUUGuzH797jf2ar5pWQZWJ+3XfF9CO83toPE2fUfiPS2bznKIJHveubpD0Vk+KyCDyGF+znfb9K2f6ZEHVk/sZ3K/SWN84oIPc1fXT1J6LM81xKCL63qQ6m9JX/HU0HuM19se5j6Oi8wcg+cR9pu+76Kt/E5RB4+/6nejPSs+d5JBI9j144b0Tn+LkQeIw32J74fp2X4ysgy8n+4u4r9qo/wCfEoPTY71t94HozH5rRQRsz1EZP0ns+chBKuZ/enTvojW+PCDrQf/Z"},933:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},s=t(1),l=a(s);t(934);var u=t(888),c=a(u),d=t(232);t(863);var p=(t(166),t(918)),f=a(p),m=t(872),g=t(871),h=a(g);d.moment.locale("zh-cn");var y=(d.Radio.Group,d.Form.Item,d.Select.Option,function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={setuserid:"",selectedIndex:2,mainHeight:document.documentElement.clientHeight-50,tags:["共享","公司","个人"],uploadData:[],imgsData:[],imgsNum:0}}return i(t,e),n(t,[{key:"render",value:function(){var e=this,t=this.props.params.title||"元素库",a={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:this.state.tags,mainHeight:this.state.mainHeight,title:t,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:l.default.createElement("div",{className:"repertorypub-main-ui",style:{height:this.state.mainHeight}},l.default.createElement("div",{className:"pad-10"},l.default.createElement("div",{className:"zmiti-repertorypub-header"},l.default.createElement(d.Row,null,l.default.createElement(d.Col,{span:8,className:"zmiti-repertorypub-header-inner"},"个人"),l.default.createElement(d.Col,{span:8,offset:8,className:"zmiti-repertorypub-button-right"},l.default.createElement("div",{className:"repertoryUpBtn"},l.default.createElement(d.Button,{type:"primary",icon:"upload",size:"default"},"上传"),l.default.createElement("input",{ref:"upload-file",onChange:this.uploadFile.bind(this),type:"file"})),l.default.createElement("div",{className:"clear"})))),l.default.createElement("div",{className:"zmiti-repertorypub-line"}),l.default.createElement("div",{className:"hr20"}),l.default.createElement("div",{className:"repertorypub-column"},l.default.createElement("div",{className:"repertorypub-picList",ref:"acc-scan-C"},l.default.createElement("ul",{className:"repertorypub-imgs"},this.state.imgsData.map(function(t,a){return l.default.createElement("li",{key:a},l.default.createElement("div",{className:"repertorypub-pics"},l.default.createElement("img",{src:t.src})),l.default.createElement(d.Button,{shape:"circle",icon:"delete",onClick:e.delImg.bind(e,t.id)}),l.default.createElement("div",{className:"repertorypub-size"},t.storageSize,"（",t.size,"）"))}))),l.default.createElement("div",{className:"clear"}))))},r=l.default.createElement("div",null,l.default.createElement(c.default,a));return l.default.createElement(f.default,{component:r})}},{key:"componentDidMount",value:function(){var e=this;e.getPersonalImg()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,r=e.loginOut;t(this);var i=a(function(){r(void 0,void 0,!1)},this),n=(i.username,i.userid),o=i.getusersigid;this.userid=n,this.getusersigid=o}},{key:"changeAccount",value:function(e){this.state.selectedIndex=1*e,this.state.keyword="",this.forceUpdate(),0===e?window.location="#/repertorypub/":1===e?window.location="#/repertorycom/":window.location="#/repertoryper/"}},{key:"uploadFile",value:function(){var e=(this.props.params.userid?this.props.params.userid:this.userid,new FormData),t=this;e.append("userid",t.userid),e.append("getusersigid",t.getusersigid),e.append("setuploadtype","0"),e.append("setdatainfoclassid","1465782065"),e.append("setupfile",this.refs["upload-file"].files[0]),h.default.ajax({url:window.baseUrl+"upload/upload_file",type:"POST",data:e,contentType:!1,processData:!1,success:function(e){0===e.getret&&(console.log(e),t.getPersonalImg(),t.forceUpdate())}})}},{key:"getPersonalImg",value:function(){var e=this;h.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"datainfoclass/get_datainfo/",data:{userid:e.userid,getusersigid:e.getusersigid,setdatainfoclassid:1465782065,setdatainfotype:0},success:function(t){console.log(t,"图片列表"),e.state.imgsData=t.allImgs,e.state.imgsNum=t.allImgs.length,e.forceUpdate()}})}},{key:"delImg",value:function(e){var t=this;console.log(e),h.default.ajax({url:window.baseUrl+"datainfoclass/resource_del/",data:{userid:t.userid,getusersigid:t.getusersigid,setdatainfoid:e},success:function(e){0===e.getret&&(console.log(e,"删除成功！"),t.getPersonalImg(),t.forceUpdate())}})}}]),t}(s.Component));exports.default=(0,m.ZmitiValidateUser)(y),e.exports=exports.default}).call(this)}finally{}},934:function(e,exports,t){var a=t(935);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},935:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,'.repertoryper-main-ui{overflow:auto}.repertoryper-main-ui .repertoryper-column{margin:20px}.repertoryper-main-ui .zmiti-repertoryper-header-inner{padding-left:8px;margin-top:10px;position:relative}.repertoryper-main-ui .zmiti-repertoryper-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.repertoryper-main-ui .zmiti-repertoryper-button-right button{float:right;margin-top:5px}.repertoryper-main-ui .zmiti-repertoryper-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.repertoryper-main-ui .repertoryper-add{width:145px;height:145px;float:left;background:url('+t(936)+") no-repeat}.repertoryper-main-ui .repertoryper-add input{width:145px;height:145px;border:none;opacity:0;background:none;cursor:pointer}.repertoryper-main-ui .repertoryUpBtn{width:80px;height:35px;overflow:hidden;float:right;position:relative}.repertoryper-main-ui .repertoryUpBtn button{cursor:pointer}.repertoryper-main-ui .repertoryUpBtn input{width:130px;height:25px;overflow:hidden;position:absolute;left:-40px;top:5px;opacity:0;cursor:pointer}.repertoryper-main-ui .repertoryper-picList li{width:182px;float:left;margin:0 10px 10px 0;position:relative}.repertoryper-main-ui .repertoryper-picList li .repertoryper-pics{border:1px solid #ccc}.repertoryper-main-ui .repertoryper-picList li img{display:block;width:180px;height:180px}.repertoryper-main-ui .repertoryper-picList li .ant-btn{position:absolute;display:none;left:78px;top:78px}.repertoryper-main-ui .repertoryper-picList li:hover .repertoryper-pics{opacity:.3}.repertoryper-main-ui .repertoryper-picList li:hover .ant-btn{display:block}",""])},936:function(e,exports){e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6RUI3MEU0RUEyMTk0RTUxMUIyMTk4NjNBQkUyREVENzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjYzMEJFQUUyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjYzMEJFQUQyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNDFDNTU2QUU1MjRFNzExODg4QUIxRTY3RTNDMDgxMSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmZiOGE5YTI1LTVjMWYtMTE3YS04NmZlLTkwNmUxMmU2YzA5ZCIvPiA8L3JkZjpEZXNjcmlwdGlv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"},937:function(e,exports,t){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=n,a=o,r=!0,s=u=void 0}},l=t(1),u=a(l);t(938);var c=t(888),d=a(c),p=t(232),f=t(231),m=a(f),g=t(872),h=t(871),y=a(h),v=p.Select.Option,E=p.Form.Item,A=function(e){function t(e){r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={setuserid:"",selectedIndex:0,mainHeight:document.documentElement.clientHeight-50,dialogHeight:document.documentElement.clientHeight,tags:[],classname:"",classtype:1465782065,datatype:0,voiceurl:"",dataSource:[],workdataid:"",keyword:"",disabled:!1},this.currentId=void 0}return i(t,e),o(t,[{key:"render",value:function(){var e=this,t={labelCol:{span:6},wrapperCol:{span:14}},a={wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:6}}},r=this.props.params.title||"素材云盘",i={userid:this.userid,changeAccount:this.changeAccount.bind(this),tags:this.state.tags,mainHeight:this.state.mainHeight,title:r,type:"workorder-1",selectedIndex:this.state.selectedIndex,rightType:"custom",customRightComponent:u.default.createElement("div",{className:"categoryrepertory-main-ui",style:{height:this.state.mainHeight}},u.default.createElement("div",{className:"pad-10"},u.default.createElement("div",{className:"zmiti-categoryrepertory-header"},u.default.createElement(p.Row,null,u.default.createElement(p.Col,{span:8,className:"zmiti-categoryrepertory-header-inner"},"素材云盘"),u.default.createElement(p.Col,{span:8,offset:8,className:"zmiti-categoryrepertory-button-right"},u.default.createElement(p.Button,{type:"primary",icon:"left",onClick:this.goback.bind(this)},"返回")))),u.default.createElement("div",{className:"zmiti-categoryrepertory-line"}),u.default.createElement("div",{className:"hr20"})),u.default.createElement(p.Form,null,u.default.createElement(E,n({},t,{label:"父级分类",hasFeedback:!0}),u.default.createElement(p.Select,{placeholder:"父级分类",onChange:function(t){e.state.classtype=t,e.forceUpdate()},value:this.state.classtype},this.state.dataSource.map(function(e,t){return u.default.createElement(v,{key:t,value:1*e.datainfoclassid},e.classname)}))),u.default.createElement(E,n({},t,{label:"分类名称",hasFeedback:!0}),u.default.createElement(p.Input,{placeholder:"分类名称",value:this.state.classname,onChange:function(t){e.state.classname=t.target.value,e.forceUpdate()}})),u.default.createElement(E,n({},t,{label:"类型",hasFeedback:!0}),u.default.createElement(p.Select,{placeholder:"类型",onChange:function(t){e.state.datatype=t,e.forceUpdate()},value:this.state.datatype},u.default.createElement(v,{value:0},"图片"),u.default.createElement(v,{value:1},"音频"),u.default.createElement(v,{value:2},"视频"),u.default.createElement(v,{value:3},"VR视频"))),u.default.createElement(E,a,u.default.createElement(p.Button,{type:"primary",icon:"save",htmlType:"submit",size:"large",onClick:this.saveinformation.bind(this)},"提交"))))},o=u.default.createElement("div",null,u.default.createElement(d.default,i));return u.default.createElement(m.default,{component:o})}},{key:"componentDidMount",value:function(){var e=this;e.getinformation(),e.getcategory()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.resizeMainHeight,a=e.validateUser,r=e.loginOut;t(this);var i=a(function(){r(void 0,void 0,!1)},this),n=(i.username,i.userid),o=i.getusersigid;this.userid=n,this.getusersigid=o}},{key:"changeAccount",value:function(e){window.location="#/datum/",this.forceUpdate()}},{key:"goback",value:function(){window.history.go(-1)}},{key:"getinformation",value:function(){var e=this;this.currentId=e.props.params.id,void 0!=this.currentId?y.default.ajax({type:"POST",url:window.baseUrl+"document/get_documendetial/",data:{userid:e.userid,getusersigid:e.getusersigid,documentid:e.props.params.id},success:function(t){0===t.getret&&(e.setState({disabled:!0,datainfoclassid:t.detial.datainfoclassid,classname:t.detial.classname,datatype:t.detial.datatype}),e.forceUpdate())}}):(this.setState({disabled:!1,classname:"",datainfoclassid:1465782065,datatype:0}),e.forceUpdate())}},{key:"saveinformation",value:function(){var e=this;this.currentId=e.props.params.id;var t={userid:e.userid,getusersigid:e.getusersigid,setparentid:e.state.datainfoclassid,setclassname:e.state.classname,setdataclasstype:e.state.datatype};void 0!=this.currentId||y.default.ajax({type:window.ajaxType||"get",url:window.baseUrl+"datainfoclass/add_class_info/",data:t,success:function(t){p.message[0===t.getret?"success":"error"](t.getmsg),e.forceUpdate(),console.log(this.url)}})}},{key:"getcategory",value:function(){var e=this;y.default.ajax({type:"POST",url:window.baseUrl+"datainfoclass/get_datainfoclass/",data:{userid:e.userid,getusersigid:e.getusersigid},success:function(t){if(0===t.getret){console.log(t,"get_documentclasslist");var a=new Array;y.default.each(t.getdatainfoclass,function(e,t){null===t.parentid&&a.push(t.classname)}),e.state.tags=a,e.state.dataSource=t.getdatainfoclass,console.log(e.state.dataSource,"s.state.dataSource"),e.forceUpdate()}else console.log(this.url,"error:get_documentclasslist")}})}}]),t}(l.Component);exports.default=(0,g.ZmitiValidateUser)(A),e.exports=exports.default}).call(this)}finally{}},938:function(e,exports,t){var a=t(939);"string"==typeof a&&(a=[[e.id,a,""]]);t(869)(a,{});a.locals&&(e.exports=a.locals)},939:function(e,exports,t){exports=e.exports=t(868)(),exports.push([e.id,'.categoryrepertory-main-ui{overflow:auto}.categoryrepertory-main-ui .categoryrepertory-column{margin:20px}.categoryrepertory-main-ui .zmiti-categoryrepertory-header-inner{padding-left:8px;margin-top:10px;position:relative}.categoryrepertory-main-ui .zmiti-categoryrepertory-header-inner:before{content:"";position:absolute;width:2px;height:100%;background:#88b7e0;left:0;-webkit-transform:scaleY(.7);transform:scaleY(.7)}.categoryrepertory-main-ui .zmiti-categoryrepertory-button-right button{float:right;margin-top:5px}.categoryrepertory-main-ui .zmiti-categoryrepertory-line{height:15px;overflow:hidden;border-bottom:1px solid #ddd}.categoryrepertory-main-ui .categoryrepertory-add{width:145px;height:145px;float:left;background:url('+t(940)+") no-repeat}.categoryrepertory-main-ui .categoryrepertory-add input{width:145px;height:145px;border:none;opacity:0;background:none;cursor:pointer}.categoryrepertory-main-ui .repertoryUpBtn{width:80px;height:35px;overflow:hidden;float:right;position:relative}.categoryrepertory-main-ui .repertoryUpBtn button{cursor:pointer}.categoryrepertory-main-ui .repertoryUpBtn input{width:130px;height:25px;overflow:hidden;position:absolute;left:-40px;top:5px;opacity:0;cursor:pointer}.categoryrepertory-main-ui .categoryrepertory-picList li{width:182px;float:left;margin:0 10px 10px 0;position:relative}.categoryrepertory-main-ui .categoryrepertory-picList li .categoryrepertory-pics{border:1px solid #ccc}.categoryrepertory-main-ui .categoryrepertory-picList li img{display:block;width:180px;height:180px}.categoryrepertory-main-ui .categoryrepertory-picList li .ant-btn{position:absolute;display:none;left:78px;top:78px}.categoryrepertory-main-ui .categoryrepertory-picList li:hover .categoryrepertory-pics{opacity:.3}.categoryrepertory-main-ui .categoryrepertory-picList li:hover .ant-btn{display:block}",""]);
},940:function(e,exports){e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6RUI3MEU0RUEyMTk0RTUxMUIyMTk4NjNBQkUyREVENzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjYzMEJFQUUyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjYzMEJFQUQyNTk2MTFFN0JGQzk5Q0E4RTFCQkY2QjEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNDFDNTU2QUU1MjRFNzExODg4QUIxRTY3RTNDMDgxMSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmZiOGE5YTI1LTVjMWYtMTE3YS04NmZlLTkwNmUxMmU2YzA5ZCIvPiA8L3JkZjpEZXNjcmlwdGlv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"}});